{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///./docs/index.js","webpack:///external \"React\"?9de9","webpack:///external \"ReactDOM\"?4ab4","webpack:///external \"d3\"?c0c4","webpack:///./src/index.js?9552","webpack:///./src/lib/ChartCanvas.jsx?7438","webpack:///./~/process/browser.js?82e4","webpack:///./src/lib/utils/index.js?e0ab","webpack:///./src/lib/utils/zipper.js?4bd0","webpack:///./src/lib/utils/identity.js?b6e1","webpack:///./src/lib/utils/merge.js?4281","webpack:///./src/lib/utils/noop.js?2179","webpack:///./src/lib/utils/slidingWindow.js?5eab","webpack:///./src/lib/utils/shallowEqual.js?168c","webpack:///./src/lib/utils/mappedSlidingWindow.js?65c8","webpack:///./src/lib/utils/accumulatingWindow.js?992e","webpack:///./src/lib/utils/ChartDataUtil.js?e8c9","webpack:///./~/lodash.flattendeep/index.js?d6a0","webpack:///./~/lodash._baseflatten/index.js?fb64","webpack:///./src/lib/EventCapture.jsx?1b20","webpack:///./src/lib/Chart.jsx?3e79","webpack:///./src/lib/utils/PureComponent.js?bad7","webpack:///./src/lib/EventHandler.js?6152","webpack:///./src/lib/CanvasContainer.jsx?a844","webpack:///./src/lib/scale/evaluator.js?b091","webpack:///./src/lib/BackgroundText.jsx?a819","webpack:///./src/lib/series/index.js?3f9e","webpack:///./src/lib/series/AreaSeries.jsx?2ba8","webpack:///./src/lib/series/Line.jsx?9361","webpack:///./src/lib/series/wrap.jsx?2f4f","webpack:///./src/lib/pure.jsx?1855","webpack:///./src/lib/series/Area.jsx?4271","webpack:///./src/lib/series/ScatterSeries.jsx?20c8","webpack:///./src/lib/series/CircleMarker.jsx?f328","webpack:///./src/lib/series/LineSeries.jsx?d5d7","webpack:///./src/lib/series/CandlestickSeries.jsx?9a62","webpack:///./src/lib/series/OHLCSeries.jsx?eeff","webpack:///./src/lib/series/BarSeries.jsx?a3a4","webpack:///./src/lib/series/StackedBarSeries.jsx?7690","webpack:///./src/lib/series/GroupedBarSeries.jsx?acad","webpack:///./src/lib/series/KagiSeries.jsx?5139","webpack:///./src/lib/series/PointAndFigureSeries.jsx?e3ff","webpack:///./src/lib/series/RenkoSeries.jsx?557f","webpack:///./src/lib/series/MACDSeries.jsx?8a50","webpack:///./src/lib/series/StraightLine.jsx?5ea6","webpack:///./src/lib/series/BollingerSeries.jsx?43ec","webpack:///./src/lib/series/RSISeries.jsx?ea70","webpack:///./src/lib/series/StochasticSeries.jsx?377c","webpack:///./src/lib/series/ElderRaySeries.jsx?99cb","webpack:///./src/lib/series/OverlayBarSeries.jsx?96df","webpack:///./src/lib/series/VolumeProfileSeries.jsx?7bcc","webpack:///./src/lib/scale/index.js?43aa","webpack:///./src/lib/scale/discontinuousTimeScaleProvider.js?4143","webpack:///./src/lib/scale/financeDiscontinuousScale.js?48c9","webpack:///./src/lib/coordinates/index.js?fbce","webpack:///./src/lib/coordinates/EdgeIndicator.jsx?e722","webpack:///./src/lib/coordinates/EdgeCoordinate.jsx?a1d6","webpack:///./src/lib/coordinates/CurrentCoordinate.jsx?e871","webpack:///./src/lib/coordinates/MouseCoordinateX.jsx?8b0d","webpack:///./src/lib/coordinates/MouseCoordinateY.jsx?3b39","webpack:///./src/lib/coordinates/CrossHairCursor.jsx?6dd5","webpack:///./src/lib/indicator/index.js?ab08","webpack:///./src/lib/indicator/defaultOptions.js?41af","webpack:///./src/lib/indicator/ema.js?b3cc","webpack:///./src/lib/indicator/algorithm/index.js?7e8d","webpack:///./src/lib/indicator/algorithm/ema.js?073c","webpack:///./src/lib/indicator/algorithm/bollingerband.js?67d5","webpack:///./src/lib/indicator/algorithm/haikinAshi.js?fa15","webpack:///./src/lib/indicator/algorithm/kagi.js?0705","webpack:///./src/lib/indicator/algorithm/atr.js?4042","webpack:///./src/lib/indicator/algorithm/pointAndFigure.js?f72d","webpack:///./src/lib/indicator/algorithm/renko.js?f509","webpack:///./src/lib/indicator/algorithm/macd.js?e1ef","webpack:///./src/lib/indicator/algorithm/rsi.js?6421","webpack:///./src/lib/indicator/algorithm/sto.js?d256","webpack:///./src/lib/indicator/algorithm/forceIndex.js?ddb1","webpack:///./src/lib/indicator/algorithm/elderRay.js?c5fb","webpack:///./src/lib/indicator/algorithm/compare.js?7168","webpack:///./src/lib/indicator/baseIndicator.js?a8c6","webpack:///./src/lib/indicator/sma.js?d613","webpack:///./src/lib/indicator/bollingerBand.js?b369","webpack:///./src/lib/indicator/haikinAshi.js?a672","webpack:///./src/lib/indicator/kagi.js?bf12","webpack:///./src/lib/indicator/pointAndFigure.js?f1e4","webpack:///./src/lib/indicator/renko.js?34c6","webpack:///./src/lib/indicator/macd.js?cc5d","webpack:///./src/lib/indicator/rsi.js?60ce","webpack:///./src/lib/indicator/atr.js?0fb7","webpack:///./src/lib/indicator/stochasticOscillator.js?48e5","webpack:///./src/lib/indicator/forceIndex.js?176f","webpack:///./src/lib/indicator/elderRay.js?324d","webpack:///./src/lib/indicator/change.js?3bb4","webpack:///./src/lib/indicator/elderImpulse.js?037a","webpack:///./src/lib/indicator/compare.js?b5b6","webpack:///./src/lib/algorithm/index.js?6f01","webpack:///./src/lib/annotation/index.js?7d0d","webpack:///./src/lib/annotation/Annotate.jsx?769c","webpack:///./src/lib/annotation/LabelAnnotation.jsx?83ab","webpack:///./src/lib/annotation/SvgPathAnnotation.jsx?d8de","webpack:///./src/lib/annotation/Label.jsx?07fe","webpack:///./src/lib/axes/index.js?1524","webpack:///./src/lib/axes/XAxis.jsx?1eaa","webpack:///./src/lib/axes/Axis.jsx?ba1c","webpack:///./src/lib/axes/AxisTicks.jsx?312a","webpack:///./src/lib/axes/AxisLine.jsx?9abf","webpack:///./src/lib/axes/YAxis.jsx?724a","webpack:///./src/lib/tooltip/index.js?b4b2","webpack:///./src/lib/tooltip/MACDTooltip.jsx?abbc","webpack:///./src/lib/tooltip/ToolTipText.jsx?6a34","webpack:///./src/lib/tooltip/ToolTipTSpanLabel.jsx?6b8d","webpack:///./src/lib/tooltip/TooltipContainer.jsx?3d5e","webpack:///./src/lib/tooltip/OHLCTooltip.jsx?44b2","webpack:///./src/lib/tooltip/SingleValueTooltip.jsx?e9f1","webpack:///./src/lib/tooltip/MovingAverageTooltip.jsx?e991","webpack:///./src/lib/tooltip/BollingerBandTooltip.jsx?8ad3","webpack:///./src/lib/tooltip/RSITooltip.jsx?4b6a","webpack:///./src/lib/tooltip/StochasticTooltip.jsx?c2c2","webpack:///./src/lib/tooltip/HoverTooltip.jsx?dc00","webpack:///./src/lib/helper/index.js?fb70","webpack:///./src/lib/helper/TypeChooser.jsx?8497","webpack:///./src/lib/helper/ChartWidthMixin.jsx?55ef","webpack:///./src/lib/helper/SaveChartAsImage.js?d467","webpack:///./~/save-svg-as-png/saveSvgAsPng.js?a2c2","webpack:///./src/lib/helper/fitWidth.jsx?aec7","webpack:///./src/lib/interactive/index.js?068b","webpack:///./src/lib/interactive/TrendLine.jsx?143d","webpack:///./src/lib/interactive/makeInteractive.jsx?c912","webpack:///./src/lib/interactive/FibonacciRetracement.jsx?d152","webpack:///./src/lib/interactive/ClickCallback.jsx?6a9f","webpack:///./src/lib/interactive/Brush.jsx?03d6","webpack:///./docs/stylesheets/re-stock.scss?8c16*","webpack:///./docs/stylesheets/re-stock.scss?3e89","webpack:///./~/css-loader/lib/css-base.js?da04","webpack:///./docs/images/github-button.png?2812","webpack:///./~/style-loader/addStyles.js?b980","webpack:///./docs/lib/charts/CandleStickChartWithDarkTheme.jsx?dfec","webpack:///./docs/md/MAIN.md"],"names":[],"mappings":"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AEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,QAAQ;AACnB,YAAW,QAAQ;AACnB,YAAW,MAAM;AACjB,cAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,cAAa,EAAE;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA,8BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,cAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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Af,EAAuB,GAAvB;AACA,MAAE,YAAF,CAAe,UAAf,EAA2B,WAA3B;;AAEA,aAAS,IAAT,CAAc,WAAd,CAA0B,CAA1B;AACA,MAAE,gBAAF,CAAmB,OAAnB,EAA4B,Y,OAAkB;AAC7C,OAAE,UAAF,CAAa,WAAb,CAAyB,CAAzB;AACA,KAFD;;AAIA,MAAE,KAAF;AACA,IAXD;AAYA;AApDqB,EAAvB;;mBAuDe,gB;;;;;;AC5Df;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,oBAAmB,mBAAmB;AACtC;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA,wBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,oCAAmC,6BAA6B;AAChE,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qCAAoC,EAAE;AACtC;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC;AACpC;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AAC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AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;AACA;AACA;AACA,GAAE;AACF;AACA,GAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrPA;;;;;;;;;;AAEA;;;;AACA;;;;AAEA;;;;;;;;;;;;KAEM,W,iBAAA,W;KAAa,K,iBAAA,K;KAAO,Y,iBAAA,Y;uBAEwE,cAAQ,M;KAApG,iB,mBAAA,iB;KAAmB,S,mBA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","file":"react-stockcharts-home.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"ReactDOM\"), require(\"d3\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"React\", \"ReactDOM\", \"d3\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReStock\"] = factory(require(\"React\"), require(\"ReactDOM\"), require(\"d3\"));\n\telse\n\t\troot[\"ReStock\"] = factory(root[\"React\"], root[\"ReactDOM\"], root[\"d3\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","'use strict';\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport d3 from \"d3\";\n\nimport Chart from \"./lib/charts/CandleStickChartWithDarkTheme\";\n// import Chart from \"./lib/charts/OHLCChartWithElderRayIndicator\";\n\nvar ReadME = require('md/MAIN.md');\n\nrequire('stylesheets/re-stock');\n\ndocument.getElementById(\"content\").innerHTML = ReadME;\n\nvar parseDate = d3.time.format(\"%Y-%m-%d\").parse\nd3.tsv(\"data/MSFT.tsv\", function(err, data) {\n\tdata.forEach((d, i) => {\n\t\td.date = new Date(parseDate(d.date).getTime());\n\t\td.open = +d.open;\n\t\td.high = +d.high;\n\t\td.low = +d.low;\n\t\td.close = +d.close;\n\t\td.volume = +d.volume;\n\t\t// console.log(d);\n\t});\n\n\tReactDOM.render(<Chart data={data} type=\"hybrid\"/>, document.getElementById(\"chart\"));\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./docs/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"React\"\n ** module id = 1\n ** module chunks = 0 2\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"ReactDOM\"\n ** module id = 2\n ** module chunks = 0 2\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external \"d3\"\n ** module id = 3\n ** module chunks = 0 2\n **/","\"use strict\";\n\n// common components\nimport ChartCanvas from \"./lib/ChartCanvas\";\nimport Chart from \"./lib/Chart\";\n\nimport BackgroundText from \"./lib/BackgroundText\";\n\n// interaction components\nimport EventCapture from \"./lib/EventCapture\";\n\n// chart types & Series\nimport * as series from \"./lib/series\";\nimport * as scale from \"./lib/scale\";\n\nimport * as coordinates from \"./lib/coordinates\";\nimport * as indicator from \"./lib/indicator\";\nimport * as algorithm from \"./lib/algorithm\";\n\nimport * as annotation from \"./lib/annotation\";\n\nimport * as axes from \"./lib/axes\";\nimport * as tooltip from \"./lib/tooltip\";\nimport * as helper from \"./lib/helper\";\n\nimport * as interactive from \"./lib/interactive\";\nimport * as Utils from \"./lib/utils\";\n\nconst version = \"0.5.0-alpha1\";\n\nexport default {\n\tChartCanvas,\n\tChart,\n\tEventCapture,\n\tBackgroundText,\n\tseries,\n\tcoordinates,\n\tindicator,\n\talgorithm,\n\taxes,\n\tscale,\n\ttooltip,\n\tannotation,\n\thelper,\n\tinteractive,\n\tversion,\n\tUtils\n};\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { shallowEqual, identity, isDefined } from \"./utils\";\nimport { shouldShowCrossHairStyle } from \"./utils/ChartDataUtil\";\n\nimport EventHandler from \"./EventHandler\";\nimport CanvasContainer from \"./CanvasContainer\";\nimport evaluator from \"./scale/evaluator\";\n\nconst CANDIDATES_FOR_RESET = [\"seriesName\", /* \"data\",*/\n\t\"xScaleProvider\", /* \"xAccessor\",*/\"map\",\n\t\"indexAccessor\", \"indexMutator\"];\n\nfunction shouldResetChart(thisProps, nextProps) {\n\treturn !CANDIDATES_FOR_RESET.every(key => {\n\t\tvar result = shallowEqual(thisProps[key], nextProps[key]);\n\t\t// console.log(key, result);\n\t\treturn result;\n\t});\n}\n\nfunction getDimensions(props) {\n\treturn {\n\t\theight: props.height - props.margin.top - props.margin.bottom,\n\t\twidth: props.width - props.margin.left - props.margin.right,\n\t};\n}\n\nfunction calculateFullData(props) {\n\tvar { data: inputData, calculator, plotFull, xScale: xScaleProp } = props;\n\tvar { xAccessor: inputXAccesor, map, xScaleProvider, indexAccessor, indexMutator } = props;\n\n\tvar wholeData = isDefined(plotFull)\n\t\t\t? plotFull\n\t\t\t: inputXAccesor === identity;\n\n\t// xScale = discontinuousTimeScaleProvider(data);\n\tvar dimensions = getDimensions(props);\n\tvar evaluate = evaluator()\n\t\t// .allowedIntervals(allowedIntervals)\n\t\t// .intervalCalculator(intervalCalculator)\n\t\t.xAccessor(inputXAccesor)\n\t\t// .discontinuous(discontinuous)\n\t\t.indexAccessor(indexAccessor)\n\t\t.indexMutator(indexMutator)\n\t\t.map(map)\n\t\t.useWholeData(wholeData)\n\t\t.width(dimensions.width)\n\t\t.scaleProvider(xScaleProvider)\n\t\t.xScale(xScaleProp)\n\t\t.calculator(calculator);\n\n\tvar { xAccessor, displayXAccessor, xScale, filterData, lastItem } = evaluate(inputData);\n\n\treturn { xAccessor, displayXAccessor, xScale, filterData, lastItem };\n}\n\nfunction calculateState(props) {\n\n\tvar { xAccessor: inputXAccesor, xExtents: xExtentsProp, data } = props;\n\n\tvar extent = typeof xExtentsProp === \"function\"\n\t\t? xExtentsProp(data)\n\t\t: d3.extent(xExtentsProp.map(d => d3.functor(d)).map(each => each(data, inputXAccesor)));\n\n\tvar { xAccessor, displayXAccessor, xScale, filterData, lastItem } = calculateFullData(props);\n\n\tvar { plotData, domain } = filterData(extent, inputXAccesor);\n\n\treturn {\n\t\tplotData,\n\t\tfilterData,\n\t\txScale: xScale.domain(domain),\n\t\txAccessor,\n\t\tdisplayXAccessor,\n\t\tdataAltered: false,\n\t\tlastItem,\n\t};\n}\n\nfunction getCursorStyle(children) {\n\tvar style = `\n\t.react-stockcharts-grabbing-cursor {\n\t\tcursor: grabbing;\n\t\tcursor: -moz-grabbing;\n\t\tcursor: -webkit-grabbing;\n\t}\n\t.react-stockcharts-crosshair-cursor {\n\t\tcursor: crosshair;\n\t}\n\t.react-stockcharts-toottip-hover {\n\t\tpointer-events: all;\n\t\tcursor: pointer;\n\t}`;\n\tvar tooltipStyle = `\n\t.react-stockcharts-avoid-interaction {\n  \t\tpointer-events: none;\n\t}\n\t.react-stockcharts-default-cursor {\n\t\tcursor: default;\n\t}\n\t.react-stockcharts-move-cursor {\n\t\tcursor: move;\n\t}\n\t.react-stockcharts-ns-resize-cursor {\n\t\tcursor: ns-resize;\n\t}\n\t.react-stockcharts-ew-resize-cursor {\n\t\tcursor: ew-resize;\n\t}`;\n\t/* return (<style\n\t\ttype=\"text/css\"\n\t\tdangerouslySetInnerHTML={{\n\t\t\t__html: shouldShowCrossHairStyle(children) ? style + tooltipStyle : tooltipStyle\n\t\t}}></style>);*/\n\treturn (<style type=\"text/css\">{shouldShowCrossHairStyle(children) ? style + tooltipStyle : tooltipStyle}</style>);\n}\n\nclass ChartCanvas extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.getDataInfo = this.getDataInfo.bind(this);\n\t\tthis.getCanvases = this.getCanvases.bind(this);\n\t}\n\tgetDataInfo() {\n\t\treturn this.refs.chartContainer.getDataInfo();\n\t}\n\tgetCanvases() {\n\t\tif (this.refs && this.refs.canvases) {\n\t\t\treturn this.refs.canvases.getCanvasContexts();\n\t\t}\n\t}\n\tcomponentWillMount() {\n\t\tthis.setState(calculateState(this.props));\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tvar reset = shouldResetChart(this.props, nextProps);\n\t\t// console.log(\"shouldResetChart =\", reset);\n\n\t\t/*\n\t\tplotData,\n\t\tfilterData,\n\t\txScale: xScale.domain(domain),\n\t\txAccessor,\n\t\tdataAltered: false,\n\t\tlastItem, */\n\n\t\tif (reset) {\n\t\t\tif (process.env.NODE_ENV !== \"production\") console.log(\"RESET CHART, one or more of these props changed\", CANDIDATES_FOR_RESET);\n\t\t\tthis.setState(calculateState(nextProps));\n\t\t} else if (!shallowEqual(this.props.xExtents, nextProps.xExtents)) {\n\t\t\tif (process.env.NODE_ENV !== \"production\") console.log(\"xExtents changed\");\n\t\t\t// since the xExtents changed update plotData, xScale, filterData to state\n\t\t\tlet { plotData, xScale, xAccessor, filterData, lastItem } = calculateState(nextProps);\n\t\t\tthis.setState({ plotData, xScale, xAccessor, filterData, lastItem, dataAltered: false });\n\t\t} else if (this.props.data !== nextProps.data) {\n\t\t\tif (process.env.NODE_ENV !== \"production\") console.log(\"data is changed but seriesName did not\");\n\t\t\t// this means there are more points pushed/removed or existing points are altered\n\t\t\tlet { xScale, xAccessor, filterData, lastItem } = calculateFullData(nextProps);\n\t\t\tthis.setState({ xScale, xAccessor, filterData, lastItem, dataAltered: true });\n\t\t} else if (!shallowEqual(this.props.calculator, nextProps.calculator)) {\n\t\t\tif (process.env.NODE_ENV !== \"production\") console.log(\"calculator changed\");\n\t\t\t// data did not change but calculator changed, so update only the filterData to state\n\t\t\tlet { xAccessor, filterData, lastItem } = calculateFullData(nextProps);\n\t\t\tthis.setState({ xAccessor, filterData, lastItem, dataAltered: false });\n\t\t} else {\n\t\t\tif (process.env.NODE_ENV !== \"production\")\n\t\t\t\tconsole.log(\"Trivial change, may be width/height or type changed, but that does not matter\");\n\t\t}\n\t}\n\trender() {\n\t\tvar cursor = getCursorStyle(this.props.children);\n\n\t\tvar { type, height, width, margin, className, zIndex, postCalculator, flipXScale } = this.props;\n\t\tvar { padding } = this.props;\n\n\t\tvar { plotData, filterData, xScale, xAccessor, dataAltered, lastItem, displayXAccessor } = this.state;\n\t\tvar dimensions = getDimensions(this.props);\n\t\t// var stateProps = { fullData, plotData, showingInterval, xExtentsCalculator, xScale, xAccessor, dataAltered };\n\t\tvar props = { padding, type, margin, postCalculator };\n\t\tvar stateProps = { plotData, filterData, xScale, xAccessor, dataAltered, lastItem, displayXAccessor };\n\t\treturn (\n\t\t\t<div style={{ position: \"relative\", height: height, width: width }} className={className} >\n\t\t\t\t<CanvasContainer ref=\"canvases\" width={width} height={height} type={type} zIndex={zIndex}/>\n\t\t\t\t<svg className={className} width={width} height={height} style={{ position: \"absolute\", zIndex: (zIndex + 5) }}>\n\t\t\t\t\t{cursor}\n\t\t\t\t\t<defs>\n\t\t\t\t\t\t<clipPath id=\"chart-area-clip\">\n\t\t\t\t\t\t\t<rect x=\"0\" y=\"0\" width={dimensions.width} height={dimensions.height} />\n\t\t\t\t\t\t</clipPath>\n\t\t\t\t\t</defs>\n\t\t\t\t\t<g transform={`translate(${margin.left + 0.5}, ${margin.top + 0.5})`}>\n\t\t\t\t\t\t<EventHandler ref=\"chartContainer\"\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\t{...stateProps}\n\t\t\t\t\t\t\tdirection={flipXScale ? -1 : 1}\n\t\t\t\t\t\t\tdimensions={dimensions}\n\t\t\t\t\t\t\tcanvasContexts={this.getCanvases}>\n\t\t\t\t\t\t\t{this.props.children}\n\t\t\t\t\t\t</EventHandler>\n\t\t\t\t\t</g>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/*\n\t\t\t\t\t\t\tlastItem={last(data)}\n\n*/\n\nChartCanvas.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tmargin: PropTypes.object,\n\t// interval: PropTypes.oneOf([\"D\", \"W\", \"M\"]), // ,\"m1\", \"m5\", \"m15\", \"W\", \"M\"\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n\tdata: PropTypes.array.isRequired,\n\t// initialDisplay: PropTypes.number,\n\tcalculator: PropTypes.arrayOf(PropTypes.func).isRequired,\n\txAccessor: PropTypes.func,\n\txExtents: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\t// xScale: PropTypes.func.isRequired,\n\tclassName: PropTypes.string,\n\tseriesName: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n\tchildren: PropTypes.node.isRequired,\n\txScaleProvider: function(props, propName/* , componentName */) {\n\t\tif (isDefined(props[propName]) &&  typeof props[propName] === \"function\" && isDefined(props.xScale)) {\n\t\t\treturn new Error(\"Do not define both xScaleProvider and xScale choose only one\");\n\t\t}\n\t},\n\txScale: function(props, propName/* , componentName */) {\n\t\tif (isDefined(props[propName]) &&  typeof props[propName] === \"function\" && isDefined(props.xScaleProvider)) {\n\t\t\treturn new Error(\"Do not define both xScaleProvider and xScale choose only one\");\n\t\t}\n\t},\n\tpostCalculator: PropTypes.func.isRequired,\n\tflipXScale: PropTypes.bool.isRequired,\n\tpadding: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.shape({\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t})\n\t]).isRequired,\n};\n\nChartCanvas.defaultProps = {\n\tmargin: { top: 20, right: 30, bottom: 30, left: 80 },\n\tindexAccessor: d => d.idx,\n\tindexMutator: (d, idx) => ({ ...d, idx }),\n\tmap: identity,\n\ttype: \"hybrid\",\n\tcalculator: [],\n\tclassName: \"react-stockchart\",\n\tzIndex: 1,\n\txExtents: [d3.min, d3.max],\n\t// dataEvaluator: evaluator,\n\tpostCalculator: identity,\n\tpadding: 0,\n\txAccessor: identity,\n\tflipXScale: false,\n\t// initialDisplay: 30\n};\n\nChartCanvas.ohlcv = d => ({ date: d.date, open: d.open, high: d.high, low: d.low, close: d.close, volume: d.volume });\n\nexport default ChartCanvas;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/ChartCanvas.jsx\n **/","// shim for using process in browser\n\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\n(function () {\n  try {\n    cachedSetTimeout = setTimeout;\n  } catch (e) {\n    cachedSetTimeout = function () {\n      throw new Error('setTimeout is not defined');\n    }\n  }\n  try {\n    cachedClearTimeout = clearTimeout;\n  } catch (e) {\n    cachedClearTimeout = function () {\n      throw new Error('clearTimeout is not defined');\n    }\n  }\n} ())\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = cachedSetTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    cachedClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        cachedSetTimeout(drainQueue, 0);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/process/browser.js\n ** module id = 6\n ** module chunks = 0 2\n **/","\"use strict\";\n\n\nimport d3 from \"d3\";\n\nimport zipper from \"./zipper\";\nimport merge from \"./merge\";\nimport slidingWindow from \"./slidingWindow\";\nimport identity from \"./identity\";\nimport noop from \"./noop\";\nimport shallowEqual from \"./shallowEqual\";\nimport mappedSlidingWindow from \"./mappedSlidingWindow\";\nimport accumulatingWindow from \"./accumulatingWindow\";\n\nexport {\n\taccumulatingWindow,\n\tmappedSlidingWindow,\n\tmerge,\n\tidentity,\n\tnoop,\n\tshallowEqual,\n\tslidingWindow,\n\tzipper,\n};\n\nexport function getClosestItemIndexes2(array, value, accessor) {\n\tvar left = d3.bisector(accessor).left(array, value);\n\tleft = Math.max(left - 1, 0);\n\tvar right = Math.min(left + 1, array.length - 1);\n\n\tvar item = accessor(array[left]);\n\tif (item >= value && item <= value) right = left;\n\n\treturn { left, right };\n}\n\nexport function d3Window(node) {\n\tvar d3win = node && (node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView);\n\treturn d3win;\n}\n\nexport const MOUSEMOVE = \"mousemove.pan\";\nexport const MOUSEUP = \"mouseup.pan\";\n\nexport function getClosestItemIndexes(array, value, accessor, log) {\n\tvar lo = 0, hi = array.length - 1;\n\twhile (hi - lo > 1) {\n\t\tvar mid = Math.round((lo + hi) / 2);\n\t\tif (accessor(array[mid]) <= value) {\n\t\t\tlo = mid;\n\t\t} else {\n\t\t\thi = mid;\n\t\t}\n\t}\n\t// for Date object === does not work, so using the <= in combination with >=\n\t// the same code works for both dates and numbers\n\tif (accessor(array[lo]) >= value && accessor(array[lo]) <= value) hi = lo;\n\tif (accessor(array[hi]) >= value && accessor(array[hi]) <= value) lo = hi;\n\n\tif (accessor(array[lo]) < value && accessor(array[hi]) < value) lo = hi;\n\tif (accessor(array[lo]) > value && accessor(array[hi]) > value) hi = lo;\n\n\tif (log) {\n\t\t// console.log(lo, accessor(array[lo]), value, accessor(array[hi]), hi);\n\t\t// console.log(accessor(array[lo]), lo, value, accessor(array[lo]) >= value);\n\t\t// console.log(value, hi, accessor(array[hi]), accessor(array[lo]) <= value);\n\t}\n\t// var left = value > accessor(array[lo]) ? lo : lo;\n\t// var right = gte(value, accessor(array[hi])) ? Math.min(hi + 1, array.length - 1) : hi;\n\n\t// console.log(value, accessor(array[left]), accessor(array[right]));\n\treturn { left: lo, right: hi };\n}\n\nexport function getClosestItem(array, value, accessor, log) {\n\tvar { left, right } = getClosestItemIndexes(array, value, accessor, log);\n\n\tif (left === right) {\n\t\treturn array[left];\n\t}\n\n\tvar closest = (Math.abs(accessor(array[left]) - value) < Math.abs(accessor(array[right]) - value))\n\t\t\t\t\t\t? array[left]\n\t\t\t\t\t\t: array[right];\n\tif (log) {\n\t\tconsole.log(array[left], array[right], closest, left, right);\n\t}\n\treturn closest;\n}\n\n\nexport const overlayColors = d3.scale.category10();\n\nexport function rebind(target, source, mappings) {\n\tif (typeof(mappings) !== \"object\") {\n\t\treturn d3.rebind.apply(d3, arguments);\n\t}\n\tObject.keys(mappings)\n\t\t.forEach(function(targetName) {\n\t\t\tvar method = source[mappings[targetName]];\n\t\t\tif (typeof method !== \"function\") {\n\t\t\t\tthrow new Error(`The method ${mappings[targetName]} does not exist on the source object`);\n\t\t\t}\n\t\t\ttarget[targetName] = function() {\n\t\t\t\tvar value = method.apply(source, arguments);\n\t\t\t\treturn value === source ? target : value;\n\t\t\t};\n\t\t});\n\treturn target;\n}\n\nexport function head(array, accessor) {\n\tif (accessor && array) {\n\t\tvar value;\n\t\tfor (var i = 0; i < array.length; i++) {\n\t\t\tvalue = array[i];\n\t\t\tif (isDefined(accessor(value))) return value;\n\t\t}\n\t\treturn undefined;\n\t}\n\treturn array ? array[0] : undefined;\n}\n\nexport const first = head;\n\nexport function last(array, accessor) {\n\tif (accessor && array) {\n\t\tvar value;\n\t\tfor (var i = array.length - 1; i >= 0; i--) {\n\t\t\tvalue = array[i];\n\t\t\tif (isDefined(accessor(value))) return value;\n\t\t}\n\t\treturn undefined;\n\t}\n\tvar length = array ? array.length : 0;\n\treturn length ? array[length - 1] : undefined;\n}\n\nexport function isDefined(d) {\n\treturn d !== null && typeof d != \"undefined\";\n}\n\nexport function isNotDefined(d) {\n\treturn !isDefined(d);\n}\n\nexport function isObject(d) {\n\treturn isDefined(d) && typeof d === \"object\" && !Array.isArray(d);\n}\n\nexport const isArray = Array.isArray;\n\nexport function touchPosition(touch, e) {\n\tvar container = e.target,\n\t\trect = container.getBoundingClientRect(),\n\t\tx = touch.clientX - rect.left - container.clientLeft,\n\t\ty = touch.clientY - rect.top - container.clientTop,\n\t\txy = [Math.round(x), Math.round(y)];\n\treturn xy;\n}\n\nexport function mousePosition(e) {\n\tvar container = e.currentTarget,\n\t\trect = container.getBoundingClientRect(),\n\t\tx = e.clientX - rect.left - container.clientLeft,\n\t\ty = e.clientY - rect.top - container.clientTop,\n\t\txy = [Math.round(x), Math.round(y)];\n\treturn xy;\n}\n\n\nexport function clearCanvas(canvasList) {\n\tcanvasList.forEach(each => {\n\t\teach.setTransform(1, 0, 0, 1, 0, 0);\n\t\teach.clearRect(-1, -1, each.canvas.width + 2, each.canvas.height + 2);\n\t});\n}\n\nexport function capitalizeFirst(str) {\n\treturn str.charAt(0).toUpperCase() + str.substring(1);\n}\n\nexport function hexToRGBA(inputHex, opacity) {\n\tvar hex = inputHex.replace(\"#\", \"\");\n\tif (inputHex.indexOf(\"#\") > -1 && (hex.length === 3 || hex.length === 6)) {\n\n\t\tvar multiplier = (hex.length === 3) ? 1 : 2;\n\n\t\tvar r = parseInt(hex.substring(0, 1 * multiplier), 16);\n\t\tvar g = parseInt(hex.substring(1 * multiplier, 2 * multiplier), 16);\n\t\tvar b = parseInt(hex.substring(2 * multiplier, 3 * multiplier), 16);\n\n\t\tvar result = `rgba(${ r }, ${ g }, ${ b }, ${ opacity })`;\n\n\t\treturn result;\n\t}\n\treturn inputHex;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/index.js\n **/","\"use strict\";\n\n/* an extension to d3.zip so we call a function instead of an array */\n\nimport d3 from \"d3\";\n\nimport identity from \"./identity\";\n\nexport default function zipper() {\n\tvar combine = identity;\n\n\tfunction zip() {\n\t\tvar n = arguments.length;\n\t\tif (!n) return [];\n\t\tvar i, m = d3.min(arguments, d3_zipLength), zips = new Array(m);\n\t\tfor (i = -1; ++i < m; ) {\n\t\t\tfor (var j = -1, zip = zips[i] = new Array(n); ++j < n; ) {\n\t\t\t\tzip[j] = arguments[j][i];\n\t\t\t}\n\t\t\tzips[i] = combine.apply(this, zips[i]);\n\t\t}\n\t\treturn zips;\n\t}\n\tfunction d3_zipLength(d) {\n\t\treturn d.length;\n\t}\n\tzip.combine = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn combine;\n\t\t}\n\t\tcombine = x;\n\t\treturn zip;\n\t};\n\treturn zip;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/zipper.js\n **/","\"use strict\";\n\nexport default d => d;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/identity.js\n **/","/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/merge.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport identity from \"./identity\";\nimport zipper from \"./zipper\";\nimport noop from \"./noop\";\n\nimport { isNotDefined } from \"./index\";\n\n// applies an algorithm to an array, merging the result back into\n// the source array using the given merge function.\nexport default function() {\n\n\tvar algorithm = identity,\n\t\tskipUndefined = true,\n\t\tmerge = noop;\n\n\tfunction mergeCompute(data) {\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, indicator) => {\n\t\t\t\tvar result = (skipUndefined && isNotDefined(indicator))\n\t\t\t\t\t? datum\n\t\t\t\t\t: merge(datum, indicator);\n\t\t\t\treturn isNotDefined(result) ? datum : result;\n\t\t\t});\n\n\t\t// console.log(data);\n\t\treturn zip(data, algorithm(data));\n\t}\n\n\tmergeCompute.algorithm = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn algorithm;\n\t\t}\n\t\talgorithm = x;\n\t\treturn mergeCompute;\n\t};\n\n\tmergeCompute.merge = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn merge;\n\t\t}\n\t\tmerge = x;\n\t\treturn mergeCompute;\n\t};\n\tmergeCompute.skipUndefined = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipUndefined;\n\t\t}\n\t\tskipUndefined = x;\n\t\treturn mergeCompute;\n\t};\n\n\treturn mergeCompute;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/merge.js\n **/","export default () => {};\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/noop.js\n **/","\"use strict\";\n\n/*\n\nTaken from https://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/slidingWindow.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport identity from \"./identity\";\n\nexport default function() {\n\n\tvar undefinedValue = undefined,\n\t\twindowSize = 10,\n\t\taccumulator = noop,\n\t\tsource = identity,\n\t\tskipInitial = 0;\n\n\tvar slidingWindow = function(data) {\n\t\tvar size = d3.functor(windowSize).apply(this, arguments);\n\t\tvar windowData = data.slice(skipInitial, size + skipInitial).map(source);\n\t\tvar accumulatorIdx = 0;\n\t\tvar undef = d3.functor(undefinedValue);\n\t\t// console.log(skipInitial, size, data.length, windowData.length);\n\t\treturn data.map(function(d, i) {\n\t\t\t// console.log(d, i);\n\t\t\tif (i < (skipInitial + size - 1)) {\n\t\t\t\treturn undef(source(d), i);\n\t\t\t}\n\t\t\tif (i >= (skipInitial + size)) {\n\t\t\t\t// Treat windowData as FIFO rolling buffer\n\t\t\t\twindowData.shift();\n\t\t\t\twindowData.push(source(d, i));\n\t\t\t}\n\t\t\treturn accumulator(windowData, i, accumulatorIdx++);\n\t\t});\n\t};\n\n\tslidingWindow.undefinedValue = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn undefinedValue;\n\t\t}\n\t\tundefinedValue = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.skipInitial = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipInitial;\n\t\t}\n\t\tskipInitial = x;\n\t\treturn slidingWindow;\n\t};\n\tslidingWindow.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn slidingWindow;\n\t};\n\n\treturn slidingWindow;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/slidingWindow.js\n **/","// https://github.com/jonschlinkert/is-equal-shallow/\n\n/*\nThe MIT License (MIT)\n\nCopyright (c) 2015, Jon Schlinkert.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nfunction isDate(date) {\n\treturn Object.prototype.toString.call(date) === \"[object Date]\";\n}\n\nfunction isEqual(val1, val2) {\n\treturn (isDate(val1) && isDate(val2))\n\t\t? val1.getTime() === val2.getTime()\n\t\t: val1 === val2;\n}\n\nexport default function shallowEqual(a, b) {\n\tif (!a && !b) { return true; }\n\tif (!a && b || a && !b) { return false; }\n\n\tvar numKeysA = 0, numKeysB = 0, key;\n\tfor (key in b) {\n\t\tnumKeysB++;\n\t\tif (/* !isPrimitive(b[key]) || */ !a.hasOwnProperty(key) || !isEqual(a[key], b[key])) {\n\t\t\t// console.log(key, a, b);\n\t\t\treturn false;\n\t\t}\n\t}\n\tfor (key in a) {\n\t\tnumKeysA++;\n\t}\n\treturn numKeysA === numKeysB;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/shallowEqual.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport identity from \"./identity\";\n\nexport default function() {\n\n\tvar undefinedValue = undefined,\n\t\twindowSize = 10,\n\t\taccumulator = noop,\n\t\tsource = identity,\n\t\tskipInitial = 0;\n\n\tvar mappedSlidingWindow = function(data) {\n\t\tvar size = d3.functor(windowSize).apply(this, arguments);\n\t\tvar windowData = [];\n\t\tvar accumulatorIdx = 0;\n\t\tvar undef = d3.functor(undefinedValue);\n\t\t// console.log(skipInitial, size, data.length, windowData.length);\n\t\tvar result = [];\n\t\tdata.forEach(function(d, i) {\n\t\t\t// console.log(d, i, windowData.length);\n\t\t\tvar mapped;\n\t\t\tif (i < (skipInitial + size - 1)) {\n\t\t\t\tmapped = undef(d, i);\n\t\t\t\tresult.push(mapped);\n\t\t\t\twindowData.push(mapped);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (i >= (skipInitial + size)) {\n\t\t\t\t// Treat windowData as FIFO rolling buffer\n\t\t\t\twindowData.shift();\n\t\t\t}\n\t\t\twindowData.push(source(d, i));\n\t\t\tmapped = accumulator(windowData, i, accumulatorIdx++);\n\t\t\tresult.push(mapped);\n\t\t\twindowData.pop();\n\t\t\twindowData.push(mapped);\n\t\t\treturn;\n\t\t});\n\t\treturn result;\n\t};\n\n\tmappedSlidingWindow.undefinedValue = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn undefinedValue;\n\t\t}\n\t\tundefinedValue = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.skipInitial = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn skipInitial;\n\t\t}\n\t\tskipInitial = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\tmappedSlidingWindow.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn mappedSlidingWindow;\n\t};\n\n\treturn mappedSlidingWindow;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/mappedSlidingWindow.js\n **/","\"use strict\";\n\n/*\n\nTaken from https://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/slidingWindow.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n\n*/\n\nimport d3 from \"d3\";\nimport noop from \"./noop\";\nimport identity from \"./identity\";\n\nexport default function() {\n\n\tvar accumulateTill = d3.functor(false),\n\t\taccumulator = noop,\n\t\tvalue = identity,\n\t\tdiscardTillStart = false,\n\t\tdiscardTillEnd = false;\n\n\tvar accumulatingWindow = function(data) {\n\t\tvar accumulatedWindow = discardTillStart ? undefined : [];\n\t\tvar response = [];\n\t\tvar accumulatorIdx = 0;\n\t\tvar i = 0;\n\t\tfor (i = 0; i < data.length; i++) {\n\t\t\tvar d = data[i];\n\t\t\t// console.log(d, accumulateTill(d));\n\t\t\tif (accumulateTill(d, i)) {\n\t\t\t\tif (accumulatedWindow && accumulatedWindow.length > 0) response.push(accumulator(accumulatedWindow, i, accumulatorIdx++));\n\t\t\t\taccumulatedWindow = [value(d)];\n\t\t\t} else {\n\t\t\t\tif (accumulatedWindow) accumulatedWindow.push(value(d));\n\t\t\t}\n\t\t}\n\t\tif (!discardTillEnd) response.push(accumulator(accumulatedWindow, i, accumulatorIdx));\n\t\treturn response;\n\t};\n\n\taccumulatingWindow.accumulateTill = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulateTill;\n\t\t}\n\t\taccumulateTill = d3.functor(x);\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.value = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn value;\n\t\t}\n\t\tvalue = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.discardTillStart = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn discardTillStart;\n\t\t}\n\t\tdiscardTillStart = x;\n\t\treturn accumulatingWindow;\n\t};\n\taccumulatingWindow.discardTillEnd = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn discardTillEnd;\n\t\t}\n\t\tdiscardTillEnd = x;\n\t\treturn accumulatingWindow;\n\t};\n\treturn accumulatingWindow;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/accumulatingWindow.js\n **/","\"use strict\";\n\nimport React from \"react\";\nimport d3 from \"d3\";\nimport flattenDeep from \"lodash.flattendeep\";\n\nimport EventCapture from \"../EventCapture\";\nimport Chart from \"../Chart\";\n\nimport {\n\tisObject,\n\tgetClosestItem,\n\tzipper,\n\tisDefined,\n} from \"./index\";\n\nexport function getChartOrigin(origin, contextWidth, contextHeight) {\n\tvar originCoordinates = typeof origin === \"function\"\n\t\t? origin(contextWidth, contextHeight)\n\t\t: origin;\n\treturn originCoordinates;\n}\n\nexport function getDimensions({ width, height }, chartProps) {\n\n\tvar chartWidth = (chartProps.width || width);\n\tvar chartHeight = (chartProps.height || height);\n\n\treturn {\n\t\tavailableWidth: width,\n\t\tavailableHeight: height,\n\t\twidth: chartWidth,\n\t\theight: chartHeight\n\t};\n}\n\nfunction values(func) {\n\treturn (d) => {\n\t\tvar obj = func(d);\n\t\treturn isObject(obj) ? Object.keys(obj).map(key => obj[key]) : obj;\n\t};\n}\n\nexport function shouldShowCrossHairStyle(children) {\n\treturn React.Children.map(children, (each) => {\n\t\tif (each.type === EventCapture) {\n\t\t\treturn each.props.useCrossHairStyle;\n\t\t}\n\t\treturn undefined;\n\t}).filter(isDefined)[0];\n}\n\nexport function getNewChartConfig(innerDimension, children) {\n\n\treturn React.Children.map(children, (each) => {\n\t\tif (each.type === Chart) {\n\t\t\tvar { id, origin, padding, yExtents: yExtentsProp, yScale, flipYScale } = each.props;\n\t\t\tvar { width, height, availableWidth, availableHeight } = getDimensions(innerDimension, each.props);\n\t\t\t// var { yMousePointerDisplayLocation: at, yMousePointerDisplayFormat: yDisplayFormat } = each.props;\n\t\t\t// var { yMousePointerRectWidth: rectWidth, yMousePointerRectHeight: rectHeight, yMousePointerArrowWidth: arrowWidth } = each.props;\n\t\t\t// var mouseCoordinates = { at, yDisplayFormat, rectHeight, rectWidth, arrowWidth };\n\t\t\tvar yExtents = (Array.isArray(yExtentsProp) ? yExtentsProp : [yExtentsProp]).map(d3.functor);\n\t\t\t// console.log(yExtentsProp, yExtents);\n\t\t\treturn {\n\t\t\t\tid,\n\t\t\t\torigin: d3.functor(origin)(availableWidth, availableHeight),\n\t\t\t\tpadding,\n\t\t\t\tyExtents,\n\t\t\t\tflipYScale,\n\t\t\t\tyScale,\n\t\t\t\t// mouseCoordinates,\n\t\t\t\twidth,\n\t\t\t\theight\n\t\t\t};\n\t\t}\n\t\treturn undefined;\n\t}).filter(each => isDefined(each));\n}\nexport function getCurrentCharts(chartConfig, mouseXY) {\n\tvar currentCharts = chartConfig.filter(eachConfig => {\n\t\tvar top = eachConfig.origin[1];\n\t\tvar bottom = top + eachConfig.height;\n\t\treturn (mouseXY[1] > top && mouseXY[1] < bottom);\n\t}).map(config => config.id);\n\n\treturn currentCharts;\n}\n\nfunction setRange(scale, height, padding, flipYScale) {\n\tif (scale.rangeRoundPoints) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\tscale.rangeRoundPoints(flipYScale ? [0, height] : [height, 0], padding);\n\t} else {\n\t\tvar { top, bottom } = isNaN(padding)\n\t\t\t? padding\n\t\t\t: { top: padding, bottom: padding };\n\n\t\tscale.range(flipYScale ? [top, height - bottom] : [height - bottom, top]);\n\t}\n\treturn scale;\n}\n\nexport function getChartConfigWithUpdatedYScales(chartConfig, plotData) {\n\n\tvar yDomains = chartConfig\n\t\t.map(({ yExtents, yScale }) => {\n\t\t\tvar yValues = yExtents.map(eachExtent =>\n\t\t\t\tplotData.map(values(eachExtent)));\n\t\t\tyValues = flattenDeep(yValues);\n\n\t\t\tvar yDomains = (yScale.invert)\n\t\t\t\t? d3.extent(yValues)\n\t\t\t\t: d3.set(yValues).values();\n\n\t\t\treturn yDomains;\n\t\t});\n\n\tvar combine = zipper()\n\t\t.combine((config, domain) => {\n\t\t\tvar { padding, height, yScale, flipYScale } = config;\n\n\t\t\treturn { ...config, yScale: setRange(yScale.copy().domain(domain), height, padding, flipYScale) };\n\t\t\t// return { ...config, yScale: yScale.copy().domain(domain).range([height - padding, padding]) };\n\t\t});\n\n\tvar updatedChartConfig = combine(chartConfig, yDomains);\n\treturn updatedChartConfig;\n}\n\nexport function getCurrentItem(xScale, xAccessor, mouseXY, plotData) {\n\tvar xValue, item;\n\tif (xScale.invert) {\n\t\txValue = xScale.invert(mouseXY[0]);\n\t\titem = getClosestItem(plotData, xValue, xAccessor);\n\t} else {\n\t\tvar d = xScale.range().map((d, idx) => ({ x: Math.abs(d - mouseXY[0]), idx })).reduce((a, b) => a.x < b.x ? a : b);\n\t\titem = isDefined(d) ? plotData[d.idx] : plotData[0];\n\t\t// console.log(d, item);\n\t}\n\treturn item;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/ChartDataUtil.js\n **/","/**\n * lodash 4.2.0 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\nvar baseFlatten = require('lodash._baseflatten');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Recursively flattens `array`.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Array\n * @param {Array} array The array to flatten.\n * @returns {Array} Returns the new flattened array.\n * @example\n *\n * _.flattenDeep([1, [2, [3, [4]], 5]]);\n * // => [1, 2, 3, 4, 5]\n */\nfunction flattenDeep(array) {\n  var length = array ? array.length : 0;\n  return length ? baseFlatten(array, INFINITY) : [];\n}\n\nmodule.exports = flattenDeep;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash.flattendeep/index.js\n ** module id = 17\n ** module chunks = 0 2\n **/","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\n/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\n/**\n * Gets the \"length\" property value of `object`.\n *\n * **Note:** This function is used to avoid a\n * [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792) that affects\n * Safari on at least iOS 8.1-8.3 ARM64.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {*} Returns the \"length\" value.\n */\nvar getLength = baseProperty('length');\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 incorrectly makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @type {Function}\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(getLength(value)) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This function is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length,\n *  else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\nmodule.exports = baseFlatten;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/lodash._baseflatten/index.js\n ** module id = 18\n ** module chunks = 0 2\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { mousePosition, touchPosition, d3Window, MOUSEMOVE, MOUSEUP } from \"./utils\";\n\nfunction getTouchProps(touch) {\n\tif (!touch) return {};\n\treturn {\n\t\tpageX: touch.pageX,\n\t\tpageY: touch.pageY,\n\t\tclientX: touch.clientX,\n\t\tclientY: touch.clientY\n\t};\n}\n\n\n\nclass EventCapture extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleEnter = this.handleEnter.bind(this);\n\t\tthis.handleLeave = this.handleLeave.bind(this);\n\t\tthis.handleWheel = this.handleWheel.bind(this);\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handlePanEnd = this.handlePanEnd.bind(this);\n\t\tthis.handlePan = this.handlePan.bind(this);\n\t\tthis.handleTouchStart = this.handleTouchStart.bind(this);\n\t\tthis.handleTouchMove = this.handleTouchMove.bind(this);\n\t\tthis.handleTouchEnd = this.handleTouchEnd.bind(this);\n\t\tthis.lastTouch = {};\n\t\tthis.initialPinch = {};\n\t\tthis.mouseInteraction = true;\n\t}\n\tgetChildContext() {\n\t\treturn {\n\t\t\teventMeta: this.eventMeta,\n\t\t};\n\t}\n\tcomponentWillMount() {\n\t\tif (this.context.onFocus) this.context.onFocus(this.props.defaultFocus);\n\t}\n\thandleEnter(e) {\n\t\tvar { eventMeta } = this.props;\n\t\tthis.eventMeta = eventMeta(e, [\"enter\"]);\n\n\t\tif (this.context.onMouseEnter) {\n\t\t\tthis.context.onMouseEnter(e);\n\t\t}\n\t}\n\thandleLeave(e) {\n\t\tvar { eventMeta } = this.props;\n\t\tthis.eventMeta = eventMeta(e, [\"exit\"]);\n\n\t\tif (this.context.onMouseLeave)\n\t\t\tthis.context.onMouseLeave(e);\n\t}\n\thandleWheel(e) {\n\t\tvar { zoom, onZoom, zoomMultiplier, eventMeta } = this.props;\n\n\t\tif (zoom && this.context.onZoom\n\t\t\t\t&& this.context.focus) {\n\t\t\t// e.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tvar newPos = mousePosition(e);\n\t\t\tvar zoomDir = e.deltaY > 0 ? zoomMultiplier : -zoomMultiplier;\n\n\t\t\tthis.eventMeta = eventMeta(e, [\"zoom\"]);\n\n\t\t\tthis.context.onZoom(zoomDir, newPos, e);\n\n\t\t\tif (onZoom) {\n\t\t\t\tonZoom(newPos, e);\n\t\t\t}\n\t\t}\n\n\t}\n\thandleMouseMove(e) {\n\t\tvar { eventMeta, onMouseMove } = this.props;\n\t\tthis.eventMeta = eventMeta(e, [\"mousemove\"]);\n\n\t\tvar newPos = mousePosition(e);\n\n\t\tif (this.mouseInteraction\n\t\t\t\t&& this.context.onMouseMove\n\t\t\t\t&& this.props.mouseMove\n\t\t\t\t&& !this.context.panInProgress) {\n\t\t\tthis.context.onMouseMove(newPos, \"mouse\", e);\n\t\t}\n\t\tif (onMouseMove) onMouseMove(newPos, e);\n\t}\n\thandleMouseDown(e) {\n\t\tvar mouseEvent = e || d3.event;\n\t\tvar { pan, eventMeta } = this.props;\n\n\t\tthis.eventMeta = eventMeta(mouseEvent, [\"mousedown\"]);\n\n\t\tvar { onPanStart, focus, onFocus, xScale } = this.context;\n\t\tif (this.mouseInteraction && pan && onPanStart) {\n\t\t\tvar mouseXY = mousePosition(mouseEvent);\n\t\t\tthis.panStart = mouseXY;\n\n\t\t\tvar dx = mouseEvent.pageX - mouseXY[0],\n\t\t\t\tdy = mouseEvent.pageY - mouseXY[1];\n\n\t\t\tvar captureDOM = this.refs.capture;\n\n\t\t\tvar win = d3Window(captureDOM);\n\t\t\td3.select(win)\n\t\t\t\t.on(MOUSEMOVE, this.handlePan)\n\t\t\t\t.on(MOUSEUP, this.handlePanEnd);\n\n\t\t\tonPanStart(xScale.domain(), mouseXY, [dx, dy]);\n\t\t} else {\n\t\t\tif (!focus && onFocus) onFocus(true);\n\t\t}\n\t\tmouseEvent.preventDefault();\n\t}\n\thandleRightClick(e) {\n\t\te.preventDefault();\n\t\t// console.log(\"RIGHT CLICK\");\n\t}\n\thandlePan() {\n\t\t// console.log(\"handlePan\")\n\t\tvar e = d3.event;\n\n\t\tvar { eventMeta } = this.props;\n\t\tvar { pan: panEnabled, onPan: panListener } = this.props;\n\t\tvar { deltaXY: dxdy, xScale, onPan } = this.context;\n\n\t\tvar newPos = [e.pageX - dxdy[0], e.pageY - dxdy[1]];\n\n\t\tthis.eventMeta = eventMeta(e, [\"pan\"]);\n\t\t// console.log(\"moved from- \", startXY, \" to \", newPos);\n\t\tif (this.mouseInteraction && panEnabled && onPan) {\n\n\t\t\tonPan(newPos, xScale.domain(), e);\n\t\t\tif (panListener) {\n\t\t\t\tpanListener(newPos, e);\n\t\t\t}\n\t\t}\n\t}\n\thandlePanEnd() {\n\t\tvar e = d3.event;\n\n\t\tvar { pan: panEnabled, eventMeta } = this.props;\n\t\tvar { deltaXY: dxdy, onPanEnd } = this.context;\n\n\n\t\tvar [startX, startY] = this.panStart;\n\t\tvar [x, y] = [e.pageX - dxdy[0], e.pageY - dxdy[1]];\n\n\t\tvar eventType = startX === x && startY === y ? [\"click\"] : [];\n\n\t\tthis.eventMeta = eventMeta(e, [\"mouseup\"].concat(eventType));\n\t\tthis.panStart = null;\n\n\t\tvar captureDOM = this.refs.capture;\n\n\t\tvar win = d3Window(captureDOM);\n\n\t\tif (this.mouseInteraction && panEnabled && onPanEnd) {\n\t\t\td3.select(win)\n\t\t\t\t.on(MOUSEMOVE, null)\n\t\t\t\t.on(MOUSEUP, null);\n\t\t\tonPanEnd([x, y], e);\n\t\t}\n\t\t// e.preventDefault();\n\t}\n\thandleTouchStart(e) {\n\t\tthis.mouseInteraction = false;\n\n\t\tvar { pan: panEnabled } = this.props;\n\t\tvar { deltaXY: dxdy } = this.context;\n\n\t\tvar { onPanStart, onMouseMove, xScale, onPanEnd, panInProgress } = this.context;\n\n\t\tif (e.touches.length === 1) {\n\t\t\tvar touch = getTouchProps(e.touches[0]);\n\t\t\tthis.lastTouch = touch;\n\t\t\tvar touchXY = touchPosition(touch, e);\n\t\t\tonMouseMove(touchXY, \"touch\", e);\n\t\t\tif (panEnabled && onPanStart) {\n\t\t\t\tvar dx = touch.pageX - touchXY[0],\n\t\t\t\t\tdy = touch.pageY - touchXY[1];\n\n\t\t\t\tonPanStart(xScale.domain(), touchXY, [dx, dy]);\n\t\t\t}\n\t\t} else if (e.touches.length === 2) {\n\t\t\t// pinch zoom begin\n\t\t\t// do nothing pinch zoom is handled in handleTouchMove\n\t\t\tvar touch1 = getTouchProps(e.touches[0]);\n\n\t\t\tif (panInProgress && panEnabled && onPanEnd) {\n\t\t\t\t// end pan first\n\t\t\t\tvar newPos = [touch1.pageX - dxdy[0], touch1.pageY - dxdy[1]];\n\t\t\t\tonPanEnd(newPos, e);\n\t\t\t\tthis.lastTouch = null;\n\t\t\t}\n\t\t}\n\n\t\tif (e.touches.length !== 2) this.initialPinch = null;\n\t\t// var newPos = mousePosition(e);\n\t\t// console.log(\"handleTouchStart\", e);\n\t\te.preventDefault();\n\t\t// e.stopPropagation();\n\t\t// this.context.onMouseMove(newPos, e);\n\t}\n\thandleTouchMove(e) {\n\t\tvar { pan: panEnabled, onPan: panListener, zoom: zoomEnabled } = this.props;\n\t\tvar { deltaXY: dxdy, xScale, onPan, onPinchZoom, focus, panInProgress } = this.context;\n\n\t\tif (e.touches.length === 1) {\n\t\t\t// pan\n\t\t\tvar touch = this.lastTouch = getTouchProps(e.touches[0]);\n\n\t\t\tvar newPos = [touch.pageX - dxdy[0], touch.pageY - dxdy[1]];\n\t\t\tif (panInProgress && panEnabled && onPan) {\n\t\t\t\tonPan(newPos, xScale.domain());\n\t\t\t\tif (panListener) {\n\t\t\t\t\tpanListener(e);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (e.touches.length === 2) {\n\t\t\t// pinch zoom\n\t\t\tif (zoomEnabled && onPinchZoom && focus) {\n\t\t\t\tvar touch1 = getTouchProps(e.touches[0]);\n\t\t\t\tvar touch2 = getTouchProps(e.touches[1]);\n\n\t\t\t\tvar touch1Pos = touchPosition(touch1, e);\n\t\t\t\tvar touch2Pos = touchPosition(touch2, e);\n\n\t\t\t\tif (this.initialPinch === null) {\n\t\t\t\t\tthis.initialPinch = {\n\t\t\t\t\t\ttouch1Pos,\n\t\t\t\t\t\ttouch2Pos,\n\t\t\t\t\t\txScale,\n\t\t\t\t\t\trange: xScale.range(),\n\t\t\t\t\t};\n\t\t\t\t} else if (this.initialPinch && !panInProgress) {\n\t\t\t\t\tonPinchZoom(this.initialPinch, {\n\t\t\t\t\t\ttouch1Pos,\n\t\t\t\t\t\ttouch2Pos,\n\t\t\t\t\t\txScale,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\te.preventDefault();\n\n\t\t// console.log(\"handleTouchMove\", e);\n\t}\n\thandleTouchEnd(e) {\n\t\t// TODO enableMouseInteraction\n\t\tvar { pan: panEnabled } = this.props;\n\t\tvar { deltaXY: dxdy, onPanEnd, panInProgress } = this.context;\n\n\t\tif (this.lastTouch) {\n\t\t\tvar newPos = [this.lastTouch.pageX - dxdy[0], this.lastTouch.pageY - dxdy[1]];\n\n\t\t\tthis.initialPinch = null;\n\t\t\tif (panInProgress && panEnabled && onPanEnd) {\n\t\t\t\tonPanEnd(newPos, e);\n\t\t\t}\n\t\t}\n\t\t// console.log(\"handleTouchEnd\", dxdy, newPos, e);\n\t\tthis.mouseInteraction = true;\n\t\te.preventDefault();\n\t}\n\trender() {\n\t\tvar className = this.context.panInProgress ? \"react-stockcharts-grabbing-cursor\" : \"react-stockcharts-crosshair-cursor\";\n\t\tvar clipStyle = { \"clipPath\": \"url(#chart-area-clip)\" };\n\t\treturn (\n\t\t\t<g style={clipStyle}>\n\t\t\t\t<rect ref=\"capture\"\n\t\t\t\t\tclassName={className}\n\t\t\t\t\twidth={this.context.width} height={this.context.height} style={{ opacity: 0 }}\n\t\t\t\t\tonMouseEnter={this.handleEnter}\n\t\t\t\t\tonMouseLeave={this.handleLeave}\n\t\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\t\tonWheel={this.handleWheel}\n\t\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\t\tonContextMenu={this.handleRightClick}\n\t\t\t\t\tonTouchStart={this.handleTouchStart}\n\t\t\t\t\tonTouchEnd={this.handleTouchEnd}\n\t\t\t\t\tonTouchMove={this.handleTouchMove} />\n\t\t\t\t{this.props.children}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nEventCapture.propTypes = {\n\tmouseMove: PropTypes.bool.isRequired,\n\tzoom: PropTypes.bool.isRequired,\n\tzoomMultiplier: PropTypes.number.isRequired,\n\tpan: PropTypes.bool.isRequired,\n\tpanSpeedMultiplier: PropTypes.number.isRequired,\n\tdefaultFocus: PropTypes.bool.isRequired,\n\tuseCrossHairStyle: PropTypes.bool.isRequired,\n\tonZoom: PropTypes.func,\n\tonPan: PropTypes.func,\n\tonMouseMove: PropTypes.func,\n\teventMeta: PropTypes.func,\n\tchildren: PropTypes.node,\n};\n\nEventCapture.defaultProps = {\n\tmouseMove: false,\n\tzoom: false,\n\tzoomMultiplier: 1,\n\tpan: false,\n\tpanSpeedMultiplier: 1,\n\tdefaultFocus: false,\n\tuseCrossHairStyle: true,\n\teventMeta: (e, type) => { var { button, shiftKey } = e; return { button, shiftKey, type }; },\n};\n\nEventCapture.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tpanInProgress: PropTypes.bool,\n\tfocus: PropTypes.bool.isRequired,\n\tchartConfig: PropTypes.array,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tdeltaXY: PropTypes.arrayOf(Number),\n\n\tonMouseMove: PropTypes.func,\n\tonMouseEnter: PropTypes.func,\n\tonMouseLeave: PropTypes.func,\n\tonZoom: PropTypes.func,\n\tonPinchZoom: PropTypes.func,\n\tonPanStart: PropTypes.func,\n\tonPan: PropTypes.func,\n\tonPanEnd: PropTypes.func,\n\tonFocus: PropTypes.func,\n};\n\nEventCapture.childContextTypes = {\n\teventMeta: PropTypes.object,\n};\n\nexport default EventCapture;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/EventCapture.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\nimport d3 from \"d3\";\n\nimport PureComponent from \"./utils/PureComponent\";\n\nclass Chart extends PureComponent {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.yScale = this.yScale.bind(this);\n\t}\n\tyScale() {\n\t\tvar chartConfig = this.context.chartConfig.filter((each) => each.id === this.props.id)[0];\n\t\treturn chartConfig.yScale.copy();\n\t}\n\tgetChildContext() {\n\t\tvar { id: chartId } = this.props;\n\t\tvar chartConfig = this.context.chartConfig.filter((each) => each.id === chartId)[0];\n\n\t\tvar { width, height } = chartConfig;\n\t\tvar canvasOriginX = 0.5 + chartConfig.origin[0] + this.context.margin.left;\n\t\tvar canvasOriginY = 0.5 + chartConfig.origin[1] + this.context.margin.top;\n\n\t\treturn { chartId, chartConfig, canvasOriginX, canvasOriginY, width, height };\n\t}\n\trender() {\n\t\tvar { origin } = this.context.chartConfig.filter((each) => each.id === this.props.id)[0];\n\t\tvar [x, y] = origin;\n\n\t\treturn <g transform={`translate(${ x }, ${ y })`}>{this.props.children}</g>;\n\t}\n}\n\nChart.propTypes = {\n\theight: PropTypes.number,\n\twidth: PropTypes.number,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tid: PropTypes.number.isRequired,\n\tyExtents: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tyScale: PropTypes.func.isRequired,\n\tyMousePointerDisplayLocation: PropTypes.oneOf([\"left\", \"right\"]),\n\tyMousePointerDisplayFormat: PropTypes.func,\n\tflipYScale: PropTypes.bool.isRequired,\n\tpadding: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.shape({\n\t\t\ttop: PropTypes.number,\n\t\t\tbottom: PropTypes.number,\n\t\t})\n\t]).isRequired,\n};\n\nChart.defaultProps = {\n\tid: 0,\n\torigin: [0, 0],\n\tpadding: 0,\n\tyScale: d3.scale.linear(),\n\tyMousePointerRectWidth: 50,\n\tyMousePointerRectHeight: 20,\n\tyMousePointerArrowWidth: 10,\n\tflipYScale: false,\n};\n\nChart.contextTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartConfig: PropTypes.array,\n\tmargin: PropTypes.object.isRequired,\n\n\t// adding here even when this is not used by Chart, refer to https://github.com/facebook/react/issues/2517\n\t// used by CurrentCoordinate\n\tcurrentItem: PropTypes.object,\n\tmouseXY: PropTypes.array,\n\tshow: PropTypes.bool,\n};\n\nChart.childContextTypes = {\n\theight: PropTypes.number,\n\twidth: PropTypes.number,\n\tchartConfig: PropTypes.object.isRequired,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\tchartId: PropTypes.number.isRequired,\n};\n\nexport default Chart;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Chart.jsx\n **/","\"use strict\";\n\nimport { Component } from \"react\";\nimport shallowEqual from \"./shallowEqual\";\n\nclass PureComponent extends Component {\n\tshouldComponentUpdate(nextProps, nextState, nextContext) {\n\t\treturn !shallowEqual(this.props, nextProps)\n\t\t\t|| !shallowEqual(this.state, nextState)\n\t\t\t|| !shallowEqual(this.context, nextContext);\n\t}\n}\n\nexport default PureComponent;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/utils/PureComponent.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport {\n\tlast,\n\tisDefined,\n\tisNotDefined,\n\tclearCanvas,\n\tshallowEqual,\n} from \"./utils\";\n\nimport { getNewChartConfig, getChartConfigWithUpdatedYScales, getCurrentCharts, getCurrentItem } from \"./utils/ChartDataUtil\";\n\nvar subscriptionCount = 0;\n\nfunction setXRange(xScale, dimensions, padding, direction = 1) {\n\tif (xScale.rangeRoundPoints) {\n\t\tif (isNaN(padding)) throw new Error(\"padding has to be a number for ordinal scale\");\n\t\txScale.rangeRoundPoints([0, dimensions.width], padding);\n\t} else {\n\t\tvar { left, right } = isNaN(padding)\n\t\t\t? padding\n\t\t\t: { left: padding, right: padding };\n\t\tif (direction > 0) {\n\t\t\txScale.range([left, dimensions.width - right]);\n\t\t} else {\n\t\t\txScale.range([dimensions.width - right, left]);\n\t\t}\n\t}\n\treturn xScale;\n}\n\nclass EventHandler extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.handleMouseMove = this.handleMouseMove.bind(this);\n\t\tthis.handleMouseEnter = this.handleMouseEnter.bind(this);\n\t\tthis.handleMouseLeave = this.handleMouseLeave.bind(this);\n\t\tthis.handleZoom = this.handleZoom.bind(this);\n\t\tthis.handlePinchZoom = this.handlePinchZoom.bind(this);\n\t\tthis.handlePanStart = this.handlePanStart.bind(this);\n\t\tthis.handlePan = this.handlePan.bind(this);\n\t\tthis.handlePanEnd = this.handlePanEnd.bind(this);\n\t\tthis.handleFocus = this.handleFocus.bind(this);\n\t\tthis.getCanvasContexts = this.getCanvasContexts.bind(this);\n\t\tthis.pushCallbackForCanvasDraw = this.pushCallbackForCanvasDraw.bind(this);\n\t\tthis.getAllCanvasDrawCallback = this.getAllCanvasDrawCallback.bind(this);\n\t\tthis.subscribe = this.subscribe.bind(this);\n\t\tthis.unsubscribe = this.unsubscribe.bind(this);\n\t\tthis.pinchCoordinates = this.pinchCoordinates.bind(this);\n\t\tthis.setInteractiveState = this.setInteractiveState.bind(this);\n\t\tthis.getInteractiveState = this.getInteractiveState.bind(this);\n\n\t\tthis.subscriptions = [];\n\t\tthis.canvasDrawCallbackList = [];\n\t\tthis.panHappened = false;\n\t\tthis.interactiveState = [];\n\n\t\tthis.state = {\n\t\t\tfocus: false,\n\t\t\t// currentItem: {},\n\t\t\tshow: false,\n\t\t\tmouseXY: [0, 0],\n\t\t\tpanInProgress: false,\n\t\t\tcurrentCharts: [],\n\t\t\treceivedProps: 0,\n\t\t};\n\t}\n\tcomponentWillMount() {\n\n\t\t/* var props = { padding, type, margin, postCalculator };\n\t\tvar stateProps = { plotData, filterData, xScale, xAccessor, dataAltered }; */\n\n\t\tvar { plotData, direction } = this.props;\n\t\tvar { xScale, dimensions, children, postCalculator, padding } = this.props;\n\n\t\tplotData = postCalculator(plotData);\n\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(getNewChartConfig(dimensions, children), plotData);\n\n\t\tthis.setState({\n\t\t\txScale: setXRange(xScale, dimensions, padding, direction),\n\t\t\tplotData,\n\t\t\tchartConfig,\n\t\t});\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\n\t\tvar { plotData, padding, direction, lastItem, filterData } = nextProps;\n\t\tvar { xScale, xAccessor, dimensions, children, postCalculator, dataAltered } = nextProps;\n\n\t\tvar reset = !shallowEqual(this.props.plotData, nextProps.plotData);\n\n\t\tvar newState;\n\t\tif (reset) {\n\t\t\tif (process.env.NODE_ENV !== \"production\") {\n\t\t\t\tconsole.log(\"DATA VIEW PORT CHANGED - CHART RESET\");\n\t\t\t}\n\n\t\t\tplotData = postCalculator(plotData);\n\n\t\t\tlet chartConfig = getChartConfigWithUpdatedYScales(getNewChartConfig(dimensions, children), plotData);\n\n\t\t\tnewState = {\n\t\t\t\txScale: setXRange(xScale, dimensions, padding, direction),\n\t\t\t\tplotData,\n\t\t\t\tchartConfig,\n\t\t\t};\n\t\t} else if (dataAltered\n\t\t\t\t&& this.props.lastItem === last(this.state.plotData)\n\t\t\t\t/* && xAccessor(this.props.lastItem) >= xAccessor(last(this.state.plotData))\n\t\t\t\t&& xAccessor(this.props.lastItem) <= xAccessor(last(this.state.plotData))*/) {\n\n\t\t\tif (process.env.NODE_ENV !== \"production\") {\n\t\t\t\tconsole.log(\"DATA CHANGED AND LAST ITEM VISIBLE\");\n\t\t\t}\n\t\t\t// if last item was visible, then shift\n\t\t\tvar [start, end] = this.state.xScale.domain();\n\n\t\t\tvar updatedXScale = setXRange(xScale, dimensions, padding, direction);\n\t\t\tupdatedXScale.domain([start, end]);\n\n\t\t\tif (end >= xAccessor(lastItem)) {\n\t\t\t\t// get plotData between [start, end] and do not change the domain\n\t\t\t\tplotData = filterData([start, end], xAccessor).plotData;\n\t\t\t} else {\n\t\t\t\t// get plotData between [xAccessor(l) - (end - start), xAccessor(l)] and DO change the domain\n\t\t\t\tvar dx = updatedXScale(xAccessor(lastItem)) - updatedXScale.range()[1];\n\t\t\t\tvar [newStart, newEnd] = updatedXScale.range().map(x => x + dx).map(updatedXScale.invert);\n\n\t\t\t\tplotData = filterData([newStart, newEnd], xAccessor).plotData;\n\t\t\t\tupdatedXScale.domain([newStart, newEnd]);\n\t\t\t}\n\t\t\t// plotData = getDataOfLength(fullData, showingInterval, plotData.length)\n\t\t\tplotData = postCalculator(plotData);\n\t\t\tlet chartConfig = getChartConfigWithUpdatedYScales(getNewChartConfig(dimensions, children), plotData);\n\n\t\t\tnewState = {\n\t\t\t\txScale: updatedXScale,\n\t\t\t\tchartConfig,\n\t\t\t\tplotData,\n\t\t\t};\n\t\t} else {\n\t\t\tconsole.log(\"TRIVIAL CHANGE\");\n\t\t\t// this.state.plotData or plotData\n\n\t\t\tplotData = postCalculator(filterData(this.state.xScale.domain(), xAccessor).plotData);\n\n\t\t\tlet chartConfig = getChartConfigWithUpdatedYScales(\n\t\t\t\tgetNewChartConfig(dimensions, children), plotData);\n\n\t\t\tnewState = {\n\t\t\t\txScale: setXRange(xScale, dimensions, padding, direction).domain(this.state.xScale.domain()),\n\t\t\t\tchartConfig,\n\t\t\t\tplotData,\n\t\t\t};\n\t\t}\n\n\t\tif (isDefined(newState)) {\n\t\t\tif (!this.state.panInProgress) {\n\t\t\t\tthis.clearThreeCanvas(nextProps);\n\t\t\t\t// this.clearInteractiveCanvas(nextProps);\n\t\t\t\tthis.clearCanvasDrawCallbackList();\n\t\t\t}\n\t\t\tthis.setState({\n\t\t\t\t...newState,\n\t\t\t\treceivedProps: this.state.receivedProps + 1,\n\t\t\t});\n\t\t}\n\t}\n\tshouldComponentUpdate(nextProps, nextState) {\n\t\treturn !(this.state.receivedProps < nextState.receivedProps\n\t\t\t\t\t&& this.props.type === \"hybrid\"\n\t\t\t\t\t&& this.state.panInProgress)\n\t\t\t\t&& !(this.state.panInProgress\n\t\t\t\t\t&& this.props.type === \"hybrid\"\n\t\t\t\t\t&& this.state.show !== nextState.show\n\t\t\t\t\t&& this.state.receivedPropsOnPanStart < nextState.receivedProps\n\t\t\t\t\t&& this.state.receivedProps === nextState.receivedProps);\n\t}\n\tclearBothCanvas(props) {\n\t\tprops = props || this.props;\n\t\tvar canvases = props.canvasContexts();\n\t\tif (canvases && canvases.axes) {\n\t\t\t// console.log(\"CLEAR\");\n\t\t\tclearCanvas([canvases.axes, canvases.mouseCoord]);\n\t\t}\n\t}\n\tclearThreeCanvas(props) {\n\t\tprops = props || this.props;\n\t\tvar canvases = props.canvasContexts();\n\t\tif (canvases && canvases.axes) {\n\t\t\t// console.log(\"CLEAR\");\n\t\t\tclearCanvas([canvases.axes, canvases.mouseCoord, canvases.bg]);\n\t\t}\n\t}\n\t/* clearInteractiveCanvas(props) {\n\t\t// DO NOTHING, since now the interactive canvas is no longer used\n\t\tprops = props || this.props;\n\t\tvar canvases = props.canvasContexts();\n\t\tif (canvases && canvases.interactive) {\n\t\t\t// console.error(\"CLEAR\");\n\t\t\tclearCanvas([canvases.interactive]);\n\t\t}\n\t}*/\n\n\tgetChildContext() {\n\t\t// var { showingInterval } = this.state;\n\t\t// var { fullData } = this.props;\n\t\treturn {\n\t\t\tplotData: this.state.plotData,\n\t\t\t// data: isDefined(showingInterval) ? fullData[showingInterval] : fullData,\n\t\t\tchartConfig: this.state.chartConfig,\n\t\t\tcurrentCharts: this.state.currentCharts,\n\t\t\tcurrentItem: this.state.currentItem,\n\t\t\tshow: this.state.show,\n\t\t\tmouseXY: this.state.mouseXY,\n\t\t\t// interval: this.state.showingInterval,\n\t\t\twidth: this.props.dimensions.width,\n\t\t\theight: this.props.dimensions.height,\n\t\t\tchartCanvasType: this.props.type,\n\t\t\txScale: this.state.xScale,\n\t\t\txAccessor: this.props.xAccessor,\n\t\t\tdisplayXAccessor: this.props.displayXAccessor,\n\t\t\tmargin: this.props.margin,\n\n\t\t\tcallbackForCanvasDraw: this.pushCallbackForCanvasDraw,\n\t\t\tgetAllCanvasDrawCallback: this.getAllCanvasDrawCallback,\n\t\t\tsubscribe: this.subscribe,\n\t\t\tunsubscribe: this.unsubscribe,\n\t\t\tgetInteractiveState: this.getInteractiveState,\n\t\t\tsetInteractiveState: this.setInteractiveState,\n\t\t\tgetCanvasContexts: this.getCanvasContexts,\n\t\t\tonMouseMove: this.handleMouseMove,\n\t\t\tonMouseEnter: this.handleMouseEnter,\n\t\t\tonMouseLeave: this.handleMouseLeave,\n\t\t\tonZoom: this.handleZoom,\n\t\t\tonPinchZoom: this.handlePinchZoom,\n\t\t\tonPanStart: this.handlePanStart,\n\t\t\tonPan: this.handlePan,\n\t\t\tonPanEnd: this.handlePanEnd,\n\t\t\tonFocus: this.handleFocus,\n\t\t\tdeltaXY: this.state.deltaXY,\n\t\t\tpanInProgress: this.state.panInProgress,\n\t\t\tfocus: this.state.focus\n\t\t};\n\t}\n\tpushCallbackForCanvasDraw(findThis, replaceWith) {\n\t\tvar { canvasDrawCallbackList } = this;\n\t\t// console.log(findThis, canvasDrawCallbackList.length);\n\t\tif (replaceWith) {\n\t\t\tcanvasDrawCallbackList.forEach((each, idx) => {\n\t\t\t\tif (each === findThis) {\n\t\t\t\t\tcanvasDrawCallbackList[idx] = replaceWith;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\t// console.log(findThis);\n\t\t\tcanvasDrawCallbackList.push(findThis);\n\t\t}\n\t}\n\tgetAllCanvasDrawCallback() {\n\t\treturn this.canvasDrawCallbackList;\n\t}\n\tsubscribe(forChart, eventType, callback) {\n\t\tsubscriptionCount++;\n\n\t\tthis.subscriptions.push({\n\t\t\tforChart,\n\t\t\tsubscriptionId: subscriptionCount,\n\t\t\teventType,\n\t\t\tcallback,\n\t\t});\n\t\treturn subscriptionCount;\n\t}\n\tunsubscribe(subscriptionId) {\n\t\t// console.log(subscriptionId);\n\t\tthis.subscriptions = this.subscriptions.filter(each => each.subscriptionId === subscriptionId);\n\t}\n\tgetCanvasContexts() {\n\t\t// console.log(this.state.canvases, this.props.canvasContexts())\n\t\treturn this.state.canvases || this.props.canvasContexts();\n\t}\n\thandleMouseEnter(/* e */) {\n\t\t// if type === svg remove state.canvases\n\t\t// if type !== svg get canvases and set in state if state.canvases is not present already\n\t\t/* var { type, canvasContexts } = this.props;\n\t\tvar { canvases } = this.state;\n\t\tif (type === \"svg\") {\n\t\t\tcanvases = null;\n\t\t} else {\n\t\t\tcanvases = canvasContexts();\n\t\t}*/\n\t\tthis.setState({\n\t\t\tshow: true,\n\t\t});\n\t}\n\thandleMouseMove(mouseXY/* , inputType, e */) {\n\t\tvar { chartConfig, plotData, xScale } = this.state;\n\t\tvar { xAccessor } = this.props;\n\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\tvar currentItem = getCurrentItem(xScale, xAccessor, mouseXY, plotData);\n\t\t// optimization oportunity do not change currentItem if it is not the same as prev\n\n\t\tvar contexts = this.getCanvasContexts();\n\t\tif (contexts && contexts.mouseCoord) {\n\t\t\tclearCanvas([contexts.mouseCoord]);\n\t\t\t// this.clearInteractiveCanvas();\n\t\t}\n\t\t// console.log(interactiveState === this.state.interactiveState);\n\t\t// if (interactiveState !== this.state.interactiveState) this.clearInteractiveCanvas();\n\n\t\tthis.setState({\n\t\t\tmouseXY,\n\t\t\tcurrentItem,\n\t\t\tcurrentCharts,\n\t\t\t// show: true,\n\t\t\t// interactiveState,\n\t\t});\n\t}\n\n\thandleMouseLeave(/* e */) {\n\t\tvar contexts = this.getCanvasContexts();\n\n\t\t// this.clearInteractiveCanvas();\n\n\t\tif (contexts && contexts.mouseCoord) {\n\t\t\tclearCanvas([contexts.mouseCoord]);\n\t\t}\n\t\tthis.setState({\n\t\t\tshow: false\n\t\t});\n\t}\n\tpinchCoordinates(pinch) {\n\t\tvar { touch1Pos, touch2Pos } = pinch;\n\n\t\treturn {\n\t\t\ttopLeft: [Math.min(touch1Pos[0], touch2Pos[0]), Math.min(touch1Pos[1], touch2Pos[1])],\n\t\t\tbottomRight: [Math.max(touch1Pos[0], touch2Pos[0]), Math.max(touch1Pos[1], touch2Pos[1])]\n\t\t};\n\t}\n\thandlePinchZoom(initialPinch, finalPinch) {\n\t\tvar { xScale: initialPinchXScale } = initialPinch;\n\n\t\tvar { xScale: initialXScale, chartConfig: initialChartConfig, plotData: initialPlotData } = this.state;\n\t\tvar { xAccessor, filterData, postCalculator } = this.props;\n\n\t\tvar { topLeft: iTL, bottomRight: iBR } = this.pinchCoordinates(initialPinch);\n\t\tvar { topLeft: fTL, bottomRight: fBR } = this.pinchCoordinates(finalPinch);\n\n\t\tvar e = initialPinchXScale.range()[1];\n\n\t\t// var fR1 = e - fTL[0];\n\t\t// var fR2 = e - fBR[0];\n\t\t// var iR1 = e - iTL[0];\n\t\t// var iR2 = e - iBR[0];\n\n\t\tvar xDash = Math.round(-(iBR[0] * fTL[0] - iTL[0] * fBR[0]) / (iTL[0] - iBR[0]));\n\t\tvar yDash = Math.round(e + ((e - iBR[0]) * (e - fTL[0]) - (e - iTL[0]) * (e - fBR[0])) / ((e - iTL[0]) - (e - iBR[0])));\n\n\n\t\tvar x = Math.round(-xDash * iTL[0] / (-xDash + fTL[0]));\n\t\tvar y = Math.round(e - (yDash - e) * (e - iTL[0]) / (yDash + (e - fTL[0])));\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `**${[s, e]} to ${[xDash, yDash]} to ${[x, y]}`;\n\t\t// var left = ((final.leftxy[0] - range[0]) / (final.rightxy[0] - final.leftxy[0])) * (initial.right - initial.left);\n\t\t// var right = ((range[1] - final.rightxy[0]) / (final.rightxy[0] - final.leftxy[0])) * (initial.right - initial.left);\n\n\t\tvar newDomain = [x, y].map(initialPinchXScale.invert);\n\t\t// var domainR = initial.right + right;\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tinitialPlotData,\n\t\t\tinitialXScale.domain());\n\n\t\tplotData = postCalculator(plotData);\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData);\n\n\t\trequestAnimationFrame(() => {\n\t\t\tthis.clearThreeCanvas();\n\t\t\t// this.clearInteractiveCanvas();\n\n\t\t\tthis.clearCanvasDrawCallbackList();\n\t\t\tthis.setState({\n\t\t\t\tchartConfig,\n\t\t\t\txScale: updatedScale,\n\t\t\t\tplotData,\n\t\t\t});\n\t\t});\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${panInProgress}`;\n\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${initial.left} - ${initial.right} to ${final.left} - ${final.right}`;\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${id[1] - id[0]} = ${initial.left - id[0]} + ${initial.right - initial.left} + ${id[1] - initial.right}`;\n\t\t// document.getElementById(\"debug_here\").innerHTML = `${range[1] - range[0]}, ${i1[0]}, ${i2[0]}`;\n\t}\n\thandleZoom(zoomDirection, mouseXY) {\n\t\t// console.log(\"zoomDirection \", zoomDirection, \" mouseXY \", mouseXY);\n\t\tvar { xScale: initialXScale, chartConfig: initialChartConfig, plotData: initialPlotData } = this.state;\n\t\tvar { xAccessor, filterData, postCalculator } = this.props;\n\n\t\tvar item = getCurrentItem(initialXScale, xAccessor, mouseXY, initialPlotData),\n\t\t\tcx = initialXScale(xAccessor(item)),\n\t\t\tc = zoomDirection > 0 ? 2 : 0.5,\n\t\t\tnewDomain = initialXScale.range().map(x => cx + (x - cx) * c).map(initialXScale.invert);\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tinitialPlotData,\n\t\t\tinitialXScale.domain());\n\n\t\tplotData = postCalculator(plotData);\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\n\t\tvar currentItem = getCurrentItem(updatedScale, xAccessor, mouseXY, plotData);\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData);\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\t\tthis.clearThreeCanvas();\n\t\t// this.clearInteractiveCanvas();\n\n\t\t// console.log(showingInterval, updatedInterval);\n\t\tthis.clearCanvasDrawCallbackList();\n\t\tthis.setState({\n\t\t\txScale: updatedScale,\n\t\t\tplotData,\n\t\t\tmouseXY,\n\t\t\tcurrentCharts,\n\t\t\tchartConfig,\n\t\t\tcurrentItem,\n\t\t});/**/\n\t}\n\n\thandlePanStart(panStartDomain, panOrigin, dxy) {\n\t\t// console.log(\"panStartDomain - \", panStartDomain, \", panOrigin - \", panOrigin);\n\t\tthis.setState({\n\t\t\tpanInProgress: true,\n\t\t\t// panStartDomain: panStartDomain,\n\t\t\tpanStartXScale: this.state.xScale,\n\t\t\tpanOrigin: panOrigin,\n\t\t\tfocus: true,\n\t\t\tdeltaXY: dxy, // used in EventCapture\n\t\t\treceivedPropsOnPanStart: this.state.receivedProps,\n\t\t});\n\t\tthis.panHappened = false;\n\t}\n\tpanHelper(mouseXY) {\n\t\tvar { panStartXScale: initialXScale, chartConfig: initialChartConfig } = this.state;\n\t\tvar { panOrigin } = this.state;\n\t\tvar { xAccessor, filterData, postCalculator } = this.props;\n\n\t\tvar dx = mouseXY[0] - panOrigin[0];\n\n\t\tif (isNotDefined(initialXScale.invert))\n\t\t\tthrow new Error(\"xScale provided does not have an invert() method.\"\n\t\t\t\t+ \"You are likely using an ordinal scale. This scale does not support zoom, pan\");\n\t\tvar newDomain = initialXScale.range().map(x => x - dx).map(initialXScale.invert);\n\n\t\tvar { plotData, domain } = filterData(newDomain,\n\t\t\txAccessor,\n\t\t\tthis.hackyWayToStopPanBeyondBounds__plotData,\n\t\t\tthis.hackyWayToStopPanBeyondBounds__domain);\n\n\t\tvar updatedScale = initialXScale.copy().domain(domain);\n\t\tplotData = postCalculator(plotData);\n\t\t// console.log(last(plotData));\n\t\tvar currentItem = getCurrentItem(updatedScale, xAccessor, mouseXY, plotData);\n\t\tvar chartConfig = getChartConfigWithUpdatedYScales(initialChartConfig, plotData);\n\t\tvar currentCharts = getCurrentCharts(chartConfig, mouseXY);\n\n\t\treturn {\n\t\t\txScale: updatedScale,\n\t\t\tplotData,\n\t\t\tmouseXY,\n\t\t\tcurrentCharts,\n\t\t\tchartConfig,\n\t\t\tcurrentItem,\n\t\t};\n\t}\n\thandlePan(mousePosition/* , e*/) {\n\t\tthis.panHappened = true;\n\t\tvar state = this.panHelper(mousePosition);\n\n\t\tthis.hackyWayToStopPanBeyondBounds__plotData = state.plotData;\n\t\tthis.hackyWayToStopPanBeyondBounds__domain = state.xScale.domain();\n\n\t\tif (this.props.type !== \"svg\") {\n\t\t\tvar { axes: axesCanvasContext, mouseCoord: mouseContext } = this.getCanvasContexts();\n\t\t\tvar { mouseXY, chartConfig, plotData, currentItem, xScale, currentCharts } = state;\n\t\t\tvar { show } = this.state;\n\t\t\tvar { canvasDrawCallbackList } = this;\n\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\t// this.clearCanvas([axesCanvasContext, mouseContext]);\n\t\t\t\t// this.clearCanvas([axesCanvasContext, mouseContext]);\n\t\t\t\tthis.clearBothCanvas();\n\t\t\t\t// this.clearInteractiveCanvas();\n\n\t\t\t\t// console.log(canvasDrawCallbackList.length)\n\n\t\t\t\tchartConfig.forEach(eachChart => {\n\t\t\t\t\tcanvasDrawCallbackList\n\t\t\t\t\t\t.filter(each => eachChart.id === each.chartId)\n\t\t\t\t\t\t.forEach(each => {\n\t\t\t\t\t\t\tvar { yScale } = eachChart;\n\n\t\t\t\t\t\t\tif (each.type === \"axis\") {\n\t\t\t\t\t\t\t\teach.draw(axesCanvasContext, xScale, yScale);\n\t\t\t\t\t\t\t} else if (each.type === \"currentcoordinate\") {\n\t\t\t\t\t\t\t\teach.draw(mouseContext, show, xScale, yScale, currentItem);\n\t\t\t\t\t\t\t} else if (each.type === \"mouse\") {\n\t\t\t\t\t\t\t\teach.draw(mouseContext, show, xScale, mouseXY, currentCharts, eachChart, currentItem);\n\t\t\t\t\t\t\t} else if (each.type !== \"interactive\") {\n\t\t\t\t\t\t\t\teach.draw(axesCanvasContext, xScale, yScale, plotData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t});\n\t\t\t\tthis.drawInteractive(state);\n\t\t\t\tcanvasDrawCallbackList\n\t\t\t\t\t.filter(each => isNotDefined(each.chartId))\n\t\t\t\t\t.filter(each => each.type === \"axis\")\n\t\t\t\t\t.forEach(each => each.draw(axesCanvasContext, chartConfig));\n\n\t\t\t\tcanvasDrawCallbackList\n\t\t\t\t\t.filter(each => each.type === \"mouse\")\n\t\t\t\t\t.filter(each => isNotDefined(each.chartId))\n\t\t\t\t\t.forEach(each => each.draw(mouseContext, show,\n\t\t\t\t\t\txScale, mouseXY, currentCharts, chartConfig, currentItem));\n\n\t\t\t\tcanvasDrawCallbackList\n\t\t\t\t\t.filter(each => each.type === \"annotation\")\n\t\t\t\t\t.forEach(each => each.draw({\n\t\t\t\t\t\txScale,\n\t\t\t\t\t\tchartConfig,\n\t\t\t\t\t\tplotData,\n\t\t\t\t\t\tmouseXY,\n\t\t\t\t\t\tcurrentCharts,\n\t\t\t\t\t\tcurrentItem\n\t\t\t\t\t}));\n\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState(state);\n\t\t}\n\t}\n\tdrawInteractive({ plotData, chartConfig, xScale }) {\n\t\tvar { interactive } = this.getCanvasContexts();\n\n\t\tthis.canvasDrawCallbackList\n\t\t\t.filter(each => each.type === \"interactive\")\n\t\t\t.forEach(each => {\n\t\t\t\tchartConfig\n\t\t\t\t\t.filter(eachChart => eachChart.id === each.chartId)\n\t\t\t\t\t.forEach(eachChart => {\n\t\t\t\t\t\teach.draw(interactive, { xScale, plotData,  chartConfig: eachChart });\n\t\t\t\t\t\t// console.log(\"DRAW\");\n\t\t\t\t\t});\n\t\t\t});\n\t}\n\tclearCanvasDrawCallbackList() {\n\t\tthis.canvasDrawCallbackList = [];\n\t}\n\thandlePanEnd(mousePosition) {\n\t\tvar state = this.panHelper(mousePosition);\n\t\t// console.log(this.canvasDrawCallbackList.map(d => d.type));\n\t\tthis.hackyWayToStopPanBeyondBounds__plotData = null;\n\t\tthis.hackyWayToStopPanBeyondBounds__domain = null;\n\n\t\tthis.clearCanvasDrawCallbackList();\n\n\t\tthis.clearThreeCanvas();\n\n\t\t// console.log(interactiveState[0].interactive);\n\t\tthis.setState({\n\t\t\t...state,\n\t\t\tshow: this.state.show,\n\t\t\tpanInProgress: false,\n\t\t\tpanStartXScale: null,\n\t\t});\n\t}\n\tsetInteractiveState(id, chartId, interactive) {\n\t\tvar everyThingElse = this.interactiveState\n\t\t\t.filter(each => !(each.id === id && each.chartId === chartId));\n\n\t\tthis.interactiveState = everyThingElse.concat({ id, chartId, interactive });\n\t}\n\tgetInteractiveState(forChart, id, initialState) {\n\t\tvar state = this.interactiveState\n\t\t\t.filter(each => each.chartId === forChart)\n\t\t\t.filter(each => each.id === id);\n\n\t\tvar response = (state.length > 0)\n\t\t\t? response = state[0].interactive\n\t\t\t: initialState;\n\t\treturn response;\n\t}\n\thandleFocus(focus) {\n\t\t// console.log(focus);interactive\n\t\tthis.setState({\n\t\t\tfocus: focus,\n\t\t});\n\t}\n\trender() {\n\t\t// var { chartConfig } = this.state;\n\t\t// var { dimensions } = this.props;\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t{this.props.children}\n\t\t\t</g>\n\t\t);\n\t}\n}\nEventHandler.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func.isRequired,\n\t// interval: PropTypes.string,\n\tdimensions: PropTypes.object,\n\tpostCalculator: PropTypes.func.isRequired,\n\tcanvasContexts: PropTypes.func.isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tplotData: PropTypes.array,\n\tpadding: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.shape({\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t})\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([-1, 1]).isRequired,\n\tlastItem: PropTypes.object,\n\tdisplayXAccessor: PropTypes.func,\n\tfilterData: PropTypes.func,\n\t// showingInterval: PropTypes.string,\n};\n\nEventHandler.childContextTypes = {\n\tplotData: PropTypes.array,\n\tdata: PropTypes.array,\n\tchartConfig: PropTypes.arrayOf(\n\t\tPropTypes.shape({\n\t\t\tid: PropTypes.number.isRequired,\n\t\t\torigin: PropTypes.arrayOf(PropTypes.number).isRequired,\n\t\t\tpadding: PropTypes.oneOfType([\n\t\t\t\tPropTypes.number,\n\t\t\t\tPropTypes.shape({\n\t\t\t\t\ttop: PropTypes.number,\n\t\t\t\t\tbottom: PropTypes.number,\n\t\t\t\t})\n\t\t\t]),\n\t\t\tyExtents: PropTypes.arrayOf(PropTypes.func).isRequired,\n\t\t\tyScale: PropTypes.func.isRequired,\n\t\t\tmouseCoordinates: PropTypes.shape({\n\t\t\t\tat: PropTypes.string,\n\t\t\t\tformat: PropTypes.func\n\t\t\t}),\n\t\t\twidth: PropTypes.number.isRequired,\n\t\t\theight: PropTypes.number.isRequired,\n\t\t})\n\t).isRequired,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\tcurrentItem: PropTypes.object,\n\tshow: PropTypes.bool,\n\tmouseXY: PropTypes.array,\n\t// interval: PropTypes.string,\n\tcurrentCharts: PropTypes.array,\n\tmainChart: PropTypes.number,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tchartCanvasType: PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n\n\tmargin: PropTypes.object.isRequired,\n\tdataTransform: PropTypes.array,\n\n\tsubscribe: PropTypes.func,\n\tunsubscribe: PropTypes.func,\n\tgetInteractiveState: PropTypes.func.isRequired,\n\tsetInteractiveState: PropTypes.func,\n\tcallbackForCanvasDraw: PropTypes.func,\n\tgetAllCanvasDrawCallback: PropTypes.func,\n\tgetCanvasContexts: PropTypes.func,\n\tonMouseMove: PropTypes.func,\n\tonMouseEnter: PropTypes.func,\n\tonMouseLeave: PropTypes.func,\n\tonZoom: PropTypes.func,\n\tonPinchZoom: PropTypes.func,\n\tonPanStart: PropTypes.func,\n\tonPan: PropTypes.func,\n\tonPanEnd: PropTypes.func,\n\tpanInProgress: PropTypes.bool.isRequired,\n\tfocus: PropTypes.bool.isRequired,\n\tonFocus: PropTypes.func,\n\tdeltaXY: PropTypes.arrayOf(Number),\n};\n\nexport default EventHandler;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/EventHandler.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass CanvasContainer extends Component {\n\tgetCanvasContexts() {\n\n\t\tvar {\n\t\t\tcanvas_axes: axesCanvasDOM,\n\t\t\tcanvas_mouse_coordinates: mouseCoordDOM,\n\t\t\t// canvas_interactive: interactiveDOM,\n\t\t\tbg: bgDOM\n\t\t} = this.refs;\n\n\t\tif (this.refs.canvas_axes) {\n\t\t\treturn {\n\t\t\t\taxes: axesCanvasDOM.getContext(\"2d\"),\n\t\t\t\tmouseCoord: mouseCoordDOM.getContext(\"2d\"),\n\t\t\t\t// interactive: interactiveDOM.getContext(\"2d\"),\n\t\t\t\tbg: bgDOM.getContext(\"2d\"),\n\t\t\t};\n\t\t}\n\t}\n\trender() {\n\t\tvar { height, width, type, zIndex } = this.props;\n\t\tif (type === \"svg\") return null;\n\t\treturn (\n\t\t\t<div style={{ zIndex: zIndex }}>\n\t\t\t\t<canvas ref=\"bg\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n\t\t\t\t<canvas ref=\"canvas_axes\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n\t\t\t\t<canvas ref=\"canvas_mouse_coordinates\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\n/*\n\t\t\t\t<canvas ref=\"canvas_interactive\" width={width} height={height}\n\t\t\t\t\tstyle={{ position: \"absolute\", left: 0, top: 0 }} />\n*/\n\nCanvasContainer.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\ttype: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n};\n\nexport default CanvasContainer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/CanvasContainer.jsx\n **/","\"use strict\";\n\nimport {\n\tfirst,\n\tlast,\n\tgetClosestItemIndexes,\n\tisDefined,\n\tisNotDefined,\n\tidentity,\n} from \"../utils\";\n\nfunction extentsWrapper(data, inputXAccessor, realXAccessor, width, useWholeData) {\n\tfunction domain(inputDomain, xAccessor, currentPlotData, currentDomain) {\n\t\tif (useWholeData) {\n\t\t\treturn { plotData: data, domain: inputDomain };\n\t\t}\n\n\t\tvar left = first(inputDomain);\n\t\tvar right = last(inputDomain);\n\n\t\tvar filteredData = getFilteredResponse(data, left, right, xAccessor);\n\n\t\tvar plotData, domain;\n\t\tif (canShowTheseManyPeriods(width, filteredData.length)) {\n\t\t\tplotData = filteredData;\n\t\t\t// domain = subsequent ? inputDomain : [realXAccessor(first(plotData)), realXAccessor(last(plotData))]\n\t\t\tdomain = realXAccessor === xAccessor ? inputDomain : [realXAccessor(first(plotData)), realXAccessor(last(plotData))];\n\t\t} else {\n\t\t\tplotData = currentPlotData || filteredData.slice(filteredData.length - showMax(width));\n\t\t\tdomain = currentDomain || [realXAccessor(first(plotData)), realXAccessor(last(plotData))];\n\t\t}\n\n\t\treturn { plotData, domain };\n\t}\n\n\treturn domain;\n}\n\nfunction canShowTheseManyPeriods(width, arrayLength) {\n\tvar threshold = 0.75; // number of datapoints per 1 px\n\treturn arrayLength < width * threshold && arrayLength > 1;\n}\n\nfunction showMax(width) {\n\tvar threshold = 0.75; // number of datapoints per 1 px\n\treturn Math.floor(width * threshold);\n}\n\nfunction getFilteredResponse(data, left, right, xAccessor) {\n\tvar newLeftIndex = getClosestItemIndexes(data, left, xAccessor).right;\n\tvar newRightIndex = getClosestItemIndexes(data, right, xAccessor).left;\n\n\tvar filteredData = data.slice(newLeftIndex, newRightIndex + 1);\n\t// console.log(right, newRightIndex, dataForInterval.length);\n\n\treturn filteredData;\n}\n\nfunction compose(funcs) {\n\tif (funcs.length === 0) {\n\t\treturn identity;\n\t}\n\n\tif (funcs.length === 1) {\n\t\treturn funcs[0];\n\t}\n\n\tvar [head, ...tail] = funcs;\n\n\treturn args => tail.reduce((composed, f) => f(composed), head(args));\n}\n\nexport default function() {\n\n\tvar xAccessor, useWholeData, width, xScale,\n\t\tmap, calculator = [], scaleProvider,\n\t\tindexAccessor, indexMutator;\n\n\tfunction evaluate(data) {\n\n\t\tvar mappedData = data.map(map);\n\n\t\tvar composedCalculator = compose(calculator);\n\t\tvar calculatedData = composedCalculator(mappedData);\n\n\t\tif (isDefined(scaleProvider)) {\n\t\t\tvar {\n\t\t\t\tdata: finalData,\n\t\t\t\txScale: modifiedXScale,\n\t\t\t\txAccessor: realXAccessor,\n\t\t\t\tdisplayXAccessor\n\t\t\t} = scaleProvider(calculatedData, xAccessor, indexAccessor, indexMutator);\n\n\t\t\treturn {\n\t\t\t\tfilterData: extentsWrapper(finalData, xAccessor, realXAccessor, width, useWholeData || isNotDefined(modifiedXScale.invert)),\n\t\t\t\txScale: modifiedXScale,\n\t\t\t\txAccessor: realXAccessor,\n\t\t\t\tdisplayXAccessor,\n\t\t\t\tlastItem: last(finalData),\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tfilterData: extentsWrapper(calculatedData, xAccessor, xAccessor, width, useWholeData || isNotDefined(xScale.invert)),\n\t\t\txScale,\n\t\t\txAccessor,\n\t\t\tdisplayXAccessor: xAccessor,\n\t\t\tlastItem: last(calculatedData),\n\t\t};\n\t}\n\tevaluate.xAccessor = function(x) {\n\t\tif (!arguments.length) return xAccessor;\n\t\txAccessor = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.map = function(x) {\n\t\tif (!arguments.length) return map;\n\t\tmap = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.indexAccessor = function(x) {\n\t\tif (!arguments.length) return indexAccessor;\n\t\tindexAccessor = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.indexMutator = function(x) {\n\t\tif (!arguments.length) return indexMutator;\n\t\tindexMutator = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.scaleProvider = function(x) {\n\t\tif (!arguments.length) return scaleProvider;\n\t\tscaleProvider = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.xScale = function(x) {\n\t\tif (!arguments.length) return xScale;\n\t\txScale = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.useWholeData = function(x) {\n\t\tif (!arguments.length) return useWholeData;\n\t\tuseWholeData = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.width = function(x) {\n\t\tif (!arguments.length) return width;\n\t\twidth = x;\n\t\treturn evaluate;\n\t};\n\tevaluate.calculator = function(x) {\n\t\tif (!arguments.length) return calculator;\n\t\tcalculator = x;\n\t\treturn evaluate;\n\t};\n\n\treturn evaluate;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/scale/evaluator.js\n **/","import React, { PropTypes } from \"react\";\nimport PureComponent from \"./utils/PureComponent\";\n\nimport { hexToRGBA, isDefined } from \"./utils\";\n\nclass BackgroundText extends PureComponent {\n\tcomponentDidMount() {\n\t\tif (this.context.chartCanvasType !== \"svg\" && isDefined(this.context.getCanvasContexts)) {\n\t\t\tvar contexts = this.context.getCanvasContexts();\n\t\t\tif (contexts) BackgroundText.drawOnCanvas(contexts.bg, this.props, this.context, this.props.children);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\trender() {\n\t\tvar { chartCanvasType } = this.context;\n\n\t\tif (chartCanvasType !== \"svg\") return null;\n\n\t\tvar { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor } = this.props;\n\t\tvar props = { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor };\n\t\treturn (\n\t\t\t<text {...props}>this.props.children(interval)</text>\n\t\t);\n\t}\n}\n\nBackgroundText.drawOnCanvas = (ctx, props, { interval }, getText) => {\n\tctx.clearRect(-1, -1, ctx.canvas.width + 2, ctx.canvas.height + 2);\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(0.5, 0.5);\n\n\tvar { x, y, fill, opacity, stroke, strokeOpacity, fontFamily, fontSize, textAnchor } = props;\n\n\tvar text = getText(interval);\n\n\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\n\n\tctx.font = `${ fontSize }px ${ fontFamily }`;\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n\tif (stroke !== \"none\") ctx.strokeText(text, x, y);\n\tctx.fillText(text, x, y);\n\n\tctx.restore();\n};\n\nBackgroundText.propTypes = {\n\tx: PropTypes.number.isRequired,\n\ty: PropTypes.number.isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number.isRequired,\n};\n\nBackgroundText.defaultProps = {\n\topacity: 0.3,\n\tfill: \"#9E7523\",\n\tstroke: \"#9E7523\",\n\tstrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\ttextAnchor: \"middle\",\n};\n\nBackgroundText.contextTypes = {\n\tinterval: PropTypes.string.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tchartCanvasType: PropTypes.string,\n};\n\nexport default BackgroundText;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/BackgroundText.jsx\n **/","import AreaSeries from \"./AreaSeries\";\nimport ScatterSeries from \"./ScatterSeries\";\nimport CircleMarker from \"./CircleMarker\";\nimport LineSeries from \"./LineSeries\";\nimport CandlestickSeries from \"./CandlestickSeries\";\nimport OHLCSeries from \"./OHLCSeries\";\nimport BarSeries from \"./BarSeries\";\nimport StackedBarSeries from \"./StackedBarSeries\";\nimport GroupedBarSeries from \"./GroupedBarSeries\";\nimport KagiSeries from \"./KagiSeries\";\nimport PointAndFigureSeries from \"./PointAndFigureSeries\";\nimport RenkoSeries from \"./RenkoSeries\";\nimport MACDSeries from \"./MACDSeries\";\nimport BollingerSeries from \"./BollingerSeries\";\nimport RSISeries from \"./RSISeries\";\nimport StochasticSeries from \"./StochasticSeries\";\nimport ElderRaySeries from \"./ElderRaySeries\";\nimport VolumeProfileSeries from \"./VolumeProfileSeries\";\n\n// import ElderImpulseBackground from \"./ElderImpulseBackground\";\n\nimport Area from \"./Area\";\nimport Line from \"./Line\";\nimport StraightLine from \"./StraightLine\";\n\nimport wrap from \"./wrap\";\n\nexport {\n\tScatterSeries,\n\tCircleMarker,\n\tAreaSeries,\n\tLineSeries,\n\tCandlestickSeries,\n\tOHLCSeries,\n\tBarSeries,\n\tStackedBarSeries,\n\tGroupedBarSeries,\n\tKagiSeries,\n\tPointAndFigureSeries,\n\tRenkoSeries,\n\tMACDSeries,\n\tBollingerSeries,\n\tRSISeries,\n\tStochasticSeries,\n\tElderRaySeries,\n\tVolumeProfileSeries,\n\tArea,\n\tLine,\n\tStraightLine,\n\twrap\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/index.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport Line from \"./Line\";\nimport Area from \"./Area\";\n\nimport wrap from \"./wrap\";\n\nclass AreaSeries extends Component {\n\trender() {\n\t\tvar { props } = this;\n\t\tvar { className, xScale, yScale, xAccessor, yAccessor, plotData, type, stroke, strokeWidth, fill, baseAt } = props;\n\n\t\tvar { opacity } = props;\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<Line\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\txAccessor={xAccessor} yAccessor={yAccessor}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tstroke={stroke} fill=\"none\"\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t\ttype={type} />\n\t\t\t\t<Area\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\txAccessor={xAccessor} yAccessor={yAccessor}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tbase={baseAt}\n\t\t\t\t\tstroke=\"none\" fill={fill} opacity={opacity}\n\t\t\t\t\ttype={type} />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nAreaSeries.propTypes = {\n\tstroke: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tfill: PropTypes.string.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tclassName: PropTypes.string,\n};\n\nAreaSeries.defaultProps = {\n\tstroke: \"#4682B4\",\n\tstrokeWidth: 1,\n\topacity: 0.5,\n\tfill: \"#4682B4\",\n\tclassName: \"react-stockcharts-area\"\n};\n\nAreaSeries.yAccessor = (d) => d.close;\n\nexport default wrap(AreaSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/AreaSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport wrap from \"./wrap\";\n\nimport { first } from \"../utils\";\n\nclass Line extends Component {\n\trender() {\n\t\tvar { stroke, strokeWidth, fill, className } = this.props;\n\n\t\tclassName = className.concat((stroke) ? \"\" : \" line-stroke\");\n\t\treturn <path d={Line.getPath(this.props)} stroke={stroke} strokeWidth={strokeWidth} fill={fill} className={className}/>;\n\t}\n}\n\nLine.propTypes = {\n\tclassName: PropTypes.string,\n\txScale: PropTypes.func.isRequired,\n\tyScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tyAccessor: PropTypes.func.isRequired,\n\tplotData: PropTypes.array.isRequired,\n\tstroke: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\tfill: PropTypes.string,\n};\n\nLine.defaultProps = {\n\tclassName: \"line \",\n\tfill: \"none\",\n\tstroke: \"black\",\n\tstrokeWidth: 1,\n\tdefined: d => !isNaN(d),\n};\n\nLine.getPath = (props) => {\n\tvar { plotData, xScale, yScale, xAccessor, yAccessor, defined } = props;\n\n\tvar dataSeries = d3.svg.line()\n\t\t.defined(d => defined(yAccessor(d)))\n\t\t.x(d => xScale(xAccessor(d)))\n\t\t.y(d => yScale(yAccessor(d)));\n\treturn dataSeries(plotData);\n};\n\nfunction segment(points, ctx) {\n\tctx.beginPath();\n\n\tlet [x, y] = first(points);\n\tctx.moveTo(x, y);\n\tfor (let i = 1; i < points.length; i++) {\n\t\tlet [x1, y1] = points[i];\n\t\tctx.lineTo(x1, y1);\n\t}\n\n\tctx.stroke();\n}\n\nLine.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\tvar { xAccessor, yAccessor, stroke, strokeWidth, defined } = props;\n\n\tctx.lineWidth = strokeWidth;\n\tctx.strokeStyle = stroke;\n\n\tvar points = [];\n\tfor (let i = 0; i < plotData.length; i++) {\n\t\tlet d = plotData[i];\n\t\tif (defined(yAccessor(d), i)) {\n\t\t\tlet [x, y] = [xScale(xAccessor(d)), yScale(yAccessor(d))];\n\n\t\t\tpoints.push([x, y]);\n\t\t} else if (points.length) {\n\t\t\tsegment(points, ctx);\n\t\t\tpoints = [];\n\t\t}\n\t}\n\n\tif (points.length) segment(points, ctx);\n\n};\n\nexport default wrap(Line);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/Line.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport pure from \"../pure\";\nimport { isDefined } from \"../utils\";\n\nfunction getDisplayName(Series) {\n\tvar name = Series.displayName || Series.name || \"Series\";\n\treturn name;\n}\n\nfunction wrap(WrappedSeries) {\n\tclass BaseCanvasSeries extends Component {\n\t\tcomponentDidMount() {\n\t\t\tvar callback = WrappedSeries.drawOnCanvas;\n\t\t\tif (callback) {\n\t\t\t\tvar { chartCanvasType, getCanvasContexts } = this.props;\n\n\t\t\t\tif (chartCanvasType !== \"svg\" && isDefined(getCanvasContexts)) {\n\t\t\t\t\tvar contexts = getCanvasContexts();\n\t\t\t\t\tvar props = { ...WrappedSeries.defaultProps, ...this.props };\n\n\t\t\t\t\tif (contexts) BaseCanvasSeries.baseReStockDrawOnCanvasHelper(contexts.axes, props, callback);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tcomponentDidUpdate() {\n\t\t\tthis.componentDidMount();\n\t\t}\n\t\tcomponentWillMount() {\n\t\t\tthis.componentWillReceiveProps(this.props);\n\t\t}\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\t// console.log(\"HERE1\");\n\t\t\tvar { chartCanvasType } = nextProps;\n\t\t\tvar callback = WrappedSeries.drawOnCanvas;\n\n\t\t\tif (callback && chartCanvasType !== \"svg\") {\n\n\t\t\t\tvar {\n\t\t\t\t\tcanvasOriginX,\n\t\t\t\t\tcanvasOriginY,\n\t\t\t\t\theight,\n\t\t\t\t\twidth,\n\t\t\t\t\txAccessor,\n\t\t\t\t\tyAccessor,\n\t\t\t\t\tchartId\n\t\t\t\t} = nextProps;\n\n\t\t\t\tvar canvasOrigin = [canvasOriginX, canvasOriginY];\n\n\t\t\t\tvar props = { ...WrappedSeries.defaultProps, ...nextProps };\n\n\n\t\t\t\tvar draw = BaseCanvasSeries.baseReStockDrawOnCanvas.bind(null, props,\n\t\t\t\t\tcallback, canvasOrigin, height, width, xAccessor, yAccessor);\n\n\t\t\t\tnextProps.callbackForCanvasDraw({\n\t\t\t\t\tchartId: chartId,\n\t\t\t\t\ttype: \"series\",\n\t\t\t\t\t// seriesId: seriesId,\n\t\t\t\t\tdraw: draw,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\trender() {\n\t\t\tvar callback = WrappedSeries.drawOnCanvas;\n\t\t\tvar { clip, chartCanvasType, chartConfig } = this.props;\n\n\t\t\tif (chartCanvasType !== \"svg\" && isDefined(callback)) return null;\n\t\t\tvar style = clip ? { \"clipPath\": \"url(#chart-area-clip)\" } : null;\n\n\t\t\t// Idea: send plotData + 1 row on left + 1 row on right so the chart shows a continuity when pan\n\t\t\t// Problems:\n\t\t\t// \t\tEdge coordinate will not seem consistent\n\t\t\t// \t\tyExtents will not be valid any more\n\t\t\t// \t\tcandle width will not be valid any more\n\n\t\t\treturn (\n\t\t\t\t<g style={style}>\n\t\t\t\t\t<WrappedSeries ref=\"wrappedSeries\"\n\t\t\t\t\t\tyScale={chartConfig.yScale}\n\t\t\t\t\t\t{...this.props} />\n\t\t\t\t</g>\n\t\t\t);\n\t\t}\n\t}\n\n\tBaseCanvasSeries.displayName = `wrap(${ getDisplayName(WrappedSeries) })`;\n\n\tBaseCanvasSeries.baseReStockDrawOnCanvasHelper = (canvasContext, props, callback) => {\n\t\tvar { height, width, xAccessor, yAccessor,\n\t\t\txScale, chartConfig, yScale, plotData, canvasOriginX, canvasOriginY } = props;\n\t\tvar canvasOrigin = [canvasOriginX, canvasOriginY];\n\n\t\tBaseCanvasSeries.baseReStockDrawOnCanvas(props, callback, canvasOrigin, height, width,\n\t\t\txAccessor, yAccessor, canvasContext, xScale, yScale || chartConfig.yScale, plotData);\n\t};\n\n\tBaseCanvasSeries.baseReStockDrawOnCanvas = (props, callback,\n\t\t\tcanvasOrigin, height, width,\n\t\t\txAccessor, yAccessor, ctx, xScale, yScale, plotData) => {\n\n\t\tctx.save();\n\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\tctx.translate(canvasOrigin[0], canvasOrigin[1]);\n\n\t\tif (props.clip) {\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(-1, -1, width + 1, height + 1);\n\t\t\tctx.clip();\n\t\t}\n\n\t\t// console.log(canvasOrigin, width, height);\n\n\t\t// console.log(\"HERE\");\n\t\tif (callback) {\n\t\t\tvar newProps = { height, width, xAccessor, yAccessor, ...props };\n\n\t\t\tcallback(newProps, ctx, xScale, yScale, plotData);\n\t\t}\n\n\t\tctx.restore();\n\t};\n\n\tBaseCanvasSeries.defaultProps = {\n\t\t...WrappedSeries.defaultProps,\n\t\tclip: true,\n\t};\n\n\tBaseCanvasSeries.propTypes = {\n\t\tgetCanvasContexts: PropTypes.func,\n\t\tchartConfig: PropTypes.object,\n\t\tchartCanvasType: PropTypes.string,\n\t\tclip: PropTypes.bool.isRequired,\n\t};\n\n\t// console.log(Object.keys(BaseCanvasSeries))\n\treturn pure(BaseCanvasSeries, {\n\t\tgetCanvasContexts: PropTypes.func,\n\t\tcanvasOriginX: PropTypes.number,\n\t\tcanvasOriginY: PropTypes.number,\n\t\theight: PropTypes.number.isRequired,\n\t\twidth: PropTypes.number.isRequired,\n\t\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n\t\tchartId: PropTypes.number.isRequired,\n\t\t// seriesId: PropTypes.number.isRequired,\n\t\t// stroke: PropTypes.string,\n\t\t// fill: PropTypes.string,\n\t\tchartConfig: PropTypes.object.isRequired,\n\t\tchartCanvasType: PropTypes.string,\n\t\txScale: PropTypes.func.isRequired,\n\t\t// yScale: PropTypes.func.isRequired,\n\t\txAccessor: PropTypes.func.isRequired,\n\t\tplotData: PropTypes.array.isRequired,\n\t});\n}\n\nexport default wrap;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/wrap.jsx\n **/","\"use strict\";\n\nimport React, { Component } from \"react\";\nimport { shallowEqual } from \"./utils\";\n\nfunction getDisplayName(Series) {\n\tvar name = Series.displayName || Series.name || \"Series\";\n\treturn name;\n}\n\nfunction pure(PureSeries, contextShape, ignorePropKeys = []) {\n\tclass PureCanvasSeries extends Component {\n\t\tshouldComponentUpdate(nextProps, nextState, nextContext) {\n\t\t\treturn !shallowEqual(this.props, nextProps)\n\t\t\t\t|| !shallowEqual(this.state, nextState)\n\t\t\t\t|| !shallowEqual(this.context, nextContext);\n\t\t}\n\t\tgetWrappedComponent() {\n\t\t\treturn this.refs.pureSeries;\n\t\t}\n\t\trender() {\n\t\t\tvar ctx = {};\n\t\t\tObject.keys(this.context)\n\t\t\t\t.filter(key => ignorePropKeys.indexOf(key) === -1)\n\t\t\t\t.forEach(key => {\n\t\t\t\t\tctx[key] = this.context[key];\n\t\t\t\t});\n\t\t\treturn <PureSeries ref=\"pureSeries\"\n\t\t\t\t{...ctx}\n\t\t\t\t{...this.props} />;\n\t\t}\n\t}\n\n\tPureCanvasSeries.displayName = `pure(${ getDisplayName(PureSeries) })`;\n\n\tPureCanvasSeries.contextTypes = contextShape;\n\n\tvar defaultProps = {};\n\n\tif (PureSeries.defaultProps) {\n\t\tObject.keys(PureSeries.defaultProps)\n\t\t\t.forEach(key => {\n\t\t\t\tdefaultProps[key] = PureSeries.defaultProps[key];\n\t\t\t});\n\t\tPureCanvasSeries.defaultProps = defaultProps;\n\t}\n\n\t/* Object.keys(PureSeries)\n\t\t.filter((key) => key !== \"propTypes\")\n\t\t.filter(key => key !== \"defaultProps\")\n\t\t.filter(key => key !== \"displayName\")\n\t\t.filter(key => key !== \"contextTypes\")\n\t\t.filter(key => key !== \"childContextTypes\")\n\t\t.forEach(key => PureCanvasSeries[key] = PureSeries[key]);*/\n\n\t// console.log(Object.keys(PureCanvasSeries))\n\treturn PureCanvasSeries;\n}\n\nexport default pure;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/pure.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport wrap from \"./wrap\";\nimport { hexToRGBA, isDefined, first } from \"../utils\";\n\nclass Area extends Component {\n\trender() {\n\t\tvar { props } = this;\n\t\tvar { stroke, fill, className, opacity } = props;\n\n\t\tclassName = className.concat(isDefined(stroke) ? \"\" : \" line-stroke\");\n\t\treturn (\n\t\t\t<path d={Area.getArea(props)} stroke={stroke} fill={fill} className={className} opacity={opacity} />\n\t\t);\n\t}\n}\n\nArea.propTypes = {\n\tclassName: PropTypes.string,\n\txScale: PropTypes.func.isRequired,\n\tyScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tyAccessor: PropTypes.func.isRequired,\n\tplotData: PropTypes.array.isRequired,\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tbase: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.number\n\t]),\n};\n\nArea.defaultProps = {\n\tclassName: \"line \",\n\tfill: \"none\",\n\topacity: 1,\n\tdefined: d => !isNaN(d),\n\tbase: (yScale/* , d*/) => first(yScale.range()),\n};\nArea.getArea = (props) => {\n\tvar { plotData, xScale, yScale, xAccessor, yAccessor, base, defined } = props;\n\tvar newBase = d3.functor(base);\n\n\tvar areaSeries = d3.svg.area()\n\t\t.defined(d => defined(yAccessor(d)))\n\t\t.x((d) => xScale(xAccessor(d)))\n\t\t.y0(newBase.bind(null, yScale))\n\t\t.y1((d) => yScale(yAccessor(d)));\n\n\t// console.log(\"HERE\", yAccessor(plotData[0]));\n\treturn areaSeries(plotData);\n};\n\nfunction segment(points0, points1, ctx) {\n\tctx.beginPath();\n\tvar [x0, y0] = first(points0);\n\tctx.moveTo(x0, y0);\n\n\tvar i;\n\tfor (i = 0; i < points1.length; i++) {\n\t\tlet [x1, y1] = points1[i];\n\t\tctx.lineTo(x1, y1);\n\t}\n\n\tfor (i = points0.length - 1; i >= 0; i--) {\n\t\tlet [x0, y0] = points0[i];\n\t\tctx.lineTo(x0, y0);\n\t}\n\tctx.closePath();\n\tctx.fill();\n}\n\nArea.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\tvar { xAccessor, yAccessor, fill, stroke, opacity, base, defined } = props;\n\t// var height = yScale.range()[0];\n\tvar newBase = d3.functor(base);\n\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.strokeStyle = stroke;\n\n\tvar points0 = [], points1 = [];\n\n\tfor (let i = 0; i < plotData.length; i++) {\n\t\tlet d = plotData[i];\n\t\tif (defined(yAccessor(d), i)) {\n\t\t\tlet [x, y1, y0] = [xScale(xAccessor(d)), yScale(yAccessor(d)), newBase(yScale, d)];\n\n\t\t\tpoints0.push([x, y0]);\n\t\t\tpoints1.push([x, y1]);\n\t\t} else if (points0.length) {\n\t\t\tsegment(points0, points1, ctx);\n\t\t\tpoints0 = [];\n\t\t\tpoints1 = [];\n\t\t}\n\t}\n\tif (points0.length) segment(points0, points1, ctx);\n};\n\nexport default wrap(Area);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/Area.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport wrap from \"./wrap\";\nimport { hexToRGBA } from \"../utils\";\n\nclass ScatterSeries extends Component {\n\trender() {\n\t\tvar { className, markerProps, xScale, yScale, plotData } = this.props;\n\t\tvar points = ScatterSeries.helper(this.props, xScale, yScale, plotData);\n\n\t\treturn <g className={className}>\n\t\t\t{points.map((point, idx) => {\n\t\t\t\tvar { marker: Marker } = point;\n\t\t\t\treturn <Marker key={idx} {...markerProps} point={point} />;\n\t\t\t})}\n\t\t</g>;\n\t}\n}\n\nScatterSeries.propTypes = {\n\tclassName: PropTypes.string,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n\tmarker: PropTypes.func,\n\tmarkerProvider: PropTypes.func,\n\tmarkerProps: PropTypes.object,\n};\n\nScatterSeries.defaultProps = {\n\tclassName: \"react-stockcharts-scatter\",\n};\n\nScatterSeries.yAccessor = d => d.close;\n\nScatterSeries.helper = (props, xScale, yScale, plotData) => {\n\tvar { xAccessor, yAccessor, marker: Marker, markerProvider, markerProps } = props;\n\n\tif (!(markerProvider || Marker)) throw new Error(\"required prop, either marker or markerProvider missing\");\n\n\treturn plotData.map(d => {\n\n\t\tif (markerProvider) Marker = markerProvider(d);\n\n\t\tvar mProps = { ...Marker.defaultProps, ...markerProps };\n\n\t\tvar fill = d3.functor(mProps.fill);\n\t\tvar stroke = d3.functor(mProps.stroke);\n\n\t\treturn {\n\t\t\tx: xScale(xAccessor(d)),\n\t\t\ty: yScale(yAccessor(d)),\n\t\t\tfill: hexToRGBA(fill(d), mProps.opacity),\n\t\t\tstroke: stroke(d),\n\t\t\tdatum: d,\n\t\t\tmarker: Marker,\n\t\t};\n\t});\n};\n\nScatterSeries.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\n\tvar { markerProps } = props;\n\n\tvar points = ScatterSeries.helper(props, xScale, yScale, plotData);\n\n\tvar nest = d3.nest()\n\t\t.key(d => d.fill)\n\t\t.key(d => d.stroke)\n\t\t.entries(points);\n\n\tnest.forEach(fillGroup => {\n\t\tvar { key: fillKey, values: fillValues } = fillGroup;\n\n\t\tif (fillKey !== \"none\") {\n\t\t\tctx.fillStyle = fillKey;\n\t\t}\n\n\t\tfillValues.forEach(strokeGroup => {\n\t\t\tvar { key: strokeKey, values: strokeValues } = strokeGroup;\n\n\t\t\tctx.strokeStyle = strokeKey;\n\n\t\t\tstrokeValues.forEach(point => {\n\t\t\t\tvar { marker } = point;\n\t\t\t\tmarker.drawOnCanvasWithNoStateChange({ ...marker.defaultProps, ...markerProps }, point, ctx);\n\t\t\t});\n\t\t});\n\t});\n};\n\nexport default wrap(ScatterSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/ScatterSeries.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes } from \"react\";\n\nimport { hexToRGBA } from \"../utils\";\n\nfunction Circle(props) {\n\tvar { className, stroke, opacity, fill, point, r } = props;\n\tvar radius = d3.functor(r)(point.datum);\n\treturn (\n\t\t<circle className={className} cx={point.x} cy={point.y} stroke={stroke} fillOpacity={opacity} fill={fill} r={radius} />\n\t);\n}\n\nCircle.propTypes = {\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tpoint: PropTypes.shape({\n\t\tx: PropTypes.number.isRequired,\n\t\ty: PropTypes.number.isRequired,\n\t\tdatum: PropTypes.object.isRequired,\n\t}).isRequired,\n\tclassName: PropTypes.string,\n\tr: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func\n\t]).isRequired\n};\n\nCircle.defaultProps = {\n\tstroke: \"#4682B4\",\n\topacity: 0.5,\n\tfill: \"#4682B4\",\n\tclassName: \"react-stockcharts-marker-circle\",\n};\n\nCircle.drawOnCanvas = (props, point, ctx) => {\n\n\tvar { stroke, fill, opacity } = props;\n\n\tctx.strokeStyle = stroke;\n\n\tif (fill !== \"none\") {\n\t\tctx.fillStyle = hexToRGBA(fill, opacity);\n\t}\n\n\tCircle.drawOnCanvasWithNoStateChange(props, point, ctx);\n};\n\n\nCircle.drawOnCanvasWithNoStateChange = (props, point, ctx) => {\n\n\tvar { r } = props;\n\tvar radius = d3.functor(r)(point.datum);\n\n\tctx.moveTo(point.x, point.y);\n\tctx.beginPath();\n\tctx.arc(point.x, point.y, radius, 0, 2 * Math.PI, false);\n\tctx.stroke();\n\tctx.fill();\n};\n\nexport default Circle;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/CircleMarker.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport Line from \"./Line\";\n\nimport wrap from \"./wrap\";\n\nclass LineSeries extends Component {\n\trender() {\n\t\tvar { props } = this;\n\t\tlet { className, xScale, yScale, xAccessor, yAccessor, plotData, stroke, strokeWidth, type } = props;\n\t\treturn (\n\t\t\t<Line\n\t\t\t\tclassName={className}\n\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\txAccessor={xAccessor} yAccessor={yAccessor}\n\t\t\t\tplotData={plotData}\n\t\t\t\tstroke={stroke} fill=\"none\"\n\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\ttype={type} />\n\t\t);\n\t}\n}\n\nLineSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n};\n\nLineSeries.defaultProps = {\n\tstroke: \"#4682B4\",\n\tclassName: \"line \",\n\tstrokeWidth: 1,\n};\n\nLineSeries.yAccessor = (d) => d.close;\n\nexport default wrap(LineSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/LineSeries.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport wrap from \"./wrap\";\nimport { first, last, hexToRGBA, isDefined } from \"../utils\";\n\nclass CandlestickSeries extends Component {\n\trender() {\n\t\tvar { className, wickClassName, candleClassName } = this.props;\n\t\treturn <g className={className}>\n\t\t\t<g className={wickClassName} key=\"wicks\">\n\t\t\t\t{getWicksSVG(this.props)}\n\t\t\t</g>\n\t\t\t<g className={candleClassName} key=\"candles\">\n\t\t\t\t{getCandlesSVG(this.props)}\n\t\t\t</g>\n\t\t</g>;\n\t}\n}\n\nCandlestickSeries.propTypes = {\n\tclassName: PropTypes.string,\n\twickClassName: PropTypes.string,\n\tcandleClassName: PropTypes.string,\n\twidthRatio: PropTypes.number.isRequired,\n\tclassNames: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tstroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\twickStroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\n\nCandlestickSeries.defaultProps = {\n\tclassName: \"react-stockcharts-candlestick\",\n\twickClassName: \"react-stockcharts-candlestick-wick\",\n\tcandleClassName: \"react-stockcharts-candlestick-candle\",\n\tyAccessor: d => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n\tclassNames: d => d.close > d.open ? \"up\" : \"down\",\n\twidthRatio: 0.5,\n\twickStroke: \"#000000\",\n\t// wickStroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\tfill: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\t// stroke: d => d.close > d.open ? \"#6BA583\" : \"#FF0000\",\n\t// stroke: \"#000000\",\n\tstroke: \"none\",\n\topacity: 1,\n};\n\nfunction getWicksSVG(props) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { xAccessor, yAccessor, xScale, yScale, plotData } = props;\n\t/* eslint-enable react/prop-types */\n\n\n\tvar wickData = getWickData(props, xAccessor, yAccessor, xScale, yScale, plotData);\n\tvar wicks = wickData\n\t\t.map((d, idx) => <line key={idx}\n\t\t\tclassName={d.className} stroke={d.stroke} style={{ shapeRendering: \"crispEdges\" }}\n\t\t\tx1={d.x1} y1={d.y1}\n\t\t\tx2={d.x2} y2={d.y2} />\n\t\t);\n\treturn wicks;\n}\n\nfunction getCandlesSVG(props) {\n\n\t/* eslint-disable react/prop-types */\n\tvar { xAccessor, yAccessor, xScale, yScale, plotData, opacity } = props;\n\t/* eslint-enable react/prop-types */\n\n\tvar candleData = getCandleData(props, xAccessor, yAccessor, xScale, yScale, plotData);\n\tvar candles = candleData.map((d, idx) => {\n\t\tif (d.width < 0)\n\t\t\treturn (\n\t\t\t\t<line className={d.className} key={idx}\n\t\t\t\t\tx1={d.x} y1={d.y} x2={d.x} y2={d.y + d.height}\n\t\t\t\t\tstroke={d.fill} />\n\t\t\t);\n\t\telse if (d.height === 0)\n\t\t\treturn (\n\t\t\t\t<line key={idx}\n\t\t\t\t\tx1={d.x} y1={d.y} x2={d.x + d.width} y2={d.y + d.height}\n\t\t\t\t\tstroke={d.fill} />\n\t\t\t);\n\t\treturn (\n\t\t\t<rect key={idx} className={d.className}\n\t\t\t\tfillOpacity={opacity}\n\t\t\t\tx={d.x} y={d.y} width={d.width} height={d.height}\n\t\t\t\tfill={d.fill} stroke={d.stroke} />\n\t\t);\n\t});\n\treturn candles;\n}\n\nCandlestickSeries.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\tvar { xAccessor, yAccessor, opacity } = props;\n\tvar wickData = getWickData(props, xAccessor, yAccessor, xScale, yScale, plotData);\n\n\tvar wickNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.entries(wickData);\n\n\twickNest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tctx.strokeStyle = key;\n\t\tvalues.forEach(d => {\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(d.x1, d.y1);\n\t\t\tctx.lineTo(d.x2, d.y2);\n\t\t\tctx.stroke();\n\t\t});\n\t});\n\n\tvar candleData = getCandleData(props, xAccessor, yAccessor, xScale, yScale, plotData);\n\n\tvar candleNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.key(d => d.fill)\n\t\t.entries(candleData);\n\n\tcandleNest.forEach(outer => {\n\t\tvar { key: strokeKey, values: strokeValues } = outer;\n\t\tif (strokeKey !== \"none\") ctx.strokeStyle = strokeKey;\n\t\tstrokeValues.forEach(inner => {\n\t\t\tvar { key, values } = inner;\n\t\t\tctx.fillStyle = hexToRGBA(key, opacity);\n\n\t\t\tvalues.forEach(d => {\n\t\t\t\tif (d.width < 0) {\n\t\t\t\t\t// <line className={d.className} key={idx} x1={d.x} y1={d.y} x2={d.x} y2={d.y + d.height}/>\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\t\tctx.lineTo(d.x, d.y + d.height);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t} else if (d.height === 0) {\n\t\t\t\t\t// <line key={idx} x1={d.x} y1={d.y} x2={d.x + d.width} y2={d.y + d.height} />\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\t\tctx.lineTo(d.x + d.width, d.y + d.height);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t} else {\n\t\t\t\t\tctx.beginPath();\n\t\t\t\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\t\t\t\tctx.closePath();\n\t\t\t\t\tctx.fill();\n\t\t\t\t\tif (strokeKey !== \"none\") ctx.stroke();\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n};\n\nfunction getWickData(props, xAccessor, yAccessor, xScale, yScale, plotData) {\n\n\tvar { classNames: classNameProp, wickStroke: wickStrokeProp } = props;\n\tvar wickStroke = d3.functor(wickStrokeProp);\n\tvar className = d3.functor(classNameProp);\n\tvar wickData = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\t// console.log(yAccessor);\n\t\t\t\tvar ohlc = yAccessor(d);\n\n\t\t\t\tvar x1 = Math.round(xScale(xAccessor(d))),\n\t\t\t\t\ty1 = yScale(ohlc.high),\n\t\t\t\t\tx2 = x1,\n\t\t\t\t\ty2 = yScale(ohlc.low);\n\n\t\t\t\treturn {\n\t\t\t\t\tx1: x1,\n\t\t\t\t\ty1: y1,\n\t\t\t\t\tx2: x2,\n\t\t\t\t\ty2: y2,\n\t\t\t\t\tclassName: className(ohlc),\n\t\t\t\t\tdirection: (ohlc.close - ohlc.open),\n\t\t\t\t\tstroke: wickStroke(ohlc),\n\t\t\t\t};\n\t\t\t});\n\treturn wickData;\n}\n\nfunction getCandleData(props, xAccessor, yAccessor, xScale, yScale, plotData) {\n\tvar { classNames, fill: fillProp, stroke: strokeProp, widthRatio } = props;\n\tvar fill = d3.functor(fillProp);\n\tvar stroke = d3.functor(strokeProp);\n\t// console.log(plotData);\n\tvar width = xScale(xAccessor(last(plotData)))\n\t\t- xScale(xAccessor(first(plotData)));\n\tvar cw = (width / (plotData.length - 1)) * widthRatio;\n\tvar candleWidth = Math.round(cw); // Math.floor(cw) % 2 === 0 ? Math.floor(cw) : Math.round(cw);\n\tvar offset = (candleWidth === 1 ? 0 : 0.5 * candleWidth);\n\tvar candles = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d);\n\t\t\t\tvar x = Math.round(xScale(xAccessor(d))) - offset,\n\t\t\t\t\ty = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\theight = Math.abs(yScale(ohlc.open) - yScale(ohlc.close)),\n\t\t\t\t\tclassName = (ohlc.open <= ohlc.close) ? classNames.up : classNames.down;\n\t\t\t\treturn {\n\t\t\t\t\t// type: \"line\"\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: candleWidth,\n\t\t\t\t\tclassName: className,\n\t\t\t\t\tfill: fill(ohlc),\n\t\t\t\t\tstroke: stroke(ohlc),\n\t\t\t\t\tdirection: (ohlc.close - ohlc.open),\n\t\t\t\t};\n\t\t\t});\n\treturn candles;\n}\n\nexport default wrap(CandlestickSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/CandlestickSeries.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport wrap from \"./wrap\";\nimport { isDefined } from \"../utils\";\n\nclass OHLCSeries extends Component {\n\trender() {\n\t\tvar { className } = this.props;\n\t\tvar { xAccessor, yAccessor, xScale, yScale, plotData } = this.props;\n\n\t\tvar barData = OHLCSeries.getOHLCBars(this.props, xAccessor, yAccessor, xScale, yScale, plotData);\n\n\t\tvar { strokeWidth, bars } = barData;\n\n\t\treturn <g className={className}>\n\t\t\t{bars.map((d, idx) => <path key={idx}\n\t\t\t\tclassName={d.className} stroke={d.stroke} strokeWidth={strokeWidth}\n\t\t\t\td={`M${d.openX1} ${d.openY} L${d.openX2} ${d.openY} M${d.x} ${d.y1} L${d.x} ${d.y2} M${d.closeX1} ${d.closeY} L${d.closeX2} ${d.closeY}`}/>)}\n\t\t</g>;\n\t}\n}\n\nOHLCSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tclassNames: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\tstroke: PropTypes.oneOfType([\n\t\tPropTypes.func,\n\t\tPropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\n\nOHLCSeries.defaultProps = {\n\tclassName: \"react-stockcharts-ohlc\",\n\tyAccessor: (d) => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n\tclassNames: d => isDefined(d.absoluteChange) ? (d.absoluteChange > 0 ? \"up\" : \"down\") : \"firstbar\",\n\tstroke: d => isDefined(d.absoluteChange) ? (d.absoluteChange > 0 ? \"#6BA583\" : \"#FF0000\") : \"#000000\",\n\topacity: 1,\n};\n\nOHLCSeries.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\tvar { xAccessor, yAccessor } = props;\n\n\tvar barData = OHLCSeries.getOHLCBars(props, xAccessor, yAccessor, xScale, yScale, plotData);\n\n\tvar { strokeWidth, bars } = barData;\n\n\tvar wickNest = d3.nest()\n\t\t.key(d => d.stroke)\n\t\t.entries(bars);\n\n\tctx.lineWidth = strokeWidth;\n\n\twickNest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tctx.strokeStyle = key;\n\t\tvalues.forEach(d => {\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(d.x, d.y1);\n\t\t\tctx.lineTo(d.x, d.y2);\n\n\t\t\tctx.moveTo(d.openX1, d.openY);\n\t\t\tctx.lineTo(d.openX2, d.openY);\n\n\t\t\tctx.moveTo(d.closeX1, d.closeY);\n\t\t\tctx.lineTo(d.closeX2, d.closeY);\n\n\t\t\tctx.stroke();\n\t\t});\n\t});\n};\n\nOHLCSeries.getOHLCBars = (props, xAccessor, yAccessor, xScale, yScale, plotData) => {\n\tvar { classNames: classNamesProp, stroke: strokeProp } = props;\n\n\tvar strokeFunc = d3.functor(strokeProp);\n\tvar classNameFunc = d3.functor(classNamesProp);\n\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar barWidth = Math.max(1, Math.round(width / (plotData.length - 1) / 2) - 1.5);\n\tvar strokeWidth = Math.min(barWidth, 6);\n\n\tvar bars = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d),\n\t\t\t\t\tx = Math.round(xScale(xAccessor(d))),\n\t\t\t\t\ty1 = yScale(ohlc.high),\n\t\t\t\t\ty2 = yScale(ohlc.low),\n\t\t\t\t\topenX1 = x - barWidth,\n\t\t\t\t\topenX2 = x + strokeWidth / 2,\n\t\t\t\t\topenY = yScale(ohlc.open),\n\t\t\t\t\tcloseX1 = x - strokeWidth / 2,\n\t\t\t\t\tcloseX2 = x + barWidth,\n\t\t\t\t\tcloseY = yScale(ohlc.close),\n\t\t\t\t\tclassName = classNameFunc(d),\n\t\t\t\t\tstroke = strokeFunc(d);\n\t\t\t\t// console.log(d);\n\t\t\t\treturn { x, y1, y2, openX1, openX2, openY, closeX1, closeX2, closeY, stroke, className };\n\t\t\t});\n\treturn { barWidth, strokeWidth, bars };\n};\n\nexport default wrap(OHLCSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/OHLCSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport wrap from \"./wrap\";\n\nimport StackedBarSeries, { drawOnCanvasHelper, svgHelper } from \"./StackedBarSeries\";\nimport { identity } from \"../utils\";\n\n\nclass BarSeries extends Component {\n\trender() {\n\t\treturn <g className=\"react-stockcharts-bar-series\">\n\t\t\t{BarSeries.getBarsSVG(this.props)}\n\t\t</g>;\n\t}\n}\n\nBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\n\nBarSeries.defaultProps = StackedBarSeries.defaultProps;\n\nBarSeries.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\tvar { yAccessor, xAccessor } = props;\n\tdrawOnCanvasHelper(props, ctx, xScale, yScale, plotData, xAccessor, yAccessor, identity);\n};\n\nBarSeries.getBarsSVG = (props) => {\n\treturn svgHelper(props, identity);\n};\n\nexport default wrap(BarSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/BarSeries.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport wrap from \"./wrap\";\n\nimport { identity, hexToRGBA, first, last, isDefined } from \"../utils\";\n\n\nclass StackedBarSeries extends Component {\n\trender() {\n\t\treturn <g className=\"react-stockcharts-bar-series\">\n\t\t\t{svgHelper(this.props, d3.layout.stack())}\n\t\t</g>;\n\t}\n}\n\nStackedBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.func), PropTypes.func\n\t]).isRequired,\n\tyAccessor: PropTypes.oneOfType([\n\t\tPropTypes.arrayOf(PropTypes.func), PropTypes.func\n\t]).isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\n\nStackedBarSeries.defaultProps = {\n\tbaseAt: (xScale, yScale/* , d*/) => first(yScale.range()),\n\tdirection: \"up\",\n\tclassName: \"bar\",\n\tstroke: false,\n\tfill: \"#4682B4\",\n\topacity: 1,\n\twidthRatio: 0.5,\n};\n\nStackedBarSeries.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\n\tvar { yAccessor, xAccessor } = props;\n\tdrawOnCanvasHelper(props, ctx, xScale, yScale, plotData, xAccessor, yAccessor, d3.layout.stack());\n};\n\nexport function drawOnCanvasHelper(props, ctx, xScale, yScale, plotData, xAccessor, yAccessor,\n\t\tstackFn, defaultPostAction = identity, postRotateAction = rotateXY) {\n\tvar bars = doStuff(props, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction);\n\tdrawOnCanvas2(props, ctx, bars);\n}\n\nfunction convertToArray(item) {\n\treturn Array.isArray(item) ? item : [item];\n}\n\nexport function svgHelper(props, stackFn, defaultPostAction = identity, postRotateAction = rotateXY) {\n\tvar { xScale, yScale, plotData } = props;\n\tvar bars = doStuff(props, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction);\n\n\treturn getBarsSVG2(props, bars);\n}\n\nfunction doStuff(props, plotData, xScale, yScale, stackFn, postRotateAction, defaultPostAction) {\n\tvar { yAccessor, xAccessor, swapScales } = props;\n\n\tvar modifiedYAccessor = swapScales ? convertToArray(xAccessor) : convertToArray(yAccessor);\n\tvar modifiedXAccessor = swapScales ? yAccessor : xAccessor;\n\n\tvar modifiedXScale = swapScales ? yScale : xScale;\n\tvar modifiedYScale = swapScales ? xScale : yScale;\n\n\tvar postProcessor =  swapScales ? postRotateAction : defaultPostAction;\n\n\tvar bars = getBars(props, modifiedXAccessor, modifiedYAccessor, modifiedXScale, modifiedYScale, plotData, stackFn, postProcessor);\n\treturn bars;\n}\n\nexport const rotateXY = (array) => array.map(each => {\n\treturn {\n\t\t...each,\n\t\tx: each.y,\n\t\ty: each.x,\n\t\theight: each.width,\n\t\twidth: each.height\n\t};\n});\n\nexport function getBarsSVG2(props, bars) {\n\t/* eslint-disable react/prop-types */\n\tvar { opacity } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn bars.map((d, idx) => {\n\t\tif (d.width <= 1) {\n\t\t\treturn <line key={idx} className={d.className}\n\t\t\t\t\t\tstroke={d.fill}\n\t\t\t\t\t\tx1={d.x} y1={d.y}\n\t\t\t\t\t\tx2={d.x} y2={d.y + d.height} />;\n\t\t}\n\t\treturn <rect key={idx} className={d.className}\n\t\t\t\t\tstroke={d.stroke}\n\t\t\t\t\tfill={d.fill}\n\t\t\t\t\tx={d.x}\n\t\t\t\t\ty={d.y}\n\t\t\t\t\twidth={d.width}\n\t\t\t\t\tfillOpacity={opacity}\n\t\t\t\t\theight={d.height} />;\n\t});\n}\n\nexport function drawOnCanvas2(props, ctx, bars) {\n\tvar { stroke } = props;\n\n\tvar nest = d3.nest()\n\t\t.key(d => d.fill)\n\t\t.entries(bars);\n\n\tnest.forEach(outer => {\n\t\tvar { key, values } = outer;\n\t\tif (values[0].width < 1) {\n\t\t\tctx.strokeStyle = key;\n\t\t} else {\n\t\t\tctx.strokeStyle = key;\n\t\t\tctx.fillStyle = hexToRGBA(key, props.opacity);\n\t\t}\n\t\tvalues.forEach(d => {\n\t\t\tif (d.width < 1) {\n\t\t\t\t/* <line key={idx} className={d.className}\n\t\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\t\tfill={fill}\n\t\t\t\t\t\t\tx1={d.x} y1={d.y}\n\t\t\t\t\t\t\tx2={d.x} y2={d.y + d.height} />*/\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(d.x, d.y);\n\t\t\t\tctx.lineTo(d.x, d.y + d.height);\n\t\t\t\tctx.stroke();\n\t\t\t} else {\n\t\t\t\t/* <rect key={idx} className={d.className}\n\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\tfill={fill}\n\t\t\t\t\t\tx={d.x}\n\t\t\t\t\t\ty={d.y}\n\t\t\t\t\t\twidth={d.width}\n\t\t\t\t\t\theight={d.height} /> */\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\t\t\tctx.fill();\n\t\t\t\tif (stroke) ctx.stroke();\n\t\t\t}\n\n\t\t});\n\t});\n}\n\nexport function getBars(props, xAccessor, yAccessor, xScale, yScale, plotData, stack = identity, after = identity) {\n\tvar { baseAt, className, fill, stroke, widthRatio, spaceBetweenBar = 0 } = props;\n\n\tvar getClassName = d3.functor(className);\n\tvar getFill = d3.functor(fill);\n\tvar getBase = d3.functor(baseAt);\n\n\tvar width = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData))));\n\tvar bw = (width / (plotData.length - 1) * widthRatio);\n\tvar barWidth = Math.round(bw);\n\n\tvar eachBarWidth = (barWidth - spaceBetweenBar * (yAccessor.length - 1)) / yAccessor.length;\n\n\tvar offset = (barWidth === 1 ? 0 : 0.5 * barWidth);\n\n\tvar layers = yAccessor\n\t\t.map((eachYAccessor, i) => plotData\n\t\t\t.map(d => ({\n\t\t\t\tseries: xAccessor(d),\n\t\t\t\tdatum: d,\n\t\t\t\tx: i,\n\t\t\t\ty: eachYAccessor(d),\n\t\t\t\tclassName: getClassName(d, i),\n\t\t\t\tstroke: stroke ? getFill(d, i) : \"none\",\n\t\t\t\tfill: getFill(d, i),\n\t\t\t}))\n\t\t);\n\n\tvar data = stack(layers);\n\n\tvar bars = d3.merge(data)\n\t\t\t.filter(d => isDefined(d.y))\n\t\t\t.map(d => {\n\t\t\t\t// let baseValue = yScale.invert(getBase(xScale, yScale, d.datum));\n\t\t\t\tlet y = yScale(d.y + (d.y0 || 0));\n\t\t\t\t/* let h = isDefined(d.y0) && d.y0 !== 0 && !isNaN(d.y0)\n\t\t\t\t\t? yScale(d.y0) - y\n\t\t\t\t\t: getBase(xScale, yScale, d.datum) - yScale(d.y)*/\n\t\t\t\tvar h = getBase(xScale, yScale, d.datum) - yScale(d.y);\n\n\t\t\t\t// let h = ;\n\t\t\t\t// if (d.y < 0) h = -h;\n\t\t\t\tif (h < 0) {\n\t\t\t\t\ty = y + h;\n\t\t\t\t\th = -h;\n\t\t\t\t}\n\t\t\t\t/* console.log(d.series, d.datum.date, d.x,\n\t\t\t\t\tgetBase(xScale, yScale, d.datum), `d.y=${d.y}, d.y0=${d.y0}, y=${y}, h=${h}`)*/\n\t\t\t\treturn {\n\t\t\t\t\tclassName: d.className,\n\t\t\t\t\tstroke: d.stroke,\n\t\t\t\t\tfill: d.fill,\n\t\t\t\t\t// series: d.series,\n\t\t\t\t\t// i: d.x,\n\t\t\t\t\tx: xScale(d.series) - barWidth / 2,\n\t\t\t\t\ty: y,\n\t\t\t\t\tgroupOffset: offset - (d.x > 0 ? (eachBarWidth + spaceBetweenBar) * d.x : 0),\n\t\t\t\t\tgroupWidth: eachBarWidth,\n\t\t\t\t\toffset: barWidth / 2,\n\t\t\t\t\theight: h,\n\t\t\t\t\twidth: barWidth,\n\t\t\t\t};\n\t\t\t});\n\treturn after(bars);\n}\n\nexport default wrap(StackedBarSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/StackedBarSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport wrap from \"./wrap\";\n\nimport StackedBarSeries, { drawOnCanvasHelper, svgHelper } from \"./StackedBarSeries\";\nimport { identity } from \"../utils\";\n\nclass GroupedBarSeries extends Component {\n\trender() {\n\t\treturn <g className=\"react-stockcharts-grouped-bar-series\">\n\t\t\t{GroupedBarSeries.getBarsSVG(this.props)}\n\t\t</g>;\n\t}\n}\n\nGroupedBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.arrayOf(PropTypes.func),\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\n\nGroupedBarSeries.defaultProps = {\n\t...StackedBarSeries.defaultProps,\n\twidthRatio: 0.8,\n\tspaceBetweenBar: 5,\n};\n\nGroupedBarSeries.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\tvar { xAccessor, yAccessor } = props;\n\tdrawOnCanvasHelper(props, ctx, xScale, yScale, plotData, xAccessor, yAccessor,\n\t\tidentity, postProcessor);\n};\n\nGroupedBarSeries.getBarsSVG = (props) => {\n\treturn svgHelper(props, identity, postProcessor);\n};\n\nfunction postProcessor(array) {\n\treturn array.map(each => {\n\t\treturn {\n\t\t\t...each,\n\t\t\tx: each.x + each.offset - each.groupOffset,\n\t\t\twidth: each.groupWidth,\n\t\t};\n\t});\n}\n\nexport default wrap(GroupedBarSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/GroupedBarSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport wrap from \"./wrap\";\n\nimport { isDefined, isNotDefined } from \"../utils\";\n\nclass KagiSeries extends Component {\n\trender() {\n\t\tvar { className, stroke, fill, strokeWidth } = this.props;\n\t\tvar { xAccessor, xScale, yScale, plotData } = this.props;\n\n\t\tvar paths = KagiSeries.helper(plotData, xAccessor).map((each, i) => {\n\t\t\tvar dataSeries = d3.svg.line()\n\t\t\t\t.x((item) => xScale(item[0]))\n\t\t\t\t.y((item) => yScale(item[1]))\n\t\t\t\t.interpolate(\"step-before\");\n\t\t\treturn (<path key={i} d={dataSeries(each.plot)} className={each.type}\n\t\t\t\tstroke={stroke[each.type]} fill={fill[each.type]} strokeWidth={strokeWidth} />);\n\t\t});\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t{paths}\n\t\t\t</g>\n\t\t);\n\t}\n}\nKagiSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\tstrokeWidth: PropTypes.number.isRequired,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\n\nKagiSeries.defaultProps = {\n\tclassName: \"react-stockcharts-kagi\",\n\tstrokeWidth: 2,\n\tstroke: {\n\t\tyang: \"#6BA583\",\n\t\tyin: \"#E60000\"\n\t},\n\tfill: {\n\t\tyang: \"none\",\n\t\tyin: \"none\"\n\t},\n\tcurrentValueStroke: \"#000000\",\n};\n\nKagiSeries.yAccessor = (d) => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\nKagiSeries.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\tvar { xAccessor, stroke, strokeWidth, currentValueStroke } = props;\n\tvar begin = true;\n\n\tvar paths = KagiSeries.helper(plotData, xAccessor);\n\n\tpaths.forEach((each) => {\n\t\tctx.strokeStyle = stroke[each.type];\n\t\tctx.lineWidth = strokeWidth;\n\n\t\tctx.beginPath();\n\t\tvar prevX;\n\t\teach.plot.forEach(d => {\n\t\t\tvar [x, y] = [xScale(d[0]), yScale(d[1])];\n\t\t\tif (begin) {\n\t\t\t\tctx.moveTo(x, y);\n\t\t\t\tbegin = false;\n\t\t\t} else {\n\t\t\t\tif (isDefined(prevX)) {\n\t\t\t\t\tctx.lineTo(prevX, y);\n\t\t\t\t}\n\t\t\t\tctx.lineTo(x, y);\n\t\t\t}\n\t\t\tprevX = x;\n\t\t\t// console.log(d);\n\n\t\t});\n\t\tctx.stroke();\n\t});\n\tvar lastPlot = paths[paths.length - 1].plot;\n\tvar last = lastPlot[lastPlot.length - 1];\n\tctx.beginPath();\n\t// ctx.strokeStyle = \"black\";\n\tctx.lineWidth = 1;\n\n\tvar [x, y1, y2] = [xScale(last[0]), yScale(last[2]), yScale(last[3])];\n\t// console.log(last, x, y);\n\tctx.moveTo(x, y1);\n\tctx.lineTo(x + 10, y1);\n\tctx.stroke();\n\n\tctx.beginPath();\n\tctx.strokeStyle = currentValueStroke;\n\tctx.moveTo(x - 10, y2);\n\tctx.lineTo(x, y2);\n\tctx.stroke();\n};\n\nKagiSeries.helper = (plotData, xAccessor) => {\n\tvar kagiLine = [];\n\tvar kagi = {};\n\tvar d = plotData[0];\n\tvar idx = xAccessor(d);\n\n\tfor (let i = 0; i < plotData.length; i++) {\n\t\td = plotData[i];\n\n\t\tif (isNotDefined(d.close)) continue;\n\t\tif (isNotDefined(kagi.type)) kagi.type = d.startAs;\n\t\tif (isNotDefined(kagi.plot)) kagi.plot = [];\n\n\t\tidx = xAccessor(d);\n\t\tkagi.plot.push([idx, d.open]);\n\n\t\tif (isDefined(d.changeTo)) {\n\t\t\tkagi.plot.push([idx, d.changePoint]);\n\t\t\tkagi.added = true;\n\t\t\tkagiLine.push(kagi);\n\n\t\t\tkagi = {\n\t\t\t\ttype: d.changeTo,\n\t\t\t\tplot: [],\n\t\t\t\tadded: false,\n\t\t\t};\n\t\t\tkagi.plot.push([idx, d.changePoint]);\n\t\t}\n\t}\n\n\tif (!kagi.added) {\n\t\tkagi.plot.push([idx, d.close, d.current, d.reverseAt]);\n\t\tkagiLine.push(kagi);\n\t}\n\n\t// console.log(d.reverseAt);\n\n\treturn kagiLine;\n};\n\nexport default wrap(KagiSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/KagiSeries.jsx\n **/","\"use strict\";\n\nimport React, { Component } from \"react\";\nimport wrap from \"./wrap\";\n\nimport { isDefined, isNotDefined } from \"../utils\";\n\nclass PointAndFigureSeries extends Component {\n\trender() {\n\t\tvar { props } = this;\n\t\tvar { xScale, xAccessor, yScale, yAccessor, plotData } = props;\n\n\t\tvar columns = PointAndFigureSeries.getColumns(xScale, xAccessor, yScale, yAccessor, plotData);\n\t\tvar { stroke, fill, strokeWidth, className } = props;\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t{columns.map((col, idx) => (\n\t\t\t\t\t<g key={idx} className={col.className} transform={`translate(${ col.offset[0] }, ${ col.offset[1] })`}>\n\t\t\t\t\t\t{col.boxes.map((box, i) => {\n\t\t\t\t\t\t\tif (col.direction > 0) {\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<g key={`${ idx }-${ i }`}>\n\t\t\t\t\t\t\t\t\t\t<line className=\"up\" strokeWidth={strokeWidth} stroke={stroke.up} fill={fill.up}\n\t\t\t\t\t\t\t\t\t\t\tx1={0} y1={box.open} x2={box.columnWidth} y2={box.close} />\n\t\t\t\t\t\t\t\t\t\t<line className=\"up\" strokeWidth={strokeWidth} stroke={stroke.up} fill={fill.up}\n\t\t\t\t\t\t\t\t\t\t\tx1={0} y1={box.close} x2={box.columnWidth} y2={box.open} />\n\t\t\t\t\t\t\t\t\t</g>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<ellipse key={`${ idx }-${ i }`}\n\t\t\t\t\t\t\t\t\tclassName=\"down\" strokeWidth={strokeWidth} stroke={stroke.down} fill={fill.down}\n\t\t\t\t\t\t\t\t\tcx={box.columnWidth / 2} cy={(box.open + box.close) / 2}\n\t\t\t\t\t\t\t\t\trx={box.columnWidth / 2} ry={box.boxHeight / 2} />\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</g>\n\t\t\t\t))}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nPointAndFigureSeries.defaultProps = {\n\tclassName: \"react-stockcharts-point-and-figure\",\n\tstrokeWidth: 1,\n\tstroke: {\n\t\tup: \"#6BA583\",\n\t\tdown: \"#FF0000\"\n\t},\n\tfill: {\n\t\tup: \"none\",\n\t\tdown: \"none\"\n\t},\n};\n\nPointAndFigureSeries.yAccessor = (d) => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\nPointAndFigureSeries.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\tvar { xAccessor, yAccessor } = props;\n\n\tvar columns = PointAndFigureSeries.getColumns(xScale, xAccessor, yScale, yAccessor, plotData);\n\tvar { stroke, fill, strokeWidth } = props;\n\n\tctx.lineWidth = strokeWidth;\n\n\tcolumns.forEach(col => {\n\t\tlet [offsetX, offsetY] = col.offset;\n\t\tcol.boxes.forEach(box => {\n\t\t\tif (col.direction > 0) {\n\t\t\t\tctx.fillStyle = fill.up;\n\t\t\t\tctx.strokeStyle = stroke.up;\n\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tctx.moveTo(offsetX, offsetY + box.open);\n\t\t\t\tctx.lineTo(offsetX + box.columnWidth, offsetY + box.close);\n\t\t\t\tctx.moveTo(offsetX, offsetY + box.close);\n\t\t\t\tctx.lineTo(offsetX + box.columnWidth, offsetY + box.open);\n\n\t\t\t\tctx.stroke();\n\t\t\t} else {\n\t\t\t\tctx.fillStyle = fill.down;\n\t\t\t\tctx.strokeStyle = stroke.down;\n\n\t\t\t\tctx.beginPath();\n\n\t\t\t\tlet [x, y] = [offsetX + box.columnWidth / 2, offsetY + box.open + box.boxHeight / 2];\n\t\t\t\tlet [rx, ry] = [box.columnWidth / 2, box.boxHeight / 2];\n\n\t\t\t\tctx.ellipse(x, y, rx, ry, 0, 0, 2 * Math.PI);\n\t\t\t\tctx.stroke();\n\t\t\t}\n\t\t});\n\t});\n\n\tctx.stroke();\n};\n\nPointAndFigureSeries.getColumns = (xScale, xAccessor, yScale, yAccessor, plotData) => {\n\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar columnWidth = (width / (plotData.length - 1));\n\n\tvar anyBox, j = 0;\n\twhile (isNotDefined(anyBox)) {\n\t\tif (isDefined(plotData[j].close)) {\n\t\t\tanyBox = plotData[j].boxes[0];\n\t\t}\n\t\tj++;\n\t}\n\n\tvar boxHeight = Math.abs(yScale(anyBox.open) - yScale(anyBox.close));\n\n\tvar columns = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\tvar boxes = d.boxes.map((box) => ({\n\t\t\t\t\tcolumnWidth: columnWidth,\n\t\t\t\t\tboxHeight: boxHeight,\n\t\t\t\t\topen: yScale(box.open),\n\t\t\t\t\tclose: yScale(box.close),\n\t\t\t\t}));\n\n\t\t\t\tvar xOffset = (xScale(xAccessor(d)) - (columnWidth / 2));\n\t\t\t\treturn {\n\t\t\t\t\tboxes: boxes,\n\t\t\t\t\tdirection: d.direction,\n\t\t\t\t\toffset: [xOffset, 0],\n\t\t\t\t};\n\t\t\t});\n\treturn columns;\n};\n\nexport default wrap(PointAndFigureSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/PointAndFigureSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport wrap from \"./wrap\";\n\nimport { isDefined } from \"../utils\";\n\nclass RenkoSeries extends Component {\n\trender() {\n\t\tvar { props } = this;\n\t\tvar { plotData, xScale, xAccessor, yScale, yAccessor } = props;\n\n\t\tvar candles = RenkoSeries.getRenko(props, plotData, xScale, xAccessor, yScale, yAccessor)\n\t\t\t.map((each, idx) => (<rect key={idx} className={each.className}\n\t\t\t\t\t\t\t\tfill={each.fill}\n\t\t\t\t\t\t\t\tx={each.x}\n\t\t\t\t\t\t\t\ty={each.y}\n\t\t\t\t\t\t\t\twidth={each.width}\n\t\t\t\t\t\t\t\theight={each.height} />));\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<g className=\"candle\">\n\t\t\t\t\t{candles}\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nRenkoSeries.propTypes = {\n\tclassNames: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n\tstroke: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n\tfill: PropTypes.shape({\n\t\tup: PropTypes.string,\n\t\tdown: PropTypes.string\n\t}),\n};\n\nRenkoSeries.defaultProps = {\n\tclassNames: {\n\t\tup: \"up\",\n\t\tdown: \"down\"\n\t},\n\tstroke: {\n\t\tup: \"none\",\n\t\tdown: \"none\"\n\t},\n\tfill: {\n\t\tup: \"#6BA583\",\n\t\tdown: \"#E60000\",\n\t\tpartial: \"#4682B4\",\n\t},\n\tyAccessor: d => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n};\n\nRenkoSeries.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\tvar { xAccessor, yAccessor } = props;\n\n\tvar renko = RenkoSeries.getRenko(props, plotData, xScale, xAccessor, yScale, yAccessor);\n\trenko.forEach(d => {\n\t\tctx.beginPath();\n\n\t\tctx.strokeStyle = d.stroke;\n\t\tctx.fillStyle = d.fill;\n\n\t\tctx.rect(d.x, d.y, d.width, d.height);\n\t\tctx.closePath();\n\t\tctx.fill();\n\t});\n};\n\nRenkoSeries.getRenko = (props, plotData, xScale, xAccessor, yScale, yAccessor) => {\n\tvar { classNames, fill } = props;\n\tvar width = xScale(xAccessor(plotData[plotData.length - 1]))\n\t\t- xScale(xAccessor(plotData[0]));\n\n\tvar candleWidth = (width / (plotData.length - 1));\n\tvar candles = plotData\n\t\t\t.filter(d => isDefined(d.close))\n\t\t\t.map(d => {\n\t\t\t\tvar ohlc = yAccessor(d);\n\t\t\t\tvar x = xScale(xAccessor(d)) - 0.5 * candleWidth,\n\t\t\t\t\ty = yScale(Math.max(ohlc.open, ohlc.close)),\n\t\t\t\t\theight = Math.abs(yScale(ohlc.open) - yScale(ohlc.close)),\n\t\t\t\t\tclassName = (ohlc.open <= ohlc.close) ? classNames.up : classNames.down,\n\t\t\t\t\tsvgfill = (ohlc.open <= ohlc.close) ? fill.up : fill.down;\n\n\t\t\t\tif (!d.fullyFormed) {\n\t\t\t\t\tsvgfill = fill.partial;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tclassName: className,\n\t\t\t\t\tfill: svgfill,\n\t\t\t\t\tx: x,\n\t\t\t\t\ty: y,\n\t\t\t\t\theight: height,\n\t\t\t\t\twidth: candleWidth,\n\t\t\t\t};\n\t\t\t});\n\treturn candles;\n};\n\nexport default wrap(RenkoSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/RenkoSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport BarSeries from \"./BarSeries\";\nimport Line from \"./Line\";\nimport StraightLine from \"./StraightLine\";\n\nimport wrap from \"./wrap\";\n\nclass MACDSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForMACD = this.yAccessorForMACD.bind(this);\n\t\tthis.yAccessorForSignal = this.yAccessorForSignal.bind(this);\n\t\tthis.yAccessorForDivergence = this.yAccessorForDivergence.bind(this);\n\t\tthis.yAccessorForDivergenceBase = this.yAccessorForDivergenceBase.bind(this);\n\t}\n\tyAccessorForMACD(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).macd;\n\t}\n\tyAccessorForSignal(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).signal;\n\t}\n\tyAccessorForDivergence(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).divergence;\n\t}\n\tyAccessorForDivergenceBase(xScale, yScale/* , d */) {\n\t\treturn yScale(0);\n\t}\n\trender() {\n\t\tvar { className, xScale, yScale, xAccessor, plotData, type, opacity, divergenceStroke, calculator } = this.props;\n\t\tvar stroke = calculator.stroke();\n\t\tvar fill = calculator.fill();\n\t\t// console.log(this.props.yAccessor)\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<Line\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\txAccessor={xAccessor} yAccessor={this.yAccessorForMACD}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tstroke={stroke.macd} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<Line\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\txAccessor={xAccessor} yAccessor={this.yAccessorForSignal}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tstroke={stroke.signal} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<BarSeries\n\t\t\t\t\tbaseAt={this.yAccessorForDivergenceBase}\n\t\t\t\t\tclassName=\"macd-divergence\"\n\t\t\t\t\tstroke={divergenceStroke} fill={fill.divergence} opacity={opacity}\n\t\t\t\t\tyAccessor={this.yAccessorForDivergence} />\n\t\t\t\t{MACDSeries.getHorizontalLine(this.props)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nMACDSeries.getHorizontalLine = (props) => {\n\n\t/* eslint-disable react/prop-types */\n\tvar { xScale, yScale, xAccessor, yAccessor, plotData, type, zeroLineStroke, zeroLineOpacity } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={zeroLineStroke} opacity={zeroLineOpacity} type={type}\n\t\txScale={xScale} yScale={yScale}\n\t\txAccessor={xAccessor} yAccessor={yAccessor}\n\t\tplotData={plotData}\n\t\tyValue={0} />;\n};\n\nMACDSeries.propTypes = {\n\tclassName: PropTypes.string,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tplotData: PropTypes.array,\n\ttype: PropTypes.string,\n\topacity: PropTypes.number,\n\tdivergenceStroke: PropTypes.bool,\n};\n\nMACDSeries.defaultProps = {\n\tclassName: \"react-stockcharts-macd-series\",\n\tzeroLineStroke: \"#000000\",\n\tzeroLineOpacity: 0.3,\n\topacity: 0.6,\n\tdivergenceStroke: false,\n};\n\nexport default wrap(MACDSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/MACDSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport wrap from \"./wrap\";\nimport { hexToRGBA } from \"../utils\";\n\nclass StraightLine extends Component {\n\trender() {\n\t\tvar { props } = this;\n\t\tvar { stroke, className, opacity } = props;\n\t\tvar { xScale, yScale, xAccessor, plotData, yValue } = props;\n\n\t\tvar first = xAccessor(plotData[0]);\n\t\tvar last = xAccessor(plotData[plotData.length - 1]);\n\n\t\treturn (\n\t\t\t<line className={className}\n\t\t\t\tstroke={stroke} opacity={opacity}\n\t\t\t\tx1={xScale(first)} y1={yScale(yValue)}\n\t\t\t\tx2={xScale(last)} y2={yScale(yValue)} />\n\t\t);\n\t}\n}\n\nStraightLine.propTypes = {\n\tclassName: PropTypes.string,\n\txScale: PropTypes.func.isRequired,\n\tyScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number.isRequired,\n\tyValue: PropTypes.number.isRequired,\n};\n\nStraightLine.defaultProps = {\n\tclassName: \"line \",\n\tstroke: \"#000000\",\n\topacity: 0.5,\n};\n\nStraightLine.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\n\tvar { stroke, opacity } = props;\n\tvar { xAccessor, yValue } = props;\n\n\tvar first = xAccessor(plotData[0]);\n\tvar last = xAccessor(plotData[plotData.length - 1]);\n\n\tctx.beginPath();\n\n\tctx.strokeStyle = hexToRGBA(stroke, opacity);\n\n\tctx.moveTo(xScale(first), yScale(yValue));\n\tctx.lineTo(xScale(last), yScale(yValue));\n\tctx.stroke();\n};\n\nexport default wrap(StraightLine);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/StraightLine.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport Line from \"./Line\";\nimport Area from \"./Area\";\n\nimport wrap from \"./wrap\";\n\nclass BollingerSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForTop = this.yAccessorForTop.bind(this);\n\t\tthis.yAccessorForMiddle = this.yAccessorForMiddle.bind(this);\n\t\tthis.yAccessorForBottom = this.yAccessorForBottom.bind(this);\n\t\tthis.yAccessorForScalledBottom = this.yAccessorForScalledBottom.bind(this);\n\t}\n\tyAccessorForTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).top;\n\t}\n\tyAccessorForMiddle(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).middle;\n\t}\n\tyAccessorForBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).bottom;\n\t}\n\tyAccessorForScalledBottom(scale, d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn scale(yAccessor(d) && yAccessor(d).bottom);\n\t}\n\trender() {\n\t\tvar { xScale, yScale, xAccessor, plotData, type } = this.props;\n\t\tvar { calculator, areaClassName, className, opacity } = this.props;\n\n\t\tvar stroke = calculator.stroke();\n\t\tvar fill = calculator.fill();\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<Line\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\txAccessor={xAccessor} yAccessor={this.yAccessorForTop}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tstroke={stroke.top} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<Line\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\txAccessor={xAccessor} yAccessor={this.yAccessorForMiddle}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tstroke={stroke.middle} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<Line\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\txAccessor={xAccessor} yAccessor={this.yAccessorForBottom}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tstroke={stroke.bottom} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<Area\n\t\t\t\t\tclassName={areaClassName}\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\txAccessor={xAccessor} yAccessor={this.yAccessorForTop}\n\t\t\t\t\tbase={this.yAccessorForScalledBottom}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tstroke=\"none\" fill={fill} opacity={opacity}\n\t\t\t\t\ttype={type} />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nBollingerSeries.propTypes = {\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n\tclassName: PropTypes.string,\n\tareaClassName: PropTypes.string,\n\topacity: PropTypes.number,\n\ttype: PropTypes.string,\n};\n\nBollingerSeries.defaultProps = {\n\tclassName: \"react-stockcharts-bollinger-band-series\",\n\tareaClassName: \"react-stockcharts-bollinger-band-series-area\",\n\topacity: 0.2\n};\n\nexport default wrap(BollingerSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/BollingerSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport Line from \"./Line\";\nimport StraightLine from \"./StraightLine\";\nimport wrap from \"./wrap\";\n\nclass RSISeries extends Component {\n\trender() {\n\t\tvar { className, xScale, yScale, xAccessor, calculator, plotData, stroke, type } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar overSold = calculator.overSold();\n\t\tvar middle = calculator.middle();\n\t\tvar overBought = calculator.overBought();\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<Line\n\t\t\t\t\tclassName={className}\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\txAccessor={xAccessor} yAccessor={yAccessor}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tstroke={stroke.line} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t{RSISeries.getHorizontalLine(this.props, overSold, stroke.top)}\n\t\t\t\t{RSISeries.getHorizontalLine(this.props, middle, stroke.middle)}\n\t\t\t\t{RSISeries.getHorizontalLine(this.props, overBought, stroke.bottom)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nRSISeries.getHorizontalLine = (props, yValue, stroke) => {\n\t/* eslint-disable react/prop-types */\n\tlet { xScale, yScale, xAccessor, yAccessor, plotData, type } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={stroke} opacity={0.3} type={type}\n\t\txScale={xScale} yScale={yScale}\n\t\txAccessor={xAccessor} yAccessor={yAccessor}\n\t\tplotData={plotData}\n\t\tyValue={yValue} />;\n};\n\nRSISeries.propTypes = {\n\tclassName: PropTypes.string,\n\n\tcalculator: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tplotData: PropTypes.array,\n\tstroke: PropTypes.object,\n\ttype: PropTypes.string,\n};\n\nRSISeries.defaultProps = {\n\tclassName: \"react-stockcharts-rsi-series\",\n\tstroke: {\n\t\tline: \"#000000\",\n\t\ttop: \"#964B00\",\n\t\tmiddle: \"#000000\",\n\t\tbottom: \"#964B00\"\n\t}\n};\n\nexport default wrap(RSISeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/RSISeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport wrap from \"./wrap\";\n\nimport Line from \"./Line\";\nimport StraightLine from \"./StraightLine\";\n\nclass StochasticSeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorForD = this.yAccessorForD.bind(this);\n\t\tthis.yAccessorForK = this.yAccessorForK.bind(this);\n\t}\n\tyAccessorForD(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).D;\n\t}\n\tyAccessorForK(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && yAccessor(d).K;\n\t}\n\trender() {\n\t\tvar { className, calculator, xScale, yScale, xAccessor, plotData, stroke, type } = this.props;\n\t\tvar seriesStroke = calculator.stroke();\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<Line\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\txAccessor={xAccessor} yAccessor={this.yAccessorForD}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tstroke={seriesStroke.D} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t<Line\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\txAccessor={xAccessor} yAccessor={this.yAccessorForK}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tstroke={seriesStroke.K} fill=\"none\"\n\t\t\t\t\ttype={type} />\n\t\t\t\t{StochasticSeries.getHorizontalLine(this.props, calculator.overSold(), stroke.top)}\n\t\t\t\t{StochasticSeries.getHorizontalLine(this.props, calculator.middle(), stroke.middle)}\n\t\t\t\t{StochasticSeries.getHorizontalLine(this.props, calculator.overBought(), stroke.bottom)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nStochasticSeries.getHorizontalLine = (props, yValue, stroke) => {\n\n\t/* eslint-disable react/prop-types */\n\tvar { xScale, yScale, xAccessor, yAccessor, plotData, type } = props;\n\t/* eslint-enable react/prop-types */\n\n\treturn <StraightLine\n\t\tstroke={stroke} opacity={0.3} type={type}\n\t\txScale={xScale} yScale={yScale}\n\t\txAccessor={xAccessor} yAccessor={yAccessor}\n\t\tplotData={plotData}\n\t\tyValue={yValue} />;\n};\n\nStochasticSeries.propTypes = {\n\tclassName: PropTypes.string,\n\tcalculator: PropTypes.func.isRequired,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tplotData: PropTypes.array,\n\tstroke: PropTypes.object,\n\ttype: PropTypes.string,\n};\n\nStochasticSeries.defaultProps = {\n\tclassName: \"react-stockcharts-stochastic-series\",\n\tstroke: {\n\t\ttop: \"#964B00\",\n\t\tmiddle: \"#000000\",\n\t\tbottom: \"#964B00\"\n\t}\n};\n\nexport default wrap(StochasticSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/StochasticSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport OverlayBarSeries from \"./OverlayBarSeries\";\nimport StraightLine from \"./StraightLine\";\n\nimport wrap from \"./wrap\";\n\nclass ElderRaySeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.yAccessorTop = this.yAccessorTop.bind(this);\n\t\tthis.yAccessorBullTop = this.yAccessorBullTop.bind(this);\n\t\tthis.yAccessorBearTop = this.yAccessorBearTop.bind(this);\n\t\tthis.yAccessorBullBottom = this.yAccessorBullBottom.bind(this);\n\t\tthis.yAccessorBearBottom = this.yAccessorBearBottom.bind(this);\n\t\tthis.yAccessorForBarBase = this.yAccessorForBarBase.bind(this);\n\t}\n\tyAccessorTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && Math.max(yAccessor(d).bullPower, 0);\n\t}\n\tyAccessorBullTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower > 0 ? yAccessor(d).bullPower : undefined);\n\t}\n\tyAccessorBearTop(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bearPower > 0 ? yAccessor(d).bearPower : undefined);\n\t}\n\tyAccessorBullBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0 ? 0 : undefined);\n\t}\n\tyAccessorBearBottom(d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0\n\t\t\t\t|| yAccessor(d).bullPower * yAccessor(d).bearPower < 0 // bullPower is +ve and bearPower is -ve\n\t\t\t? Math.min(0, yAccessor(d).bullPower) : undefined);\n\t}\n\tyAccessorForBarBase(xScale, yScale, d) {\n\t\tvar { calculator } = this.props;\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar y = yAccessor(d) && Math.min(yAccessor(d).bearPower, 0);\n\t\treturn yScale(y);\n\t}\n\tfillForEachBar(d, yAccessorNumber) {\n\t\treturn yAccessorNumber % 2 === 0 ? \"#6BA583\" : \"#FF0000\";\n\t}\n\trender() {\n\t\tvar { className, xScale, yScale, plotData, opacity } = this.props;\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<OverlayBarSeries\n\t\t\t\t\txScale={xScale} yScale={yScale}\n\t\t\t\t\tbaseAt={this.yAccessorForBarBase}\n\t\t\t\t\tclassName=\"elderray-bar\"\n\t\t\t\t\tstroke={false} fill={this.fillForEachBar}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\tplotData={plotData}\n\t\t\t\t\tyAccessor={[this.yAccessorBullTop, this.yAccessorBearTop, this.yAccessorBullBottom, this.yAccessorBearBottom]} />\n\t\t\t\t<StraightLine yValue={0} />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nElderRaySeries.propTypes = {\n\tclassName: PropTypes.string,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tplotData: PropTypes.array,\n\ttype: PropTypes.string,\n\topacity: PropTypes.number,\n\tdivergenceStroke: PropTypes.bool,\n};\n\nElderRaySeries.defaultProps = {\n\tclassName: \"react-stockcharts-elderray-series\",\n\tzeroLineStroke: \"#000000\",\n\tzeroLineOpacity: 0.3,\n\topacity: 1,\n\tdivergenceStroke: false,\n};\n\nexport default wrap(ElderRaySeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/ElderRaySeries.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport wrap from \"./wrap\";\n\nimport { drawOnCanvas2, getBarsSVG2 } from \"./StackedBarSeries\";\nimport { isDefined, isNotDefined, first, last } from \"../utils\";\n\nclass OverlayBarSeries extends Component {\n\trender() {\n\t\tvar { props } = this;\n\t\treturn <g className=\"react-stockcharts-bar-series\">\n\t\t\t{OverlayBarSeries.getBarsSVG(props)}\n\t\t</g>;\n\t}\n}\n\nOverlayBarSeries.propTypes = {\n\tbaseAt: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.func,\n\t]).isRequired,\n\tdirection: PropTypes.oneOf([\"up\", \"down\"]).isRequired,\n\tstroke: PropTypes.bool.isRequired,\n\twidthRatio: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.func, PropTypes.string\n\t]).isRequired,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.arrayOf(PropTypes.func),\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n};\n\nOverlayBarSeries.defaultProps = {\n\tbaseAt: (xScale, yScale/* , d*/) => first(yScale.range()),\n\tdirection: \"up\",\n\tclassName: \"bar\",\n\tstroke: false,\n\tfill: \"#4682B4\",\n\topacity: 1,\n\twidthRatio: 0.5,\n};\n\nOverlayBarSeries.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\tvar { xAccessor, yAccessor } = props;\n\n\tvar bars = OverlayBarSeries.getBars(props, xAccessor, yAccessor, xScale, yScale, plotData);\n\n\t// console.log(bars);\n\tdrawOnCanvas2(props, ctx, bars);\n};\n\nOverlayBarSeries.getBarsSVG = (props) => {\n\n\t/* eslint-disable react/prop-types */\n\tvar { xAccessor, yAccessor, xScale, yScale, plotData } = props;\n\t/* eslint-enable react/prop-types */\n\n\tvar bars = OverlayBarSeries.getBars(props, xAccessor, yAccessor, xScale, yScale, plotData);\n\treturn getBarsSVG2(props, bars);\n};\n\nOverlayBarSeries.getBars = (props, xAccessor, yAccessor, xScale, yScale, plotData) => {\n\tvar { baseAt, className, fill, stroke, widthRatio } = props;\n\n\tvar getClassName = d3.functor(className);\n\tvar getFill = d3.functor(fill);\n\tvar getBase = d3.functor(baseAt);\n\n\tvar width = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData))));\n\n\n\tvar bw = (width / (plotData.length - 1) * widthRatio);\n\tvar barWidth = Math.round(bw);\n\tvar offset = (barWidth === 1 ? 0 : 0.5 * barWidth);\n\n\t// console.log(xScale.domain(), yScale.domain());\n\n\tvar bars = plotData\n\t\t\t.map(d => {\n\t\t\t\tvar innerBars = yAccessor.map((eachYAccessor, i) => {\n\t\t\t\t\tvar yValue = eachYAccessor(d);\n\t\t\t\t\tif (isNotDefined(yValue)) return undefined;\n\n\t\t\t\t\tvar xValue = xAccessor(d);\n\t\t\t\t\tvar x = Math.round(xScale(xValue)) - offset;\n\t\t\t\t\tvar y = yScale(yValue);\n\t\t\t\t\t// console.log(yValue, y, xValue, x)\n\t\t\t\t\treturn {\n\t\t\t\t\t\twidth: barWidth,\n\t\t\t\t\t\tx: x,\n\t\t\t\t\t\ty: y,\n\t\t\t\t\t\tclassName: getClassName(d, i),\n\t\t\t\t\t\tstroke: stroke ? getFill(d, i) : \"none\",\n\t\t\t\t\t\tfill: getFill(d, i),\n\t\t\t\t\t\ti,\n\t\t\t\t\t};\n\t\t\t\t}).filter(yValue => isDefined(yValue));\n\n\t\t\t\tvar b = getBase(xScale, yScale, d);\n\t\t\t\tvar h;\n\t\t\t\tfor (var i = innerBars.length - 1; i >= 0; i--) {\n\t\t\t\t\th = b - innerBars[i].y;\n\t\t\t\t\tif (h < 0) {\n\t\t\t\t\t\tinnerBars[i].y = b;\n\t\t\t\t\t\th = -1 * h;\n\t\t\t\t\t}\n\t\t\t\t\tinnerBars[i].height = h;\n\t\t\t\t\tb = innerBars[i].y;\n\t\t\t\t}\n\t\t\t\treturn innerBars;\n\t\t\t});\n\n\treturn d3.merge(bars);\n};\n\n// export { OverlayBarSeries };\nexport default wrap(OverlayBarSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/OverlayBarSeries.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport wrap from \"./wrap\";\n\nimport { head, last, hexToRGBA, accumulatingWindow, identity } from \"../utils\";\n\nclass VolumeProfileSeries extends Component {\n\trender() {\n\t\tvar { className, opacity, xScale, yScale, plotData } = this.props;\n\t\tvar { showSessionBackground, sessionBackGround, sessionBackGroundOpacity } = this.props;\n\n\t\tvar { rects, sessionBg } = helper(this.props, xScale, yScale, plotData);\n\n\t\tvar sessionBgSvg = showSessionBackground\n\t\t\t? sessionBg.map((d, idx) => <rect key={idx} {...d} opacity={sessionBackGroundOpacity} fill={sessionBackGround} />)\n\t\t\t: null;\n\n\t\treturn <g className={className}>\n\t\t\t{sessionBgSvg}\n\t\t\t{rects.map((d, i) => <g key={i}>\n\t\t\t\t\t<rect x={d.x} y={d.y}\n\t\t\t\t\t\twidth={d.w1} height={d.height}\n\t\t\t\t\t\tfill={d.fill1} stroke={d.stroke1} fillOpacity={opacity} />\n\t\t\t\t\t<rect x={d.x + d.w1} y={d.y}\n\t\t\t\t\t\twidth={d.w2} height={d.height}\n\t\t\t\t\t\tfill={d.fill2} stroke={d.stroke2} fillOpacity={opacity} />\n\t\t\t\t</g>)}\n\t\t</g>;\n\t}\n}\n\nVolumeProfileSeries.propTypes = {\n\tclassName: PropTypes.string,\n\topacity: PropTypes.number,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tplotData: PropTypes.array,\n\tshowSessionBackground: PropTypes.bool,\n\tsessionBackGround: PropTypes.string,\n\tsessionBackGroundOpacity: PropTypes.number,\n};\n\nVolumeProfileSeries.defaultProps = {\n\topacity: 0.5,\n\tclassName: \"line \",\n\tbins: 20,\n\tmaxProfileWidthPercent: 50,\n\tsource: d => d.close,\n\tvolume: d => d.volume,\n\tabsoluteChange: d => d.absoluteChange,\n\tbySession: false,\n\t/* eslint-disable no-unused-vars */\n\tsessionStart: ({ d, i, plotData }) => d.idx.startOfMonth,\n\t/* eslint-enable no-unused-vars */\n\torient: \"left\",\n\tfill: ({ type }) => type === \"up\" ? \"#6BA583\" : \"#FF0000\",\n\t// fill: ({ type }) => { var c = type === \"up\" ? \"#6BA583\" : \"#FF0000\"; console.log(type, c); return c },\n\t// stroke: ({ type }) =>  type === \"up\" ? \"#6BA583\" : \"#FF0000\",\n\t// stroke: \"none\",\n\tstroke: \"#FFFFFF\",\n\tshowSessionBackground: false,\n\tsessionBackGround: \"#4682B4\",\n\tsessionBackGroundOpacity: 0.3,\n\tpartialStartOK: false,\n\tpartialEndOK: true,\n};\n\nfunction helper(props, realXScale, yScale, plotData) {\n\tvar { xAccessor, width, sessionStart, bySession, partialStartOK, partialEndOK } = props;\n\tvar { bins, maxProfileWidthPercent, source, volume, absoluteChange, orient, fill, stroke } = props;\n\n\tvar sessionBuilder = accumulatingWindow()\n\t\t\t.discardTillStart(!partialStartOK)\n\t\t\t.discardTillEnd(!partialEndOK)\n\t\t\t.accumulateTill((d, i) => {\n\t\t\t\treturn sessionStart({ d, i, plotData });\n\t\t\t})\n\t\t\t.accumulator(identity);\n\n\tvar dx = plotData.length > 1 ? realXScale(xAccessor(plotData[1])) - realXScale(xAccessor(head(plotData))) : 0;\n\n\tvar sessions = bySession ? sessionBuilder(plotData) : [plotData];\n\n\tvar allRects = sessions.map(session => {\n\n\t\tvar begin = bySession ? realXScale(xAccessor(head(session))) : 0;\n\t\tvar finish = bySession ? realXScale(xAccessor(last(session))) : width;\n\t\tvar sessionWidth = finish - begin + dx;\n\n\t\tvar histogram = d3.layout.histogram()\n\t\t\t\t.value(source)\n\t\t\t\t.bins(bins);\n\n\t\tvar rollup = d3.nest()\n\t\t\t\t.key(d => d.direction)\n\t\t\t\t.sortKeys(orient === \"right\" ? d3.descending : d3.ascending)\n\t\t\t\t.rollup(leaves => d3.sum(leaves, d => d.volume));\n\n\t\tvar values = histogram(session);\n\t\tvar volumeInBins = values\n\t\t\t\t.map(arr => arr.map(d => absoluteChange(d) > 0 ? { direction: \"up\", volume: volume(d) } : { direction: \"down\", volume: volume(d) }))\n\t\t\t\t.map(arr => rollup.entries(arr));\n\n\t\tvar volumeValues = volumeInBins\n\t\t\t\t.map(each => d3.sum(each.map(d => d.values)));\n\n\t\tvar base = xScale => head(xScale.range());\n\n\t\tvar [start, end] = orient === \"right\"\n\t\t\t\t? [begin, begin + sessionWidth * maxProfileWidthPercent / 100]\n\t\t\t\t: [finish, finish - sessionWidth * (100 - maxProfileWidthPercent) / 100];\n\n\t\tvar xScale = d3.scale.linear()\n\t\t\t\t.domain([0, d3.max(volumeValues)])\n\t\t\t\t.range([start, end]);\n\n\t\tvar totalVolumes = volumeInBins.map(volumes => {\n\n\t\t\tvar totalVolume = d3.sum(volumes, d => d.values);\n\t\t\tvar totalVolumeX = xScale(totalVolume);\n\t\t\tvar width = base(xScale) - totalVolumeX;\n\t\t\tvar x = width < 0 ? totalVolumeX + width : totalVolumeX;\n\n\t\t\tvar ws = volumes.map(d => {\n\t\t\t\treturn {\n\t\t\t\t\ttype: d.key,\n\t\t\t\t\twidth: d.values * Math.abs(width) / totalVolume,\n\t\t\t\t};\n\t\t\t});\n\t\t\treturn { x, ws, totalVolumeX };\n\t\t});\n\n\t\tvar rects = d3.zip(values, totalVolumes)\n\t\t\t\t.map(([d, { x, ws }]) => {\n\t\t\t\t\tvar w1 = ws[0] || { type: \"up\", width: 0 };\n\t\t\t\t\tvar w2 = ws[1] || { type: \"down\", width: 0 };\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\ty: yScale(d.x + d.dx),\n\t\t\t\t\t\theight: yScale(d.x - d.dx) - yScale(d.x),\n\t\t\t\t\t\tx,\n\t\t\t\t\t\twidth,\n\t\t\t\t\t\tw1: w1.width,\n\t\t\t\t\t\tw2: w2.width,\n\t\t\t\t\t\tstroke1: d3.functor(stroke)(w1),\n\t\t\t\t\t\tstroke2: d3.functor(stroke)(w2),\n\t\t\t\t\t\tfill1: d3.functor(fill)(w1),\n\t\t\t\t\t\tfill2: d3.functor(fill)(w2),\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\tvar sessionBg = {\n\t\t\tx: begin,\n\t\t\ty: last(rects).y,\n\t\t\theight: head(rects).y - last(rects).y + head(rects).height,\n\t\t\twidth: sessionWidth,\n\t\t};\n\n\t\treturn { rects, sessionBg };\n\t});\n\n\treturn {\n\t\trects: d3.merge(allRects.map(d => d.rects)),\n\t\tsessionBg: allRects.map(d => d.sessionBg),\n\t};\n}\n\n\nVolumeProfileSeries.drawOnCanvas = (props, ctx, xScale, yScale, plotData) => {\n\tvar { opacity, sessionBackGround, sessionBackGroundOpacity, showSessionBackground } = props;\n\n\tvar { rects, sessionBg } = helper(props, xScale, yScale, plotData);\n\n\tif (showSessionBackground) {\n\t\tctx.fillStyle = hexToRGBA(sessionBackGround, sessionBackGroundOpacity);\n\n\t\tsessionBg.forEach(each => {\n\t\t\tvar { x, y, height, width } = each;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x, y, width, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\t\t});\n\t}\n\n\trects.forEach(each => {\n\t\tvar { x, y, height, w1, w2, stroke1, stroke2, fill1, fill2 } = each;\n\n\n\t\tif (w1 > 0) {\n\t\t\tctx.fillStyle = hexToRGBA(fill1, opacity);\n\t\t\tif (stroke1 !== \"none\") ctx.strokeStyle = stroke1;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x, y, w1, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tif (stroke1 !== \"none\") ctx.stroke();\n\t\t}\n\n\t\tif (w2 > 0) {\n\t\t\tctx.fillStyle = hexToRGBA(fill2, opacity);\n\t\t\tif (stroke2 !== \"none\") ctx.strokeStyle = stroke2;\n\n\t\t\tctx.beginPath();\n\t\t\tctx.rect(x + w1, y, w2, height);\n\t\t\tctx.closePath();\n\t\t\tctx.fill();\n\n\t\t\tif (stroke2 !== \"none\") ctx.stroke();\n\t\t}\n\n\t});\n};\n\nexport default wrap(VolumeProfileSeries);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/series/VolumeProfileSeries.jsx\n **/","\n/*\nimport financeEODCalculator from \"./financeEODCalculator\";\nimport financeEODDiscontinuousScale from \"./financeEODDiscontinuousScale\";\nimport eodIntervalCalculator from \"./eodIntervalCalculator\";\nimport identityIntervalCalculator from \"./identityIntervalCalculator\";\nimport financeIntradayDiscontinuousScale from \"./financeIntradayDiscontinuousScale\";\nimport financeIntradayCalculator from \"./financeIntradayCalculator\";\nimport intradayIntervalCalculator from \"./intradayIntervalCalculator\";\n*/\nimport discontinuousTimeScaleProvider from \"./discontinuousTimeScaleProvider\";\n\nexport {\n\t/* financeEODCalculator,\n\tfinanceEODDiscontinuousScale,\n\tidentityIntervalCalculator,\n\teodIntervalCalculator,\n\tfinanceIntradayDiscontinuousScale,\n\tfinanceIntradayCalculator,\n\tintradayIntervalCalculator,*/\n\n\tdiscontinuousTimeScaleProvider\n};\n\nexport function defaultScaleProvider(xScale) {\n\treturn (data, xAccessor) => ({ data, xScale, xAccessor, displayXAccessor: xAccessor });\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/scale/index.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport financeDiscontinuousScale from \"./financeDiscontinuousScale\";\nimport { head, last, slidingWindow, zipper } from \"../utils\";\n\nconst yearFormat = d3.time.format(\"%Y\");\nconst quarterFormat = d3.time.format(\"%b %Y\");\nconst monthFormat = d3.time.format(\"%b\");\nconst weekFormat = d3.time.format(\"%d %b\");\nconst dayFormat = d3.time.format(\"%a %d\");\nconst hourFormat = d3.time.format(\"%_I %p\");\nconst minuteFormat = d3.time.format(\"%I:%M %p\");\nconst secondFormat = d3.time.format(\"%I:%M:%S %p\");\n// const milliSecondFormat = d3.time.format(\"%L\");\n\nvar levelDefinition = [\n\n\t/* eslint-disable no-unused-vars */\n\t/* 17 */(d, date, i) => d.startOfYear && date.getFullYear() % 2 === 0 && yearFormat,\n\t/* 16 */(d, date, i) => d.startOfYear && yearFormat,\n\t/* 15 */(d, date, i) => d.startOfQuarter && quarterFormat,\n\t/* 14 */(d, date, i) => d.startOfMonth && monthFormat,\n\t/* 13 */(d, date, i) => d.startOfWeek && weekFormat,\n\t/* 12 */(d, date, i) => d.startOfDay && i % 2 === 0 && dayFormat,\n\t/* 11 */(d, date, i) => d.startOfDay && dayFormat,\n\t/* 10 */(d, date, i) => d.startOfHalfDay && hourFormat, // 12h\n\t/*  9 */(d, date, i) => d.startOfQuarterDay && hourFormat, // 6h\n\t/*  8 */(d, date, i) => d.startOfEighthOfADay && hourFormat, // 3h\n\t/*  7 */(d, date, i) => d.startOfHour && date.getHours() % 2 === 0 && hourFormat, // 2h -- REMOVE THIS\n\t/*  6 */(d, date, i) => d.startOfHour && hourFormat, // 1h\n\t/*  5 */(d, date, i) => d.startOf30Minutes && minuteFormat,\n\t/*  4 */(d, date, i) => d.startOf15Minutes && minuteFormat,\n\t/*  3 */(d, date, i) => d.startOf5Minutes && minuteFormat,\n\t/*  2 */(d, date, i) => d.startOfMinute && minuteFormat,\n\t/*  1 */(d, date, i) => d.startOf30Seconds && secondFormat,\n\t/*  0 */(d, date, i) => secondFormat,\n\t/* eslint-enable no-unused-vars */\n\n];\n\nfunction evaluateLevel(d, date, i) {\n\treturn levelDefinition\n\t\t.map((l, idx) => ({ level: levelDefinition.length - idx - 1, format: l(d, date, i) }))\n\t\t.find(l => !!l.format);\n}\n\nvar discontinuousIndexCalculator = slidingWindow()\n\t.windowSize(2)\n\t.undefinedValue(d => {\n\t\tvar i = 0;\n\t\tvar row = {\n\t\t\tdate: d,\n\t\t\tstartOf30Seconds: false,\n\t\t\tstartOfMinute: false,\n\t\t\tstartOf5Minutes: false,\n\t\t\tstartOf15Minutes: false,\n\t\t\tstartOf30Minutes: false,\n\t\t\tstartOfHour: false,\n\t\t\tstartOfEighthOfADay: false,\n\t\t\tstartOfQuarterDay: false,\n\t\t\tstartOfHalfDay: false,\n\t\t\tstartOfDay: true,\n\t\t\tstartOfWeek: false,\n\t\t\tstartOfMonth: false,\n\t\t\tstartOfQuarter: false,\n\t\t\tstartOfYear: false,\n\t\t};\n\t\tvar level = evaluateLevel(row, d, i);\n\t\treturn { ...row, index: i, ...level };\n\t});\n\nvar discontinuousIndexCalculatorLocalTime = discontinuousIndexCalculator\n\t.accumulator(([prevDate, nowDate], i) => {\n\t\tvar startOf30Seconds = nowDate.getSeconds() % 30 === 0;\n\n\t\tvar startOfMinute = nowDate.getMinutes() !== prevDate.getMinutes();\n\t\tvar startOf5Minutes = startOfMinute && nowDate.getMinutes() % 5 <= prevDate.getMinutes() % 5;\n\t\tvar startOf15Minutes = startOfMinute && nowDate.getMinutes() % 15 <= prevDate.getMinutes() % 15;\n\t\tvar startOf30Minutes = startOfMinute && nowDate.getMinutes() % 30 <= prevDate.getMinutes() % 30;\n\n\t\tvar startOfHour = nowDate.getHours() !== prevDate.getHours();\n\n\t\tvar startOfEighthOfADay = startOfHour && nowDate.getHours() % 3 === 0;\n\t\tvar startOfQuarterDay = startOfHour && nowDate.getHours() % 6 === 0;\n\t\tvar startOfHalfDay = startOfHour && nowDate.getHours() % 12 === 0;\n\n\t\tvar startOfDay = nowDate.getDay() !== prevDate.getDay();\n\t\t// According to ISO calendar\n\t\t// Sunday = 0, Monday = 1, ... Saturday = 6\n\t\t// day of week of today < day of week of yesterday then today is start of week\n\t\tvar startOfWeek = nowDate.getDay() < prevDate.getDay();\n\t\t// month of today != month of yesterday then today is start of month\n\t\tvar startOfMonth = nowDate.getMonth() !== prevDate.getMonth();\n\t\t// if start of month and month % 3 === 0 then it is start of quarter\n\t\tvar startOfQuarter = startOfMonth && (nowDate.getMonth() % 3 <= prevDate.getMonth() % 3);\n\t\t// year of today != year of yesterday then today is start of year\n\t\tvar startOfYear = nowDate.getYear() !== prevDate.getYear();\n\n\t\tvar row = {\n\t\t\tdate: nowDate,\n\t\t\tstartOf30Seconds,\n\t\t\tstartOfMinute,\n\t\t\tstartOf5Minutes,\n\t\t\tstartOf15Minutes,\n\t\t\tstartOf30Minutes,\n\t\t\tstartOfHour,\n\t\t\tstartOfEighthOfADay,\n\t\t\tstartOfQuarterDay,\n\t\t\tstartOfHalfDay,\n\t\t\tstartOfDay,\n\t\t\tstartOfWeek,\n\t\t\tstartOfMonth,\n\t\t\tstartOfQuarter,\n\t\t\tstartOfYear,\n\t\t};\n\t\tvar level = evaluateLevel(row, nowDate, i);\n\t\treturn { ...row, index: i, ...level };\n\t});\n\nfunction discontinuousTimeScaleProvider(data,\n\t\tdateAccessor,\n\t\tindexAccessor,\n\t\tindexMutator) {\n\n\tvar calculate = discontinuousIndexCalculatorLocalTime.source(dateAccessor);\n\tvar index = calculate(data);\n\t// var interval1 = Math.round((dateAccessor(last(data)) - dateAccessor(head(data))) / data.length)\n\t// console.log(interval, interval1);\n\n\tvar map = d3.map();\n\tfor (var i = 0; i < data.length - 1; i++) {\n\n\t\tvar nextDate = dateAccessor(data[i + 1]);\n\t\tvar nowDate = dateAccessor(data[i]);\n\t\tvar diff = nextDate - nowDate;\n\n\t\tif (map.has(diff)) {\n\t\t\tvar count = parseInt(map.get(diff), 10) + 1;\n\t\t\tmap.set(diff, count);\n\t\t} else {\n\t\t\tmap.set(diff, 1);\n\t\t}\n\t}\n\n\tvar entries = map.entries().sort((a, b) => a.value < b.value);\n\n\t// For Renko/p&f\n\tvar interval = entries[0].value === 1\n\t\t? Math.round((dateAccessor(last(data)) - dateAccessor(head(data))) / data.length)\n\t\t: parseInt(entries[0].key, 10);\n\n\t// console.log(interval, entries[0].key);\n\n\tvar xScale = financeDiscontinuousScale(index, interval);\n\n\t// console.log(index);\n\tvar mergedData = zipper()\n\t\t.combine(indexMutator);\n\n\tvar finalData = mergedData(data, index);\n\n\treturn {\n\t\tdata: finalData,\n\t\txScale,\n\t\txAccessor: d => d && indexAccessor(d).index,\n\t\tdisplayXAccessor: dateAccessor,\n\t};\n}\n\ndiscontinuousTimeScaleProvider.utc = function(data,\n\t\tdateAccessor,\n\t\tindexAccessor,\n\t\tindexMutator) {\n\tvar utcDateAccessor = d => {\n\t\tvar date = dateAccessor(d);\n\t\t// The getTimezoneOffset() method returns the time-zone offset from UTC, in minutes, for the current locale.\n\t\tvar offsetInMillis = date.getTimezoneOffset() * 60 * 1000;\n\t\treturn new Date(date.getTime() + offsetInMillis);\n\t};\n\treturn discontinuousTimeScaleProvider(data, utcDateAccessor, indexAccessor, indexMutator);\n};\n\nexport default discontinuousTimeScaleProvider;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/scale/discontinuousTimeScaleProvider.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { isNotDefined, head, last } from \"../utils\";\n\nvar tickLevels = [\n\t{ target: 50e2, level: 0 },\n\t{ target: 50e3, level: 1 },\n\t{ target: 10e4, level: 2 },\n\t{ target: 28e4, level: 3 },\n\t{ target: 55e4, level: 4 },\n\t{ target: 11e5, level: 5 },\n\t{ target: 21e5, level: 6 },\n\t{ target: 43e5, level: 7 },\n\t{ target: 49e5, level: 8 }, // not tested\n\t{ target: 50e5, level: 9 }, // not tested\n\t{ target: 58e6, level: 10 }, // not tested\n\t{ target: 58e6, level: 11 },\n\t{ target: 11e7, level: 12 },\n\t{ target: 78e7, level: 13 },\n\t{ target: 16e8, level: 14 },\n\t{ target: 62e8, level: 15 },\n\t{ target: 10e20, level: 16 },\n];\n\nvar tickLevelBisector = d3.bisector(function(d) { return d.target; }).left;\n\nexport default function financeDiscontinuousScale(index,\n\t\tinterval,\n\t\tbackingLinearScale = d3.scale.linear()) {\n\n\tif (isNotDefined(index) || isNotDefined(interval))\n\t\tthrow new Error(\"Use the discontinuousTimeScaleProvider to create financeDiscontinuousScale\");\n\n\tfunction scale(x) {\n\t\treturn backingLinearScale(x);\n\t}\n\tscale.invert = function(x) {\n\t\tvar inverted = backingLinearScale.invert(x);\n\t\treturn Math.round(inverted * 10000) / 10000;\n\t};\n\tscale.domain = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.domain();\n\t\tbackingLinearScale.domain(x);\n\t\treturn scale;\n\t};\n\tscale.range = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.range();\n\t\tbackingLinearScale.range(x);\n\t\treturn scale;\n\t};\n\tscale.rangeRound = function(x) {\n\t\treturn backingLinearScale.range(x);\n\t};\n\tscale.clamp = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.clamp();\n\t\tbackingLinearScale.clamp(x);\n\t\treturn scale;\n\t};\n\tscale.interpolate = function(x) {\n\t\tif (!arguments.length) return backingLinearScale.interpolate();\n\t\tbackingLinearScale.interpolate(x);\n\t\treturn scale;\n\t};\n\tscale.ticks = function(m) {\n\n\t\tvar [domainStart, domainEnd] = backingLinearScale.domain();\n\t\tvar start = Math.max(Math.ceil(domainStart), 0);\n\t\tvar end = Math.min(Math.floor(domainEnd), index.length - 1);\n\n\t\t// console.log(index.length, domainStart, domainEnd, start, end)\n\n\t\tvar newM = ((end - start) / (domainEnd - domainStart)) * m;\n\t\t// newM = newM <= 0 ? m : newM;\n\t\tvar target = Math.round((end - start + 1) * interval / newM);\n\n\t\t// var subList = index.slice(start, end + 1);\n\t\tvar levelIndex = tickLevelBisector(tickLevels, target);\n\t\t// console.log(target, levelIndex)\n\t\tvar { level } = tickLevels[levelIndex];\n\n\t\t// console.log(target, level);\n\n\t\tvar backingTicks = backingLinearScale.ticks(m);\n\t\tvar distance = backingTicks.length > 0\n\t\t\t? (last(backingTicks) - head(backingTicks)) / (backingTicks.length - 1) / 4\n\t\t\t: 1;\n\n\t\tvar ticks = [];\n\t\tfor (let i = start; i < end + 1; i++) {\n\t\t\tif (index[i].level >= level) ticks.push(index[i].index);\n\t\t}\n\n\t\t// subList.filter(each => each.level >= level).map(d => d.index);\n\n\t\tvar ticksSet = d3.set(ticks);\n\n\t\tfor (let i = 0; i < ticks.length - 1; i++) {\n\t\t\tfor (var j = i + 1; j < ticks.length; j++) {\n\t\t\t\tif (ticks[j] - ticks[i] < distance) {\n\t\t\t\t\tticksSet.remove(index[ticks[i]].level >= index[ticks[j]].level ? ticks[j] : ticks[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn ticksSet.values().map(d => parseInt(d, 10));\n\t};\n\tscale.tickFormat = function() {\n\t\treturn function(x) {\n\t\t\tvar { format, date } = index[x];\n\t\t\treturn format(date);\n\t\t};\n\t};\n\tscale.nice = function(m) {\n\t\tbackingLinearScale.nice(m);\n\t\treturn scale;\n\t};\n\tscale.copy = function() {\n\t\treturn financeDiscontinuousScale(index, interval, backingLinearScale.copy());\n\t};\n\treturn scale;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/scale/financeDiscontinuousScale.js\n **/","import EdgeIndicator from \"./EdgeIndicator\";\n\nimport CurrentCoordinate from \"./CurrentCoordinate\";\n\nimport MouseCoordinateX from \"./MouseCoordinateX\";\nimport MouseCoordinateY from \"./MouseCoordinateY\";\nimport CrossHairCursor from \"./CrossHairCursor\";\n\nexport {\n\tEdgeIndicator,\n\tCurrentCoordinate,\n\tMouseCoordinateX,\n\tMouseCoordinateY,\n\tCrossHairCursor,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/index.js\n **/","\"use strict\";\n\nimport React, { Component, PropTypes } from \"react\";\nimport d3 from \"d3\";\n\nimport EdgeCoordinate from \"./EdgeCoordinate\";\n\nimport pure from \"../pure\";\nimport { first, last, isDefined, isNotDefined } from \"../utils\";\n\nclass EdgeIndicator extends Component {\n\tcomponentDidMount() {\n\t\tvar { chartCanvasType, getCanvasContexts } = this.props;\n\n\t\tif (chartCanvasType !== \"svg\" && isDefined(getCanvasContexts)) {\n\t\t\tvar contexts = getCanvasContexts();\n\t\t\tif (contexts)\n\t\t\t\tEdgeIndicator.drawOnCanvas(this.props, contexts.axes);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\tcomponentWillMount() {\n\t\tthis.componentWillReceiveProps(this.props);\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tvar draw = EdgeIndicator.drawOnCanvasStatic.bind(null, nextProps);\n\n\t\tvar { chartId } = nextProps;\n\n\t\tnextProps.callbackForCanvasDraw({\n\t\t\ttype: \"edge\",\n\t\t\tchartId, draw,\n\t\t});\n\t}\n\trender() {\n\t\tvar { xScale, chartConfig, plotData, chartCanvasType } = this.props;\n\n\t\tif (chartCanvasType !== \"svg\") return null;\n\n\t\tvar edge = EdgeIndicator.helper(this.props, xScale, chartConfig.yScale, plotData);\n\n\t\tif (isNotDefined(edge)) return null;\n\n\t\treturn <EdgeCoordinate\n\t\t\tclassName=\"react-stockcharts-edge-coordinate\"\n\t\t\t\t{...edge} />;\n\t}\n}\n\nEdgeIndicator.propTypes = {\n\tyAccessor: PropTypes.func,\n\n\ttype: PropTypes.oneOf([\"horizontal\"]).isRequired,\n\tclassName: PropTypes.string,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]).isRequired,\n\ttextFill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]).isRequired,\n\titemType: PropTypes.oneOf([\"first\", \"last\"]).isRequired,\n\torient: PropTypes.oneOf([\"left\", \"right\"]),\n\tedgeAt: PropTypes.oneOf([\"left\", \"right\"]),\n\tdisplayFormat: PropTypes.func.isRequired,\n\trectHeight: PropTypes.number.isRequired,\n\trectWidth: PropTypes.number.isRequired,\n\tarrowWidth: PropTypes.number.isRequired,\n};\n\nEdgeIndicator.defaultProps = {\n\ttype: \"horizontal\",\n\torient: \"left\",\n\tedgeAt: \"left\",\n\ttextFill: \"#FFFFFF\",\n\tdisplayFormat: d3.format(\".2f\"),\n\tyAxisPad: 0,\n\trectHeight: 20,\n\trectWidth: 50,\n\tarrowWidth: 10,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n};\n\nEdgeIndicator.drawOnCanvas = (props, canvasContext) => {\n\tvar { chartConfig, xScale, plotData } = props;\n\tEdgeIndicator.drawOnCanvasStatic(props, canvasContext, xScale, chartConfig.yScale, plotData);\n};\n\nEdgeIndicator.drawOnCanvasStatic = (props, ctx, xScale, yScale, plotData) => {\n\tvar { canvasOriginX, canvasOriginY } = props;\n\tvar edge = EdgeIndicator.helper(props, xScale, yScale, plotData);\n\n\tif (isNotDefined(edge)) return null;\n\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(canvasOriginX, canvasOriginY);\n\n\tEdgeCoordinate.drawOnCanvasStatic(ctx, edge);\n\tctx.restore();\n};\n\nEdgeIndicator.helper = (props, xScale, yScale, plotData) => {\n\tvar { type: edgeType, displayFormat, itemType, edgeAt, yAxisPad, orient } = props;\n\tvar { yAccessor, xAccessor, fill, textFill, rectHeight, rectWidth, arrowWidth } = props;\n\tvar { fontFamily, fontSize } = props;\n\n\t// var currentItem = ChartDataUtil.getCurrentItemForChartNew(currentItems, forChart);\n\tvar edge = null;\n\t// console.log(chartData.config.compareSeries.length);\n\n\tvar item = (itemType === \"first\" ? first(plotData, yAccessor) : last(plotData, yAccessor));\n\n\tif (isDefined(item)) {\n\t\tvar yValue = yAccessor(item),\n\t\t\txValue = xAccessor(item);\n\n\t\tvar x1 = Math.round(xScale(xValue)),\n\t\t\ty1 = Math.round(yScale(yValue));\n\n\t\tvar [left, right] = xScale.range();\n\t\tvar edgeX = edgeAt === \"left\"\n\t\t\t\t? left - yAxisPad\n\t\t\t\t: right + yAxisPad;\n\n\t\tedge = {\n\t\t\t// ...props,\n\t\t\tcoordinate: displayFormat(yValue),\n\t\t\tshow: true,\n\t\t\ttype: edgeType,\n\t\t\torient,\n\t\t\tedgeAt: edgeX,\n\t\t\tfill: d3.functor(fill)(item),\n\t\t\tfontFamily, fontSize,\n\t\t\ttextFill: d3.functor(textFill)(item),\n\t\t\trectHeight, rectWidth, arrowWidth,\n\t\t\tx1,\n\t\t\ty1,\n\t\t\tx2: edgeX,\n\t\t\ty2: y1,\n\t\t};\n\t}\n\treturn edge;\n};\n\nEdgeIndicator.propTypes = {\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\tchartConfig: PropTypes.object.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func.isRequired,\n\tchartId: PropTypes.number.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tmargin: PropTypes.object.isRequired,\n\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n\tgetAllCanvasDrawCallback: PropTypes.func,\n\tchartCanvasType: PropTypes.string.isRequired,\n\tplotData: PropTypes.array.isRequired,\n};\n\n\nexport default pure(EdgeIndicator, {\n\t// width: PropTypes.number.isRequired,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\tchartConfig: PropTypes.object.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func.isRequired,\n\tchartId: PropTypes.number.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tmargin: PropTypes.object.isRequired,\n\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n\tgetAllCanvasDrawCallback: PropTypes.func,\n\tchartCanvasType: PropTypes.string.isRequired,\n\tplotData: PropTypes.array.isRequired,\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/EdgeIndicator.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { hexToRGBA, isDefined } from \"../utils\";\n\nclass EdgeCoordinate extends Component {\n\n\trender() {\n\t\tvar { className } = this.props;\n\n\t\tvar edge = helper(this.props);\n\t\tif (edge === null) return null;\n\t\tvar line, coordinateBase, coordinate;\n\n\t\tif (isDefined(edge.line)) {\n\t\t\tline = <line\n\t\t\t\tclassName=\"react-stockcharts-cross-hair\" opacity={edge.line.opacity} stroke={edge.line.stroke}\n\t\t\t\tx1={edge.line.x1} y1={edge.line.y1}\n\t\t\t\tx2={edge.line.x2} y2={edge.line.y2} />;\n\t\t}\n\t\tif (isDefined(edge.coordinateBase)) {\n\n\t\t\tvar { rectWidth, rectHeight, arrowWidth } = edge.coordinateBase;\n\n\t\t\tvar path = edge.orient === \"left\"\n\t\t\t\t? `M0,0L0,${ rectHeight }L${ rectWidth },${ rectHeight }L${ rectWidth + arrowWidth },10L${ rectWidth },0L0,0L0,0`\n\t\t\t\t: `M0,${ arrowWidth }L${ arrowWidth },${ rectHeight }L${ rectWidth + arrowWidth },${ rectHeight }L${ rectWidth + arrowWidth },0L${ arrowWidth },0L0,${ arrowWidth }`;\n\n\t\t\tcoordinateBase = edge.orient === \"left\" || edge.orient === \"right\"\n\t\t\t\t? <g transform={`translate(${edge.coordinateBase.edgeXRect},${edge.coordinateBase.edgeYRect})`}>\n\t\t\t\t\t\t<path d={path} key={1} className=\"react-stockchart-text-background\"\n\t\t\t\t\t\t\theight={rectHeight} width={rectWidth}\n\t\t\t\t\t\t\tfill={edge.coordinateBase.fill} opacity={edge.coordinateBase.opacity} />\n\t\t\t\t\t</g>\n\t\t\t\t: <rect key={1} className=\"react-stockchart-text-background\"\n\t\t\t\t\t\tx={edge.coordinateBase.edgeXRect}\n\t\t\t\t\t\ty={edge.coordinateBase.edgeYRect}\n\t\t\t\t\t\theight={rectHeight} width={rectWidth}\n\t\t\t\t\t\tfill={edge.coordinateBase.fill} opacity={edge.coordinateBase.opacity} />;\n\n\t\t\tcoordinate = (<text key={2} x={edge.coordinate.edgeXText}\n\t\t\t\ty={edge.coordinate.edgeYText}\n\t\t\t\ttextAnchor={edge.coordinate.textAnchor}\n\t\t\t\tfontFamily={edge.coordinate.fontFamily}\n\t\t\t\tfontSize={edge.coordinate.fontSize}\n\t\t\t\tdy=\".32em\" fill={edge.coordinate.textFill} >{edge.coordinate.displayCoordinate}</text>);\n\t\t}\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t{line}\n\t\t\t\t{coordinateBase}\n\t\t\t\t{coordinate}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nEdgeCoordinate.propTypes = {\n\tclassName: PropTypes.string,\n\ttype: PropTypes.oneOf([\"vertical\", \"horizontal\"]).isRequired,\n\tcoordinate: PropTypes.any.isRequired,\n\tx1: PropTypes.number.isRequired,\n\ty1: PropTypes.number.isRequired,\n\tx2: PropTypes.number.isRequired,\n\ty2: PropTypes.number.isRequired,\n\torient: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\trectWidth: PropTypes.number,\n\thideLine: PropTypes.bool,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n};\n\nEdgeCoordinate.defaultProps = {\n\tclassName: \"react-stockcharts-edgecoordinate\",\n\torient: \"left\",\n\thideLine: false,\n\tfill: \"#8a8a8a\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n\tlineStroke: \"#000000\",\n\tlineOpacity: 0.3,\n\tarrowWidth: 10,\n};\n\n\nfunction helper(props) {\n\tvar { coordinate: displayCoordinate, show, type, orient, edgeAt, hideLine } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill, lineStroke, lineOpacity, arrowWidth } = props;\n\tvar { rectWidth, rectHeight } = props;\n\tvar { x1, y1, x2, y2 } = props;\n\n\tif (!show) return null;\n\n\t// rectWidth = rectWidth ? rectWidth : (type === \"horizontal\") ? 60 : 100;\n\n\tvar edgeXRect, edgeYRect, edgeXText, edgeYText;\n\n\tif (type === \"horizontal\") {\n\n\t\tedgeXRect = (orient === \"right\") ? edgeAt + 1 : edgeAt - rectWidth - arrowWidth - 1;\n\t\tedgeYRect = y1 - (rectHeight / 2);\n\t\tedgeXText = (orient === \"right\") ? edgeAt + (rectWidth / 2) + arrowWidth : edgeAt - (rectWidth / 2) - arrowWidth;\n\t\tedgeYText = y1;\n\t} else {\n\t\tedgeXRect = x1 - (rectWidth / 2);\n\t\tedgeYRect = (orient === \"bottom\") ? edgeAt : edgeAt - rectHeight;\n\t\tedgeXText = x1;\n\t\tedgeYText = (orient === \"bottom\") ? edgeAt + (rectHeight / 2) : edgeAt - (rectHeight / 2);\n\t}\n\tvar coordinateBase, coordinate, textAnchor = \"middle\";\n\tif (isDefined(displayCoordinate)) {\n\t\tcoordinateBase = {\n\t\t\tedgeXRect, edgeYRect, rectHeight, rectWidth, fill, opacity, arrowWidth\n\t\t};\n\t\tcoordinate = {\n\t\t\tedgeXText, edgeYText, textAnchor, fontFamily, fontSize, textFill, displayCoordinate\n\t\t};\n\t}\n\n\tvar line = hideLine ? undefined : {\n\t\topacity: lineOpacity, stroke: lineStroke, x1, y1, x2, y2\n\t};\n\treturn {\n\t\tcoordinateBase, coordinate, line, orient\n\t};\n}\n\nEdgeCoordinate.drawOnCanvasStatic = (ctx, props) => {\n\tprops = { ...EdgeCoordinate.defaultProps, ...props };\n\n\tvar edge = helper(props);\n\n\tif (edge === null) return;\n\n\tif (isDefined(edge.coordinateBase)) {\n\t\tvar { rectWidth, rectHeight, arrowWidth } = edge.coordinateBase;\n\n\t\tctx.fillStyle = hexToRGBA(edge.coordinateBase.fill, edge.coordinateBase.opacity);\n\n\t\tvar x = edge.coordinateBase.edgeXRect;\n\t\tvar y = edge.coordinateBase.edgeYRect;\n\n\t\tctx.beginPath();\n\n\t\tif (edge.orient === \"right\") {\n\t\t\tctx.moveTo(x, y + rectHeight / 2);\n\t\t\tctx.lineTo(x + arrowWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y + rectHeight);\n\t\t\tctx.lineTo(x + arrowWidth, y + rectHeight);\n\t\t\tctx.closePath();\n\t\t} else if (edge.orient === \"left\") {\n\t\t\tctx.moveTo(x, y);\n\t\t\tctx.lineTo(x + rectWidth, y);\n\t\t\tctx.lineTo(x + rectWidth + arrowWidth, y + rectHeight / 2);\n\t\t\tctx.lineTo(x + rectWidth, y + rectHeight);\n\t\t\tctx.lineTo(x, y + rectHeight);\n\t\t\tctx.closePath();\n\t\t} else {\n\t\t\tctx.rect(x, y, rectWidth, rectHeight);\n\t\t}\n\t\tctx.fill();\n\n\t\tctx.font = `${ edge.coordinate.fontSize }px ${edge.coordinate.fontFamily}`;\n\t\tctx.fillStyle = edge.coordinate.textFill;\n\t\tctx.textAlign = edge.coordinate.textAnchor === \"middle\" ? \"center\" : edge.coordinate.textAnchor;\n\t\tctx.textBaseline = \"middle\";\n\n\t\tctx.fillText(edge.coordinate.displayCoordinate, edge.coordinate.edgeXText, edge.coordinate.edgeYText);\n\t}\n\tif (isDefined(edge.line)) {\n\t\tctx.strokeStyle = hexToRGBA(edge.line.stroke, edge.line.opacity);\n\n\t\tctx.beginPath();\n\t\tctx.moveTo(edge.line.x1, edge.line.y1);\n\t\tctx.lineTo(edge.line.x2, edge.line.y2);\n\t\tctx.stroke();\n\t}\n};\n\nexport default EdgeCoordinate;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/EdgeCoordinate.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport pure from \"../pure\";\nimport { shallowEqual, isDefined, isNotDefined } from \"../utils\";\n\nclass CurrentCoordinate extends Component {\n\tcomponentDidMount() {\n\t\tvar { chartCanvasType, getCanvasContexts } = this.props;\n\n\t\tif (chartCanvasType !== \"svg\" && isDefined(getCanvasContexts)) {\n\t\t\tvar contexts = getCanvasContexts();\n\t\t\tif (contexts) CurrentCoordinate.drawOnCanvas(contexts.mouseCoord, this.props);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\tcomponentWillMount() {\n\t\tthis.componentWillReceiveProps(this.props);\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tvar draw = CurrentCoordinate.drawOnCanvasStatic.bind(null, nextProps);\n\t\tvar { id, chartId } = nextProps;\n\n\t\tif (!shallowEqual(this.props, nextProps)) {\n\t\t\tvar temp = nextProps.getAllCanvasDrawCallback()\n\t\t\t\t.filter(each => each.type === \"currentcoordinate\")\n\t\t\t\t.filter(each => each.chartId === chartId)\n\t\t\t\t.filter(each => each.id === id);\n\n\t\t\tif (temp.length === 0) {\n\t\t\t\tnextProps.callbackForCanvasDraw({\n\t\t\t\t\ttype: \"currentcoordinate\",\n\t\t\t\t\tid, chartId, draw,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnextProps.callbackForCanvasDraw(temp[0], {\n\t\t\t\t\ttype: \"currentcoordinate\",\n\t\t\t\t\tid, chartId, draw,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\tvar { className } = this.props;\n\t\tvar { chartCanvasType, show, chartConfig, currentItem, xScale } = this.props;\n\n\t\tif (chartCanvasType !== \"svg\") return null;\n\n\t\tvar circle = CurrentCoordinate.helper(this.props, show, xScale, chartConfig.yScale, currentItem);\n\n\t\tif (!circle) return null;\n\n\t\treturn (\n\t\t\t<circle className={className} cx={circle.x} cy={circle.y} r={circle.r} fill={circle.fill} />\n\t\t);\n\t}\n}\n\nCurrentCoordinate.propTypes = {\n\tid: PropTypes.number.isRequired,\n\tyAccessor: PropTypes.func,\n\tr: PropTypes.number.isRequired,\n\tclassName: PropTypes.string,\n\txAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func.isRequired,\n\tchartCanvasType: PropTypes.string,\n\tgetCanvasContexts: PropTypes.func,\n\tshow: PropTypes.bool,\n\tchartId: PropTypes.number.isRequired,\n\n\tchartConfig: PropTypes.object.isRequired,\n\tcurrentItem: PropTypes.object,\n\n};\n\nCurrentCoordinate.defaultProps = {\n\tr: 3,\n\tclassName: \"react-stockcharts-current-coordinate\",\n};\n\nCurrentCoordinate.drawOnCanvas = (canvasContext, props) => {\n\tvar { chartConfig, currentItem, xScale, show } = props;\n\n\tCurrentCoordinate.drawOnCanvasStatic(props, canvasContext, show, xScale, chartConfig.yScale, currentItem);\n};\n\n// mouseContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem\n\nCurrentCoordinate.drawOnCanvasStatic = (props, ctx, show, xScale, yScale, currentItem) => {\n\tvar { canvasOriginX, canvasOriginY } = props;\n\n\tvar circle = CurrentCoordinate.helper(props, show, xScale, yScale, currentItem);\n\n\tif (!circle) return null;\n\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(canvasOriginX, canvasOriginY);\n\n\tctx.fillStyle = circle.fill;\n\tctx.beginPath();\n\tctx.arc(circle.x, circle.y, circle.r, 0, 2 * Math.PI, false);\n\tctx.fill();\n\t// CurrentCoordinate.drawOnCanvasStatic(ctx, pointer);\n\tctx.restore();\n};\n\nCurrentCoordinate.helper = (props, show, xScale, yScale, currentItem) => {\n\tvar { fill, xAccessor, yAccessor, r } = props;\n\n\t// console.log(show);\n\tif (!show || isNotDefined(currentItem)) return null;\n\n\tvar xValue = xAccessor(currentItem);\n\tvar yValue = yAccessor(currentItem);\n\n\tif (isNotDefined(yValue)) return null;\n\n\t// console.log(chartConfig);\n\tvar x = Math.round(xScale(xValue));\n\tvar y = Math.round(yScale(yValue));\n\n\treturn { x, y, r, fill };\n};\n\nexport default pure(CurrentCoordinate, {\n\tshow: PropTypes.bool.isRequired,\n\tcurrentItem: PropTypes.object,\n\tchartConfig: PropTypes.object.isRequired,\n\tmouseXY: PropTypes.array, // this is to avoid the flicker\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\n\txAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func.isRequired,\n\tchartId: PropTypes.number.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tmargin: PropTypes.object.isRequired,\n\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n\tgetAllCanvasDrawCallback: PropTypes.func,\n\tchartCanvasType: PropTypes.string.isRequired,\n}, [\"mouseXY\"]);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/CurrentCoordinate.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport EdgeCoordinate from \"./EdgeCoordinate\";\nimport pure from \"../pure\";\n\nimport { isDefined, isNotDefined, shallowEqual } from \"../utils\";\n\nclass MouseCoordinateX extends Component {\n\tcomponentDidMount() {\n\t\tvar { chartCanvasType, getCanvasContexts } = this.props;\n\n\t\tif (chartCanvasType !== \"svg\" && isDefined(getCanvasContexts)) {\n\t\t\tvar contexts = getCanvasContexts();\n\t\t\tif (contexts) drawOnCanvas(contexts.mouseCoord, this.props);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\tcomponentWillMount() {\n\t\tthis.componentWillReceiveProps(this.props);\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tvar draw = drawOnCanvasStatic.bind(null, nextProps);\n\t\tvar { id, chartId } = nextProps;\n\n\t\tif (!shallowEqual(this.props, nextProps)) {\n\t\t\tvar temp = nextProps.getAllCanvasDrawCallback()\n\t\t\t\t.filter(each => each.type === \"mouse\")\n\t\t\t\t.filter(each => each.subType === \"MouseCoordinateX\")\n\t\t\t\t.filter(each => each.chartId === chartId)\n\t\t\t\t.filter(each => each.id === id);\n\n\t\t\tif (temp.length === 0) {\n\t\t\t\tnextProps.callbackForCanvasDraw({\n\t\t\t\t\ttype: \"mouse\",\n\t\t\t\t\tsubType: \"MouseCoordinateX\",\n\t\t\t\t\tid, chartId, draw,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnextProps.callbackForCanvasDraw(temp[0], {\n\t\t\t\t\ttype: \"mouse\",\n\t\t\t\t\tsubType: \"MouseCoordinateX\",\n\t\t\t\t\tid, chartId, draw,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\tvar { chartCanvasType, chartConfig, currentItem, xScale, mouseXY } = this.props;\n\t\tif (chartCanvasType !== \"svg\") return null;\n\n\t\tvar props = helper(this.props, xScale, chartConfig, mouseXY, currentItem);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn (\n\t\t\t<EdgeCoordinate\n\t\t\t\tclassName=\"horizontal\"\n\t\t\t\t{...props}\n\t\t\t\t/>\n\t\t);\n\t}\n}\n\nMouseCoordinateX.propTypes = {\n\tid: PropTypes.number.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\n\tchartCanvasType: PropTypes.string.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tchartConfig: PropTypes.object.isRequired,\n\tmouseXY: PropTypes.array,\n\txScale: PropTypes.func.isRequired,\n\tcurrentCharts: PropTypes.arrayOf(PropTypes.number),\n\tcurrentItem: PropTypes.object,\n};\n\nMouseCoordinateX.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 80,\n\trectHeight: 20,\n\torient: \"bottom\",\n\tat: \"bottom\",\n\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n\tsnapX: true,\n};\n\nfunction helper(props, xScale, { yScale }, mouseXY, currentItem) {\n\tif (isNotDefined(currentItem)) return null;\n\n\tvar { xAccessor, height, show, snapX } = props;\n\n\tvar { orient, at, rectWidth, rectHeight, displayFormat, displayXAccessor } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill } = props;\n\n\tvar x = snapX ? xScale(xAccessor(currentItem)) : mouseXY[0];\n\tvar edgeAt = (at === \"bottom\")\n\t\t? height\n\t\t: 0;\n\n\tvar coordinate = snapX ? displayFormat(displayXAccessor(currentItem)) : displayFormat(xScale.invert(x));\n\tvar type = \"vertical\";\n\tvar y1 = 0, y2 = height;\n\tvar hideLine = true;\n\n\tvar coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill, opacity, fontFamily, fontSize, textFill,\n\t\trectWidth,\n\t\trectHeight,\n\t\tx1: x,\n\t\tx2: x,\n\t\ty1,\n\t\ty2\n\t};\n\treturn coordinateProps;\n}\n\nfunction drawOnCanvas(canvasContext, props) {\n\tvar { chartConfig, currentItem, xScale, mouseXY, currentCharts, show } = props;\n\n\tdrawOnCanvasStatic(props, canvasContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem);\n}\n\n// mouseContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem\nfunction drawOnCanvasStatic(props, ctx, show, xScale, mouseXY, currentCharts, chartConfig, currentItem) {\n\tvar { canvasOriginX, canvasOriginY } = props;\n\n\tvar edgeProps = helper(props, xScale, chartConfig, mouseXY, currentItem);\n\n\tctx.save();\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(canvasOriginX, canvasOriginY);\n\n\tEdgeCoordinate.drawOnCanvasStatic(ctx, edgeProps);\n\n\tctx.restore();\n}\n\nexport default pure(MouseCoordinateX, {\n\tshow: PropTypes.bool.isRequired,\n\tcurrentItem: PropTypes.object,\n\tchartConfig: PropTypes.object.isRequired,\n\tmouseXY: PropTypes.array, // this is to avoid the flicker\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\n\theight: PropTypes.number.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\n\txAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func.isRequired,\n\tchartId: PropTypes.number.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tmargin: PropTypes.object.isRequired,\n\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n\tgetAllCanvasDrawCallback: PropTypes.func,\n\tchartCanvasType: PropTypes.string.isRequired,\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/MouseCoordinateX.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport EdgeCoordinate from \"./EdgeCoordinate\";\nimport pure from \"../pure\";\n\nimport { isDefined, isNotDefined, shallowEqual } from \"../utils\";\n\nclass MouseCoordinateY extends Component {\n\tcomponentDidMount() {\n\t\tvar { chartCanvasType, getCanvasContexts } = this.props;\n\n\t\tif (chartCanvasType !== \"svg\" && isDefined(getCanvasContexts)) {\n\t\t\tvar contexts = getCanvasContexts();\n\t\t\tif (contexts) drawOnCanvas(contexts.mouseCoord, this.props);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\tcomponentWillMount() {\n\t\tthis.componentWillReceiveProps(this.props);\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tvar draw = drawOnCanvasStatic.bind(null, nextProps);\n\t\tvar { id, chartId } = nextProps;\n\n\t\tif (!shallowEqual(this.props, nextProps)) {\n\t\t\tvar temp = nextProps.getAllCanvasDrawCallback()\n\t\t\t\t.filter(each => each.type === \"mouse\")\n\t\t\t\t.filter(each => each.subType === \"MouseCoordinateY\")\n\t\t\t\t.filter(each => each.chartId === chartId)\n\t\t\t\t.filter(each => each.id === id);\n\n\t\t\tif (temp.length === 0) {\n\t\t\t\tnextProps.callbackForCanvasDraw({\n\t\t\t\t\ttype: \"mouse\",\n\t\t\t\t\tsubType: \"MouseCoordinateY\",\n\t\t\t\t\tid, chartId, draw,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tnextProps.callbackForCanvasDraw(temp[0], {\n\t\t\t\t\ttype: \"mouse\",\n\t\t\t\t\tsubType: \"MouseCoordinateY\",\n\t\t\t\t\tid, chartId, draw,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\trender() {\n\t\tvar { chartCanvasType, chartConfig, mouseXY, xScale, currentCharts, currentItem } = this.props;\n\t\tif (chartCanvasType !== \"svg\") return null;\n\n\t\tvar props = helper(this.props, xScale, chartConfig, mouseXY, currentCharts, currentItem);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn (\n\t\t\t<EdgeCoordinate\n\t\t\t\tclassName=\"vertical\"\n\t\t\t\t{...props}\n\t\t\t\t/>\n\t\t);\n\t}\n}\n\nMouseCoordinateY.propTypes = {\n\tid: PropTypes.number.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\n\tchartCanvasType: PropTypes.string.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tchartConfig: PropTypes.object.isRequired,\n\tmouseXY: PropTypes.array,\n\txScale: PropTypes.func.isRequired,\n\tcurrentCharts: PropTypes.arrayOf(PropTypes.number),\n\tcurrentItem: PropTypes.object,\n};\n\nMouseCoordinateY.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 50,\n\trectHeight: 20,\n\torient: \"left\",\n\tat: \"left\",\n\tarrowWidth: 10,\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n};\n\nfunction helper(props, xScale, { id, yScale, origin }, mouseXY, currentCharts/* , currentItem */) {\n\tif (isNotDefined(mouseXY)) return null;\n\tif (currentCharts.indexOf(id) < 0) return null;\n\n\tvar { width, show } = props;\n\n\tvar { orient, at, rectWidth, rectHeight, displayFormat } = props;\n\tvar { fill, opacity, fontFamily, fontSize, textFill } = props;\n\n\tvar x1 = 0, x2 = width;\n\tvar edgeAt = (at === \"right\")\n\t\t? width\n\t\t: 0;\n\n\tvar type = \"horizontal\";\n\tvar y = mouseXY[1] - origin[1];\n\tvar coordinate = displayFormat(yScale.invert(y));\n\tvar hideLine = true;\n\n\tvar coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill, opacity, fontFamily, fontSize, textFill,\n\t\trectWidth,\n\t\trectHeight,\n\t\tx1,\n\t\tx2,\n\t\ty1: y,\n\t\ty2: y,\n\t};\n\treturn coordinateProps;\n}\n\nfunction drawOnCanvas(canvasContext, props) {\n\tvar { chartConfig, currentItem, xScale, mouseXY, show, currentCharts } = props;\n\n\tdrawOnCanvasStatic(props, canvasContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem);\n}\n\n// mouseContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem\nfunction drawOnCanvasStatic(props, ctx, show, xScale, mouseXY, currentCharts, chartConfig, currentItem) {\n\tvar { canvasOriginX, canvasOriginY } = props;\n\n\tvar edgeProps = helper(props, xScale, chartConfig, mouseXY, currentCharts, currentItem);\n\n\tctx.save();\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(canvasOriginX, canvasOriginY);\n\n\tEdgeCoordinate.drawOnCanvasStatic(ctx, edgeProps);\n\n\tctx.restore();\n}\n\nexport default pure(MouseCoordinateY, {\n\tshow: PropTypes.bool.isRequired,\n\tcurrentItem: PropTypes.object,\n\tchartConfig: PropTypes.object.isRequired,\n\tmouseXY: PropTypes.array,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\n\twidth: PropTypes.number.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\tcurrentCharts: PropTypes.arrayOf(PropTypes.number),\n\n\txAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func.isRequired,\n\tchartId: PropTypes.number.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tmargin: PropTypes.object.isRequired,\n\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n\tgetAllCanvasDrawCallback: PropTypes.func,\n\tchartCanvasType: PropTypes.string.isRequired,\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/MouseCoordinateY.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport pure from \"../pure\";\n\nimport { hexToRGBA, isDefined, isNotDefined } from \"../utils\";\n\nclass CrossHairCursor extends Component {\n\tcomponentDidMount() {\n\t\tvar { chartCanvasType, getCanvasContexts } = this.props;\n\n\t\tif (chartCanvasType !== \"svg\" && isDefined(getCanvasContexts)) {\n\t\t\tvar contexts = getCanvasContexts();\n\t\t\tif (contexts) drawOnCanvas(contexts.mouseCoord, this.props);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\tcomponentWillMount() {\n\t\tthis.componentWillReceiveProps(this.props, this.props);\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tvar draw = drawOnCanvasStatic.bind(null, nextProps);\n\n\t\tvar temp = nextProps.getAllCanvasDrawCallback()\n\t\t\t.filter(each => isNotDefined(each.chartId))\n\t\t\t.filter(each => each.type === \"mouse\")\n\t\t\t.filter(each => each.subType === \"crosshair\");\n\t\tif (temp.length === 0) {\n\t\t\tnextProps.callbackForCanvasDraw({\n\t\t\t\ttype: \"mouse\",\n\t\t\t\tsubType: \"crosshair\",\n\t\t\t\tdraw: draw,\n\t\t\t});\n\t\t} else {\n\t\t\tnextProps.callbackForCanvasDraw(temp[0], {\n\t\t\t\ttype: \"mouse\",\n\t\t\t\tsubType: \"crosshair\",\n\t\t\t\tdraw: draw,\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tvar { chartCanvasType, mouseXY, xScale, currentItem, show } = this.props;\n\t\tif (chartCanvasType !== \"svg\") return null;\n\n\t\tvar lines = helper(this.props, mouseXY, xScale, currentItem, show);\n\n\t\tif (isNotDefined(lines)) return null;\n\n\t\treturn (\n\t\t\t<g className=\"CrossHairCursor \">\n\t\t\t\t{lines.map((each, idx) =>\n\t\t\t\t\t<line key={idx} {...each} />)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nCrossHairCursor.propTypes = {\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n\tmouseXY: PropTypes.array.isRequired,\n\tshow: PropTypes.bool,\n\txScale: PropTypes.func.isRequired,\n\tchartCanvasType: PropTypes.string.isRequired,\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n\tcurrentCharts: PropTypes.arrayOf(PropTypes.number),\n\tgetCanvasContexts: PropTypes.func,\n\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n\tgetAllCanvasDrawCallback: PropTypes.func,\n\n};\n\nCrossHairCursor.defaultProps = {\n\tstroke: \"#000000\",\n\topacity: 0.3,\n\tstrokeDasharray: \"4, 2\",\n\tsnapX: true,\n};\n\nfunction helper(props, mouseXY, xScale, currentItem, show) {\n\tvar { height, width, xAccessor, snapX } = props;\n\tvar { stroke, opacity, strokeDasharray } = props;\n\n\tif (!show || isNotDefined(currentItem)) return null;\n\n\tvar line1 = {\n\t\tx1: 0,\n\t\tx2: width,\n\t\ty1: mouseXY[1],\n\t\ty2: mouseXY[1],\n\t\tstroke, strokeDasharray, opacity,\n\t};\n\tvar x = snapX ? xScale(xAccessor(currentItem)) : mouseXY[0];\n\tvar line2 = {\n\t\tx1: x,\n\t\tx2: x,\n\t\ty1: 0,\n\t\ty2: height,\n\t\tstroke, strokeDasharray, opacity,\n\t};\n\treturn [line1, line2];\n}\nfunction drawOnCanvas(canvasContext, props) {\n\tvar { mouseXY, currentCharts, chartConfig, currentItem, xScale, show } = props;\n\n\t// console.log(props.currentCharts);\n\tdrawOnCanvasStatic(props, canvasContext, show, xScale, mouseXY, currentCharts, chartConfig, currentItem);\n}\n\nfunction drawOnCanvasStatic(props, ctx, show, xScale, mouseXY, currentCharts, chartConfig, currentItem) {\n\tvar { margin } = props;\n\n\tvar lines = helper(props, mouseXY, xScale, currentItem, show);\n\n\tif (isDefined(lines)) {\n\t\tvar originX = margin.left;\n\t\tvar originY = 0.5 + margin.top;\n\n\t\tctx.save();\n\t\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\t\tctx.translate(originX, originY);\n\n\t\tlines.forEach(line => {\n\n\t\t\tctx.strokeStyle = hexToRGBA(line.stroke, line.opacity);\n\t\t\tvar dashArray = line.strokeDasharray.split(\",\").map(d => +d);\n\t\t\tctx.setLineDash(dashArray);\n\t\t\tctx.beginPath();\n\t\t\tctx.moveTo(line.x1, line.y1);\n\t\t\tctx.lineTo(line.x2, line.y2);\n\t\t\tctx.stroke();\n\t\t});\n\n\t\tctx.restore();\n\t}\n}\n\nexport default pure(CrossHairCursor, {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tshow: PropTypes.bool,\n\tmouseXY: PropTypes.array,\n\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tchartCanvasType: PropTypes.string.isRequired,\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n\tcurrentCharts: PropTypes.arrayOf(PropTypes.number),\n\n\tgetCanvasContexts: PropTypes.func,\n\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n\tgetAllCanvasDrawCallback: PropTypes.func,\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/coordinates/CrossHairCursor.jsx\n **/","\nimport * as defaultOptions from \"./defaultOptions\";\n\nimport ema from \"./ema\";\nimport sma from \"./sma\";\nimport bollingerBand from \"./bollingerBand\";\nimport haikinAshi from \"./haikinAshi\";\nimport kagi from \"./kagi\";\nimport pointAndFigure from \"./pointAndFigure\";\nimport renko from \"./renko\";\nimport macd from \"./macd\";\nimport rsi from \"./rsi\";\nimport atr from \"./atr\";\nimport stochasticOscillator from \"./stochasticOscillator\";\nimport forceIndex from \"./forceIndex\";\nimport elderRay from \"./elderRay\";\nimport change from \"./change\";\nimport elderImpulse from \"./elderImpulse\";\nimport compare from \"./compare\";\n\nexport {\n\tema,\n\tsma,\n\tbollingerBand,\n\thaikinAshi,\n\tkagi,\n\tpointAndFigure,\n\trenko,\n\tmacd,\n\trsi,\n\tatr,\n\tstochasticOscillator,\n\tforceIndex,\n\telderRay,\n\tchange,\n\telderImpulse,\n\tcompare,\n\tdefaultOptions\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/index.js\n **/","\"use strict\";\n\nexport const BollingerBand = {\n\tperiod: 20,\n\tsource: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tmultiplier: 2,\n\tmovingAverageType: \"sma\"\n};\n\nexport const ATR = {\n\tperiod: 14,\n\tsource: d => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n};\n\nexport const ForceIndex = {\n\tclose: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tvolume: d => d.volume\n};\n\nexport const ElderRay = {\n\tperiod: 13,\n\tsource: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tmovingAverageType: \"sma\",\n\tohlc: d => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n};\n\nexport const ElderImpulse = {\n\tstroke: {\n\t\tup: \"#6BA583\",\n\t\tdown: \"#FF0000\",\n\t\tneutral: \"#0000FF\",\n\t}\n};\n\nexport const MACD = {\n\tfast: 12,\n\tslow: 26,\n\tsignal: 9,\n\tsource: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tfill: {\n\t\tdivergence: \"#4682B4\"\n\t},\n\tstroke: {\n\t\tmacd: \"#FF0000\",\n\t\tsignal: \"#00F300\",\n\t},\n};\n\nexport const FullStochasticOscillator = {\n\tperiod: 12,\n\tK: 3,\n\tD: 3,\n\tsource: (d) => ({ open: d.open, high: d.high, low: d.low, close: d.close }),\n\tstroke: {\n\t\tD: \"#17becf\",\n\t\tK: \"#ff7f0e\",\n\t},\n\toverSold: 80,\n\tmiddle: 50,\n\toverBought: 20,\n};\n\nexport const RSI = {\n\tperiod: 14,\n\tsource: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\toverSold: 70,\n\tmiddle: 50,\n\toverBought: 30,\n};\n\nexport const EMA = {\n\tsource: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tperiod: 10,\n};\n\nexport const SMA = {\n\tsource: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tperiod: 10,\n};\n\nexport const Kagi = {\n\treversalType: \"ATR\", // \"ATR\", \"FIXED\"\n\tperiod: 14,\n\treversal: 2,\n\tsource: d => d.close, // \"high\", \"low\", \"open\", \"close\"\n\tdateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; },\n\tindexMutator: (d, idx) => { d.idx = idx; },\n};\n\nexport const Renko = {\n\treversalType: \"ATR\", // \"ATR\", \"FIXED\"\n\tperiod: 14,\n\tfixedBrickSize: 2,\n\tsource: d => ({ high: d.high, low: d.low }), // \"close\", \"hi/lo\"\n\tdateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; },\n\tindexMutator: (d, idx) => { d.idx = idx; },\n\tindexAccessor: d => d.idx,\n};\n\nexport const PointAndFigure = {\n\tboxSize: 0.5,\n\treversal: 3,\n\tsource: d => ({ high: d.high, low: d.low }), // \"close\", \"hi/lo\"\n\tdateAccessor: d => d.date,\n\tdateMutator: (d, date) => { d.date = date; },\n\tindexMutator: (d, idx) => { d.idx = idx; },\n\tindexAccessor: d => d.idx,\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/defaultOptions.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport { merge } from \"../utils\";\n\nimport { EMA as defaultOptions } from \"./defaultOptions\";\nimport { ema } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"EMA\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.ema);\n\n\tvar underlyingAlgorithm = ema()\n\t\t.windowSize(defaultOptions.period)\n\t\t.source(defaultOptions.source);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.ema = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/ema.js\n **/","// import slidingWindow from \"./slidingWindow\";\n// import merge from \"./merge\";\n// import zipper from \"./zipper\";\nimport ema from \"./ema\";\nimport bollingerband from \"./bollingerband\";\nimport haikinAshi from \"./haikinAshi\";\nimport kagi from \"./kagi\";\nimport pointAndFigure from \"./pointAndFigure\";\nimport renko from \"./renko\";\n\nimport macd from \"./macd\";\nimport rsi from \"./rsi\";\nimport sto from \"./sto\";\nimport atr from \"./atr\";\nimport forceIndex from \"./forceIndex\";\nimport elderRay from \"./elderRay\";\nimport compare from \"./compare\";\n\nexport {\n\t// slidingWindow,\n\t// merge,\n\t// zipper\n\tema,\n\tbollingerband,\n\thaikinAshi,\n\tkagi,\n\tpointAndFigure,\n\trenko,\n\tmacd,\n\n\trsi,\n\tsto,\n\tatr,\n\tforceIndex,\n\telderRay,\n\tcompare,\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/index.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/exponentialMovingAverage.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport { identity, isNotDefined } from \"../../utils\";\n\nexport default function() {\n\n\tvar windowSize = 9,\n\t\tsource = identity;\n\n\tfunction calculator(data) {\n\n\t\tvar alpha = 2 / (windowSize + 1);\n\t\tvar previous;\n\t\tvar initialAccumulator = 0;\n\t\tvar skip = 0;\n\n\t\treturn data.map(function(d, i) {\n\t\t\tvar v = source(d, i);\n\t\t\tif (isNotDefined(previous) && isNotDefined(v)) {\n\t\t\t\tskip++;\n\t\t\t\treturn undefined;\n\t\t\t} else if (i < windowSize + skip - 1) {\n\t\t\t\tinitialAccumulator += v;\n\t\t\t\treturn undefined;\n\t\t\t} else if (i === windowSize + skip - 1) {\n\t\t\t\tinitialAccumulator += v;\n\t\t\t\tvar initialValue = initialAccumulator / windowSize;\n\t\t\t\tprevious = initialValue;\n\t\t\t\treturn initialValue;\n\t\t\t} else {\n\t\t\t\tvar nextValue = v * alpha + (1 - alpha) * previous;\n\t\t\t\tprevious = nextValue;\n\t\t\t\treturn nextValue;\n\t\t\t}\n\t\t});\n\t}\n\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/ema.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/bollingerBands.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport ema from \"./ema\";\nimport { last, identity, slidingWindow, zipper } from \"../../utils\";\n\nimport { BollingerBand as defaultOptions } from \"../defaultOptions\";\n\nexport default function() {\n\n\tvar { period: windowSize, multiplier, movingAverageType } = defaultOptions;\n\tvar source = identity;\n\n\tfunction calculator(data) {\n\n\t\tvar meanAlgorithm = movingAverageType === \"ema\"\n\t\t\t? ema().windowSize(windowSize).source(source)\n\t\t\t: slidingWindow().windowSize(windowSize)\n\t\t\t\t.accumulator(values => d3.mean(values)).source(source);\n\n\t\tvar bollingerBandAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator((values) => {\n\t\t\t\tvar avg = last(values).mean;\n\t\t\t\tvar stdDev = d3.deviation(values, (each) => source(each.datum));\n\t\t\t\treturn {\n\t\t\t\t\ttop: avg + multiplier * stdDev,\n\t\t\t\t\tmiddle: avg,\n\t\t\t\t\tbottom: avg - multiplier * stdDev\n\t\t\t\t};\n\t\t\t});\n\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, mean) => ({ datum, mean }));\n\n\t\tvar tuples = zip(data, meanAlgorithm(data));\n\t\treturn bollingerBandAlgorithm(tuples);\n\t}\n\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.multiplier = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn multiplier;\n\t\t}\n\t\tmultiplier = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.movingAverageType = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn movingAverageType;\n\t\t}\n\t\tmovingAverageType = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/bollingerband.js\n **/","\"use strict\";\n\nimport { mappedSlidingWindow, identity } from \"../../utils\";\n\nexport default function() {\n\n\tvar source = identity;\n\n\tfunction calculator(data) {\n\t\tvar algorithm = mappedSlidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.undefinedValue(({ open, high, low, close }) => {\n\t\t\t\tclose = (open + high + low + close) / 4;\n\t\t\t\treturn { open, high, low, close };\n\t\t\t})\n\t\t\t.accumulator(([prev, now]) => {\n\t\t\t\t// console.log(prev, now);\n\t\t\t\tvar close = (now.open + now.high + now.low + now.close) / 4;\n\t\t\t\tvar open = (prev.open + prev.close) / 2;\n\t\t\t\tvar high = Math.max(open, now.high, close);\n\t\t\t\tvar low = Math.min(open, now.low, close);\n\t\t\t\treturn { open, high, low, close };\n\t\t\t});\n\n\t\treturn algorithm(data);\n\t}\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/haikinAshi.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge, isNotDefined } from \"../../utils\";\nimport atr from \"./atr\";\n\nimport { Kagi as defaultOptions } from \"../defaultOptions\";\n\nexport default function() {\n\n\tvar { reversalType, period: windowSize, reversal, source } = defaultOptions;\n\tvar { dateAccessor, dateMutator } = defaultOptions;\n\n\tfunction calculator(data) {\n\t\tvar reversalThreshold;\n\n\t\tif (reversalType === \"ATR\") {\n\t\t\t// calculateATR(rawData, period);\n\t\t\tvar atrAlgorithm = atr().windowSize(windowSize);\n\n\t\t\tvar atrCalculator = merge()\n\t\t\t\t.algorithm(atrAlgorithm)\n\t\t\t\t.merge((d, c) => { d[\"atr\" + windowSize] = c; } );\n\n\t\t\tatrCalculator(data);\n\t\t\treversalThreshold = d => d[\"atr\" + windowSize];\n\t\t} else {\n\t\t\treversalThreshold = d3.functor(reversal);\n\t\t}\n\n\t\tvar kagiData = [];\n\n\t\tvar prevPeak, prevTrough, direction;\n\t\tvar line = {};\n\n\t\tdata.forEach(function(d) {\n\t\t\tif (isNotDefined(line.from)) {\n\t\t\t\tdateMutator(line, dateAccessor(d));\n\t\t\t\tline.from = dateAccessor(d);\n\n\t\t\t\tif (!line.open) line.open = d.open;\n\t\t\t\tline.high = d.high;\n\t\t\t\tline.low = d.low;\n\t\t\t\tif (!line.close) line.close = source(d);\n\t\t\t\tline.startOfYear = d.startOfYear;\n\t\t\t\tline.startOfQuarter = d.startOfQuarter;\n\t\t\t\tline.startOfMonth = d.startOfMonth;\n\t\t\t\tline.startOfWeek = d.startOfWeek;\n\t\t\t}\n\n\t\t\tif (!line.startOfYear) {\n\t\t\t\tline.startOfYear = d.startOfYear;\n\t\t\t\tif (line.startOfYear) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!line.startOfQuarter) {\n\t\t\t\tline.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (line.startOfQuarter && !line.startOfYear) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!line.startOfMonth) {\n\t\t\t\tline.startOfMonth = d.startOfMonth;\n\t\t\t\tif (line.startOfMonth && !line.startOfQuarter) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!line.startOfWeek) {\n\t\t\t\tline.startOfWeek = d.startOfWeek;\n\t\t\t\tif (line.startOfWeek && !line.startOfMonth) {\n\t\t\t\t\tline.date = d.date;\n\t\t\t\t\t// line.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tline.volume = (line.volume || 0) + d.volume;\n\t\t\tline.high = Math.max(line.high, d.high);\n\t\t\tline.low = Math.min(line.low, d.low);\n\t\t\tline.to = dateAccessor(d);\n\n\t\t\tvar priceMovement = (source(d) - line.close);\n\n\t\t\t// console.log(source(d), priceMovement)\n\t\t\tif ((line.close > line.open /* going up */ && priceMovement > 0 /* and moving in same direction */)\n\t\t\t\t\t|| (line.close < line.open /* going down */ && priceMovement < 0 /* and moving in same direction */)) {\n\t\t\t\tline.close = source(d);\n\t\t\t\tif (prevTrough && line.close < prevTrough) {\n\t\t\t\t\t// going below the prevTrough, so change from yang to yin\n\t\t\t\t\t// A yin line forms when a Kagi line breaks below the prior trough.\n\t\t\t\t\tline.changePoint = prevTrough;\n\t\t\t\t\tif (line.startAs !== \"yin\") {\n\t\t\t\t\t\tline.changeTo = \"yin\";\n\t\t\t\t\t\t// line.startAs = \"yang\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (prevPeak && line.close > prevPeak) {\n\t\t\t\t\t// going above the prevPeak, so change from yin to yang\n\t\t\t\t\t// A yang line forms when a Kagi line breaks above the prior peak\n\t\t\t\t\tline.changePoint = prevPeak;\n\t\t\t\t\tif (line.startAs !== \"yang\") {\n\t\t\t\t\t\tline.changeTo = \"yang\";\n\t\t\t\t\t\t// line.startAs = \"yin\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if ((line.close > line.open /* going up */\n\t\t\t\t\t\t\t&& priceMovement < 0 /* and moving in other direction */\n\t\t\t\t\t\t\t&& Math.abs(priceMovement) > reversalThreshold(d) /* and the movement is big enough for reversal */)\n\t\t\t\t\t|| (line.close < line.open /* going down */\n\t\t\t\t\t\t\t&& priceMovement > 0 /* and moving in other direction */\n\t\t\t\t\t\t\t&& Math.abs(priceMovement) > reversalThreshold(d) /* and the movement is big enough for reversal */)) {\n\t\t\t\t// reverse direction\n\t\t\t\tvar nextLineOpen = line.close;\n\n\t\t\t\tdirection = (line.close - line.open) / Math.abs(line.close - line.open);\n\n\t\t\t\tvar nextChangePoint, nextChangeTo;\n\t\t\t\tif (direction < 0 /* if direction so far has been -ve*/) {\n\t\t\t\t\t// compare with line.close becomes prevTrough\n\t\t\t\t\tif (isNotDefined(prevPeak)) prevPeak = line.open;\n\t\t\t\t\tprevTrough = line.close;\n\t\t\t\t\tif (source(d) > prevPeak) {\n\t\t\t\t\t\tnextChangePoint = prevPeak;\n\t\t\t\t\t\tnextChangeTo = \"yang\";\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (isNotDefined(prevTrough)) prevTrough = line.open;\n\t\t\t\t\tprevPeak = line.close;\n\t\t\t\t\tif (source(d) < prevTrough) {\n\t\t\t\t\t\tnextChangePoint = prevTrough;\n\t\t\t\t\t\tnextChangeTo = \"yin\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isNotDefined(line.startAs)) {\n\t\t\t\t\tline.startAs = direction > 0 ? \"yang\" : \"yin\";\n\t\t\t\t}\n\n\t\t\t\tvar startAs = line.changeTo || line.startAs;\n\t\t\t\tline.added = true;\n\t\t\t\tkagiData.push(line);\n\t\t\t\tdirection = -1 * direction; // direction is reversed\n\n\t\t\t\tline = { ...line };\n\t\t\t\tline.open = nextLineOpen;\n\t\t\t\tline.close = source(d);\n\t\t\t\tline.startAs = startAs;\n\t\t\t\tline.changePoint = nextChangePoint;\n\t\t\t\tline.changeTo = nextChangeTo;\n\t\t\t\tline.added = false;\n\t\t\t\tline.from = undefined;\n\t\t\t\tline.volume = 0;\n\t\t\t} else {\n\t\t\t\t// console.log(\"MOVING IN REV DIR BUT..\", line.open, line.close, source(d));\n\t\t\t}\n\t\t\tline.current = source(d);\n\t\t\tvar dir = line.close - line.open;\n\t\t\tdir = dir / Math.abs(dir);\n\t\t\tline.reverseAt = dir > 0 ? line.close - reversalThreshold(d) : line.open - reversalThreshold(d);\n\t\t});\n\t\tif (!line.added) kagiData.push(line);\n\n\t\treturn kagiData;\n\t}\n\tcalculator.reversalType = function(x) {\n\t\tif (!arguments.length) return reversalType;\n\t\treversalType = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/kagi.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { slidingWindow, last, isDefined } from \"../../utils\";\n\nexport default function() {\n\n\tvar windowSize = 9,\n\t\tsource = d => ({ open: d.open, high: d.high, low: d.low, close: d.close });\n\n\tfunction atr(data) {\n\n\t\tvar trueRangeAlgorithm = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.source(source)\n\t\t\t.undefinedValue(d => d.high - d.low) // the first TR value is simply the High minus the Low\n\t\t\t.accumulator(values => {\n\t\t\t\tvar prev = values[0];\n\t\t\t\tvar d = values[1];\n\t\t\t\treturn Math.max(d.high - d.low,\n\t\t\t\t\td.high - prev.close,\n\t\t\t\t\td.low - prev.close);\n\t\t\t});\n\n\t\tvar prevATR;\n\n\t\tvar atrAlgorithm = slidingWindow()\n\t\t\t.skipInitial(1) // trueRange starts from index 1 so ATR starts from 1\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(values => {\n\t\t\t\tvar tr = last(values);\n\t\t\t\tvar atr = isDefined(prevATR)\n\t\t\t\t\t? ((prevATR * (windowSize - 1)) + tr) / windowSize\n\t\t\t\t\t: d3.sum(values) / windowSize;\n\n\t\t\t\tprevATR = atr;\n\t\t\t\treturn atr;\n\t\t\t});\n\n\t\tvar newData = atrAlgorithm(trueRangeAlgorithm(data));\n\n\t\treturn newData;\n\t}\n\n\tatr.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn atr;\n\t};\n\n\tatr.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn atr;\n\t};\n\n\treturn atr;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/atr.js\n **/","\"use strict\";\n\nimport { isNotDefined } from \"../../utils\";\nimport { PointAndFigure as defaultOptions } from \"../defaultOptions\";\n\nfunction createBox(d, dateAccessor, dateMutator) {\n\tvar box = {\n\t\topen: d.open,\n\t\tfromDate: dateAccessor(d),\n\t\ttoDate: dateAccessor(d),\n\t\tstartOfYear: d.startOfYear,\n\t\tstartOfQuarter: d.startOfQuarter,\n\t\tstartOfMonth: d.startOfMonth,\n\t\tstartOfWeek: d.startOfWeek\n\t};\n\tdateMutator(box, dateAccessor(d));\n\treturn box;\n}\n\nfunction updateColumns(columnData, dateAccessor, dateMutator) {\n\tcolumnData.forEach(function(d) {\n\t\t// var lastBox = d.boxes[d.boxes.length - 1];\n\n\t\td.startOfYear = false;\n\t\td.startOfQuarter = false;\n\t\td.startOfMonth = false;\n\t\td.startOfWeek = false;\n\n\t\td.boxes.forEach(function(eachBox) {\n\t\t\tif (isNotDefined(d.open)) d.open = eachBox.open;\n\t\t\td.close = eachBox.close;\n\t\t\td.high = Math.max(d.open, d.close);\n\t\t\td.low = Math.min(d.open, d.close);\n\n\t\t\tif (isNotDefined(d.fromDate)) d.fromDate = eachBox.fromDate;\n\t\t\tif (isNotDefined(d.date)) d.date = eachBox.date;\n\t\t\td.toDate = eachBox.toDate;\n\n\t\t\tif (eachBox.startOfYear) {\n\t\t\t\td.startOfYear = d.startOfYear || eachBox.startOfYear;\n\t\t\t\td.startOfQuarter = eachBox.startOfQuarter;\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfQuarter !== true && eachBox.startOfQuarter) {\n\t\t\t\td.startOfQuarter = eachBox.startOfQuarter;\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfMonth !== true && eachBox.startOfMonth) {\n\t\t\t\td.startOfMonth = eachBox.startOfMonth;\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t\tif (d.startOfWeek !== true && eachBox.startOfWeek) {\n\t\t\t\td.startOfWeek = eachBox.startOfWeek;\n\t\t\t\t// d.displayDate = eachBox.displayDate;\n\t\t\t\tdateMutator(d, dateAccessor(eachBox));\n\t\t\t}\n\t\t});\n\n\t});\n\n\t// console.table(columnData);\n\t// console.table(rawData);\n\treturn columnData;\n}\n\n\nexport default function() {\n\tvar { reversal, boxSize, source } = defaultOptions;\n\tvar { dateAccessor, dateMutator } = defaultOptions;\n\n\tfunction calculator(rawData) {\n\t\tvar pricingMethod = source;\n\n\n\t\tvar columnData = [];\n\n\t\tvar column = {\n\t\t\t\tboxes: [],\n\t\t\t\topen: rawData[0].open\n\t\t\t}, box = createBox(rawData[0], dateAccessor, dateMutator);\n\n\t\tcolumnData.push(column);\n\n\t\trawData.forEach(function(d) {\n\t\t\tcolumn.volume = (column.volume || 0) + d.volume;\n\n\t\t\tif (!box.startOfYear) {\n\t\t\t\tbox.startOfYear = d.startOfYear;\n\t\t\t\tif (box.startOfYear) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!box.startOfYear && !box.startOfQuarter) {\n\t\t\t\tbox.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (box.startOfQuarter && !box.startOfYear) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!box.startOfQuarter && !box.startOfMonth) {\n\t\t\t\tbox.startOfMonth = d.startOfMonth;\n\t\t\t\tif (box.startOfMonth && !box.startOfQuarter) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!box.startOfMonth && !box.startOfWeek) {\n\t\t\t\tbox.startOfWeek = d.startOfWeek;\n\t\t\t\tif (box.startOfWeek && !box.startOfMonth) {\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (columnData.length === 1 && column.boxes.length === 0) {\n\t\t\t\tlet upwardMovement = (Math.max((pricingMethod(d).high - column.open), 0)); // upward movement\n\t\t\t\tlet downwardMovement = Math.abs(Math.min((column.open - pricingMethod(d).low), 0)); // downward movement\n\t\t\t\tcolumn.direction = upwardMovement > downwardMovement ? 1 : -1;\n\t\t\t\tif (boxSize * reversal < upwardMovement\n\t\t\t\t\t|| boxSize * reversal < downwardMovement) {\n\t\t\t\t\t// enough movement to trigger a reversal\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\tbox.open = column.open;\n\t\t\t\t\tlet noOfBoxes = column.direction > 0\n\t\t\t\t\t\t\t\t\t\t? Math.floor(upwardMovement / boxSize)\n\t\t\t\t\t\t\t\t\t\t: Math.floor(downwardMovement / boxSize);\n\t\t\t\t\tfor (let i = 0; i < noOfBoxes; i++) {\n\t\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\t\tlet prevBoxClose = box.close;\n\t\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\t\tbox = createBox(box, dateAccessor, dateMutator);\n\t\t\t\t\t\t// box = cloneMe(box);\n\t\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\t}\n\t\t\t\t\tbox.fromDate = dateAccessor(d);\n\t\t\t\t\tbox.date = dateAccessor(d);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// one or more boxes already formed in the current column\n\t\t\t\tlet upwardMovement = (Math.max((pricingMethod(d).high - box.open), 0)); // upward movement\n\t\t\t\tlet downwardMovement = Math.abs(Math.min((pricingMethod(d).low - box.open), 0)); // downward movement\n\n\t\t\t\tif ((column.direction > 0 && upwardMovement > boxSize) /* rising column AND box can be formed */\n\t\t\t\t\t\t|| (column.direction < 0 && downwardMovement > boxSize) /* falling column AND box can be formed */ ) {\n\t\t\t\t\t// form another box\n\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\tlet prevBoxClose = box.close;\n\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\tbox = createBox(d, dateAccessor, dateMutator);\n\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\tbox.fromDate = dateAccessor(d);\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t} else if ((column.direction > 0 && downwardMovement > boxSize * reversal) /* rising column and there is downward movement to trigger a reversal */\n\t\t\t\t\t\t|| (column.direction < 0 && upwardMovement > boxSize * reversal)/* falling column and there is downward movement to trigger a reversal */) {\n\t\t\t\t\t// reversal\n\n\t\t\t\t\tbox.open = box.open + -1 * column.direction * boxSize;\n\t\t\t\t\tbox.toDate = dateAccessor(d);\n\t\t\t\t\t// box.displayDate = d.displayDate;\n\t\t\t\t\tdateMutator(box, dateAccessor(d));\n\t\t\t\t\t// box.startOfYear = d.startOfYear;\n\t\t\t\t\t// box.startOfQuarter = d.startOfQuarter;\n\t\t\t\t\t// box.startOfMonth = d.startOfMonth;\n\t\t\t\t\t// box.startOfWeek = d.startOfWeek;\n\t\t\t\t\t// console.table(column.boxes);\n\t\t\t\t\t// var idx = index + 1;\n\t\t\t\t\tcolumn = {\n\t\t\t\t\t\tboxes: [],\n\t\t\t\t\t\tvolume: 0,\n\t\t\t\t\t\tdirection: -1 * column.direction\n\t\t\t\t\t};\n\t\t\t\t\tlet noOfBoxes = column.direction > 0\n\t\t\t\t\t\t\t\t\t\t? Math.floor(upwardMovement / boxSize)\n\t\t\t\t\t\t\t\t\t\t: Math.floor(downwardMovement / boxSize);\n\t\t\t\t\tfor (let i = 0; i < noOfBoxes; i++) {\n\t\t\t\t\t\tbox.close = box.open + column.direction * boxSize;\n\t\t\t\t\t\tvar prevBoxClose = box.close;\n\t\t\t\t\t\tcolumn.boxes.push(box);\n\t\t\t\t\t\tbox = createBox(d, dateAccessor, dateMutator);\n\t\t\t\t\t\tbox.open = prevBoxClose;\n\t\t\t\t\t}\n\n\t\t\t\t\tcolumnData.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tupdateColumns(columnData, dateAccessor, dateMutator);\n\n\t\treturn columnData;\n\t}\n\tcalculator.reversal = function(x) {\n\t\tif (!arguments.length) return reversal;\n\t\treversal = x;\n\t\treturn calculator;\n\t};\n\tcalculator.boxSize = function(x) {\n\t\tif (!arguments.length) return boxSize;\n\t\tboxSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) return source;\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/pointAndFigure.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport { merge, isNotDefined } from \"../../utils\";\n\nimport atr from \"./atr\";\n\nimport { Renko as defaultOptions } from \"../defaultOptions\";\n\nexport default function() {\n\n\tvar { reversalType, fixedBrickSize, source, period: windowSize } = defaultOptions;\n\tvar { dateAccessor, dateMutator } = defaultOptions;\n\n\tfunction calculator(rawData) {\n\t\tvar pricingMethod = source, brickSize;\n\n\t\tif (reversalType === \"ATR\") {\n\t\t\t// calculateATR(rawData, period);\n\t\t\tvar atrAlgorithm = atr().windowSize(windowSize);\n\n\t\t\tvar atrCalculator = merge()\n\t\t\t\t.algorithm(atrAlgorithm)\n\t\t\t\t.merge((d, c) => { d[\"atr\" + windowSize] = c; } );\n\n\t\t\tatrCalculator(rawData);\n\t\t\tbrickSize = d => d[\"atr\" + windowSize];\n\t\t} else {\n\t\t\tbrickSize = d3.functor(fixedBrickSize);\n\t\t}\n\n\t\tvar renkoData = [];\n\n\t\tvar index = 0, prevBrickClose = rawData[index].open, prevBrickOpen = rawData[index].open;\n\t\tvar brick = {}, direction = 0;\n\n\t\trawData.forEach(function(d, idx) {\n\t\t\tif (isNotDefined(brick.from)) {\n\t\t\t\tbrick.high = d.high;\n\t\t\t\tbrick.low = d.low;\n\t\t\t\tbrick.startOfYear = d.startOfYear;\n\t\t\t\tbrick.startOfQuarter = d.startOfQuarter;\n\t\t\t\tbrick.startOfMonth = d.startOfMonth;\n\t\t\t\tbrick.startOfWeek = d.startOfWeek;\n\n\t\t\t\tbrick.from = idx;\n\t\t\t\tbrick.fromDate = dateAccessor(d);\n\t\t\t\t// indexMutator(brick, index++);\n\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t}\n\t\t\tbrick.volume = (brick.volume || 0) + d.volume;\n\n\t\t\tvar prevCloseToHigh = (prevBrickClose - pricingMethod(d).high),\n\t\t\t\tprevCloseToLow = (prevBrickClose - pricingMethod(d).low),\n\t\t\t\tprevOpenToHigh = (prevBrickOpen - pricingMethod(d).high),\n\t\t\t\tprevOpenToLow = (prevBrickOpen - pricingMethod(d).low),\n\t\t\t\tpriceMovement = Math.min(\n\t\t\t\t\tMath.abs(prevCloseToHigh),\n\t\t\t\t\tMath.abs(prevCloseToLow),\n\t\t\t\t\tMath.abs(prevOpenToHigh),\n\t\t\t\t\tMath.abs(prevOpenToLow));\n\n\n\t\t\tbrick.high = Math.max(brick.high, d.high);\n\t\t\tbrick.low = Math.min(brick.low, d.low);\n\n\t\t\tif (!brick.startOfYear) {\n\t\t\t\tbrick.startOfYear = d.startOfYear;\n\t\t\t\tif (brick.startOfYear) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!brick.startOfQuarter) {\n\t\t\t\tbrick.startOfQuarter = d.startOfQuarter;\n\t\t\t\tif (brick.startOfQuarter && !brick.startOfYear) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!brick.startOfMonth) {\n\t\t\t\tbrick.startOfMonth = d.startOfMonth;\n\t\t\t\tif (brick.startOfMonth && !brick.startOfQuarter) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!brick.startOfWeek) {\n\t\t\t\tbrick.startOfWeek = d.startOfWeek;\n\t\t\t\tif (brick.startOfWeek && !brick.startOfMonth) {\n\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t// brick.displayDate = d.displayDate;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// d.brick = JSON.stringify(brick);\n\t\t\tif (brickSize(d)) {\n\t\t\t\tvar noOfBricks = Math.floor(priceMovement / brickSize(d));\n\n\t\t\t\tbrick.open = (Math.abs(prevCloseToHigh) < Math.abs(prevOpenToHigh)\n\t\t\t\t\t|| Math.abs(prevCloseToLow) < Math.abs(prevOpenToLow))\n\t\t\t\t\t\t\t\t? prevBrickClose\n\t\t\t\t\t\t\t\t: prevBrickOpen;\n\n\t\t\t\tif (noOfBricks >= 1) {\n\t\t\t\t\tlet j = 0;\n\t\t\t\t\tfor (j = 0; j < noOfBricks; j++) {\n\t\t\t\t\t\tbrick.close = (brick.open < pricingMethod(d).high)\n\t\t\t\t\t\t\t\t\t\t// if brick open is less than current price it means it is green/hollow brick\n\t\t\t\t\t\t\t\t\t\t\t? brick.open + brickSize(d)\n\t\t\t\t\t\t\t\t\t\t\t: brick.open - brickSize(d);\n\t\t\t\t\t\tdirection = brick.close > brick.open ? 1 : -1;\n\t\t\t\t\t\tbrick.direction = direction;\n\t\t\t\t\t\tbrick.to = idx;\n\t\t\t\t\t\tbrick.toDate = dateAccessor(d);\n\t\t\t\t\t\t// brick.diff = brick.open - brick.close;\n\t\t\t\t\t\t// brick.atr = d.atr;\n\t\t\t\t\t\tbrick.fullyFormed = true;\n\t\t\t\t\t\trenkoData.push(brick);\n\n\t\t\t\t\t\tprevBrickClose = brick.close;\n\t\t\t\t\t\tprevBrickOpen = brick.open;\n\n\t\t\t\t\t\tvar newBrick = {\n\t\t\t\t\t\t\thigh: brick.high,\n\t\t\t\t\t\t\tlow: brick.low,\n\t\t\t\t\t\t\topen: brick.close,\n\t\t\t\t\t\t\tstartOfYear: false,\n\t\t\t\t\t\t\tstartOfMonth: false,\n\t\t\t\t\t\t\tstartOfQuarter: false,\n\t\t\t\t\t\t\tstartOfWeek: false\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbrick = newBrick;\n\t\t\t\t\t\tbrick.from = idx;\n\t\t\t\t\t\tbrick.fromDate = dateAccessor(d);\n\t\t\t\t\t\t// indexMutator(brick, index + j);\n\t\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t\tbrick.volume = (brick.volume || 0) + d.volume;\n\t\t\t\t\t}\n\t\t\t\t\tindex = index + j - 1;\n\t\t\t\t\tbrick = {};\n\t\t\t\t} else {\n\t\t\t\t\tif (idx === rawData.length - 1) {\n\t\t\t\t\t\tbrick.close = direction > 0 ? pricingMethod(d).high : pricingMethod(d).low;\n\t\t\t\t\t\tbrick.to = idx;\n\t\t\t\t\t\tbrick.toDate = dateAccessor(d);\n\t\t\t\t\t\tdateMutator(brick, dateAccessor(d));\n\t\t\t\t\t\tbrick.fullyFormed = false;\n\t\t\t\t\t\trenkoData.push(brick);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t});\n\t\treturn renkoData;\n\n\t}\n\tcalculator.reversalType = function(x) {\n\t\tif (!arguments.length) return reversalType;\n\t\treversalType = x;\n\t\treturn calculator;\n\t};\n\tcalculator.fixedBrickSize = function(x) {\n\t\tif (!arguments.length) return fixedBrickSize;\n\t\tfixedBrickSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) return source;\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) return windowSize;\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateMutator = function(x) {\n\t\tif (!arguments.length) return dateMutator;\n\t\tdateMutator = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dateAccessor = function(x) {\n\t\tif (!arguments.length) return dateAccessor;\n\t\tdateAccessor = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/renko.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/macd.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport ema from \"./ema\";\n\nimport { isDefined, identity, zipper } from \"../../utils\";\nimport { MACD as defaultOptions } from \"../defaultOptions\";\n\nexport default function() {\n\n\tvar { fast, slow, signal } = defaultOptions;\n\tvar source = identity;\n\n\tfunction calculator(data) {\n\n\t\tvar fastEMA = ema()\n\t\t\t.windowSize(fast)\n\t\t\t.source(source);\n\t\tvar slowEMA = ema()\n\t\t\t.windowSize(slow)\n\t\t\t.source(source);\n\t\tvar signalEMA = ema()\n\t\t\t.windowSize(signal);\n\n\t\tvar macdCalculator = zipper()\n\t\t\t.combine((fastEMA, slowEMA) => (isDefined(fastEMA) && isDefined(slowEMA)) ? fastEMA - slowEMA : undefined);\n\n\t\tvar macdArray = macdCalculator(fastEMA(data), slowEMA(data));\n\n\t\tvar undefinedArray = new Array(slow);\n\t\tvar signalArray = undefinedArray.concat(signalEMA(macdArray.slice(slow)));\n\n\t\tvar zip = zipper()\n\t\t\t.combine((macd, signal) => ({\n\t\t\t\tmacd,\n\t\t\t\tsignal,\n\t\t\t\tdivergence: (isDefined(macd) && isDefined(signal)) ? macd - signal : undefined,\n\t\t\t}));\n\n\t\tvar macd = zip(macdArray, signalArray);\n\n\t\treturn macd;\n\t}\n\n\tcalculator.fast = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn fast;\n\t\t}\n\t\tfast = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.slow = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn slow;\n\t\t}\n\t\tslow = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.signal = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn signal;\n\t\t}\n\t\tsignal = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/macd.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/relativeStrengthIndex.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport { isDefined, last, identity, slidingWindow } from \"../../utils\";\nimport { RSI as defaultOptions } from \"../defaultOptions\";\n\nexport default function() {\n\n\tvar { period: windowSize } = defaultOptions;\n\tvar source = identity;\n\n\tfunction calculator(data) {\n\n\t\tvar prevAvgGain, prevAvgLoss;\n\t\tvar rsiAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator((values) => {\n\n\t\t\t\tvar avgGain = isDefined(prevAvgGain)\n\t\t\t\t\t? (prevAvgGain * (windowSize - 1) + last(values).gain) / windowSize\n\t\t\t\t\t: d3.mean(values, (each) => each.gain);\n\n\t\t\t\tvar avgLoss = isDefined(prevAvgLoss)\n\t\t\t\t\t? (prevAvgLoss * (windowSize - 1) + last(values).loss) / windowSize\n\t\t\t\t\t: d3.mean(values, (each) => each.loss);\n\n\t\t\t\tvar relativeStrength = avgGain / avgLoss;\n\t\t\t\tvar rsi = 100 - (100 / (1 + relativeStrength));\n\n\t\t\t\tprevAvgGain = avgGain;\n\t\t\t\tprevAvgLoss = avgLoss;\n\n\t\t\t\treturn rsi;\n\t\t\t});\n\n\t\tvar gainsAndLossesCalculator = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.undefinedValue(() => [0, 0])\n\t\t\t.accumulator(tuple => {\n\t\t\t\tvar prev = tuple[0];\n\t\t\t\tvar now = tuple[1];\n\t\t\t\tvar change = source(now) - source(prev);\n\t\t\t\treturn {\n\t\t\t\t\tgain: Math.max(change, 0),\n\t\t\t\t\tloss: Math.abs(Math.min(change, 0)),\n\t\t\t\t};\n\t\t\t});\n\n\t\tvar gainsAndLosses = gainsAndLossesCalculator(data);\n\n\t\tvar rsiData = rsiAlgorithm(gainsAndLosses);\n\n\t\treturn rsiData;\n\t}\n\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/rsi.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/stochasticOscillator.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport { last, slidingWindow, zipper } from \"../../utils\";\nimport { FullStochasticOscillator as defaultOptions } from \"../defaultOptions\";\n\nexport default function() {\n\n\tvar { period: windowSize, K: kWindowSize, D: dWindowSize, source } = defaultOptions;\n\n\tvar high = d => source(d).high,\n\t\tlow = d => source(d).low,\n\t\tclose = d => source(d).close;\n\n\tfunction calculator(data) {\n\t\tvar kWindow = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(values => {\n\n\t\t\t\tvar highestHigh = d3.max(values, high);\n\t\t\t\tvar lowestLow = d3.min(values, low);\n\n\t\t\t\tvar currentClose = close(last(values));\n\t\t\t\tvar k = (currentClose - lowestLow) / (highestHigh - lowestLow) * 100;\n\n\t\t\t\treturn k;\n\t\t\t});\n\n\t\tvar kSmoothed = slidingWindow()\n\t\t\t.skipInitial(windowSize - 1)\n\t\t\t.windowSize(kWindowSize)\n\t\t\t.accumulator(values => d3.mean(values));\n\n\t\tvar dWindow = slidingWindow()\n\t\t\t.skipInitial(windowSize - 1 + kWindowSize - 1)\n\t\t\t.windowSize(dWindowSize)\n\t\t\t.accumulator(values => d3.mean(values));\n\n\t\tvar stoAlgorithm = zipper()\n\t\t\t.combine((K, D) => ({ K, D }));\n\n\t\tvar kData = kSmoothed(kWindow(data));\n\t\tvar dData = dWindow(kData);\n\n\t\tvar newData = stoAlgorithm(kData, dData);\n\n\t\treturn newData;\n\t}\n\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.kWindowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn kWindowSize;\n\t\t}\n\t\tkWindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.dWindowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn dWindowSize;\n\t\t}\n\t\tdWindowSize = x;\n\t\treturn calculator;\n\t};\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/sto.js\n **/","\"use strict\";\n\nimport { slidingWindow } from \"../../utils\";\nimport { ForceIndex as defaultOptions } from \"../defaultOptions\";\n\nexport default function() {\n\n\tvar { close, volume } = defaultOptions;\n\n\tfunction calculator(data) {\n\n\t\tvar forceIndexCalulator = slidingWindow()\n\t\t\t.windowSize(2)\n\t\t\t.accumulator(([prev, curr]) => (close(curr) - close(prev)) * volume(curr));\n\n\t\tvar forceIndex = forceIndexCalulator(data);\n\n\t\treturn forceIndex;\n\t}\n\n\tcalculator.close = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn close;\n\t\t}\n\t\tclose = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.volume = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn volume;\n\t\t}\n\t\tvolume = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/forceIndex.js\n **/","\"use strict\";\n\n/*\nhttps://github.com/ScottLogic/d3fc/blob/master/src/indicator/algorithm/calculator/elderRay.js\n\nThe MIT License (MIT)\n\nCopyright (c) 2014-2015 Scott Logic Ltd.\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in\nall copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\nTHE SOFTWARE.\n*/\n\nimport d3 from \"d3\";\n\nimport ema from \"./ema\";\n\nimport { ElderRay as defaultOptions } from \"../defaultOptions\";\nimport { isDefined, zipper, slidingWindow } from \"../../utils\";\n\nexport default function() {\n\n\tvar { period: windowSize, source: src, movingAverageType, ohlc } = defaultOptions;\n\tvar source = d3.functor(src);\n\n\tfunction calculator(data) {\n\n\t\tvar meanAlgorithm = movingAverageType === \"ema\"\n\t\t\t? ema().windowSize(windowSize).source(source)\n\t\t\t: slidingWindow().windowSize(windowSize).accumulator(values => d3.mean(values)).source(source);\n\n\t\tvar zip = zipper()\n\t\t\t.combine((datum, mean) => {\n\t\t\t\tvar bullPower = isDefined(mean) ? ohlc(datum).high - mean : undefined;\n\t\t\t\tvar bearPower = isDefined(mean) ? ohlc(datum).low - mean : undefined;\n\t\t\t\treturn { bullPower, bearPower };\n\t\t\t});\n\n\t\tvar newData = zip(data, meanAlgorithm(data));\n\t\treturn newData;\n\t}\n\n\tcalculator.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.ohlc = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn ohlc;\n\t\t}\n\t\tohlc = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.movingAverageType = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn movingAverageType;\n\t\t}\n\t\tmovingAverageType = x;\n\t\treturn calculator;\n\t};\n\n\tcalculator.source = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn source;\n\t\t}\n\t\tsource = x;\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/elderRay.js\n **/","\"use strict\";\n\nimport { first } from \"../../utils\";\n\nexport default function() {\n\tvar base = d => d.close;\n\tvar mainKeys = [];\n\tvar compareKeys = [];\n\n\tfunction calculator(data) {\n\t\tvar f = first(data);\n\t\tvar b = base(f);\n\t\tvar compareData = data.map(d => {\n\t\t\tvar result = {};\n\n\t\t\tmainKeys.forEach(key => {\n\t\t\t\tresult[key] = (d[key] - b) / b;\n\t\t\t});\n\n\t\t\tcompareKeys.forEach(key => {\n\t\t\t\tresult[key] = (d[key] - f[key]) / f[key];\n\t\t\t});\n\t\t\treturn result;\n\t\t});\n\t\t// console.log(compareData[20]);\n\t\treturn compareData;\n\t}\n\tcalculator.base = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn base;\n\t\t}\n\t\tbase = x;\n\t\treturn calculator;\n\t};\n\tcalculator.mainKeys = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn mainKeys;\n\t\t}\n\t\tmainKeys = x;\n\t\treturn calculator;\n\t};\n\tcalculator.compareKeys = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn compareKeys;\n\t\t}\n\t\tcompareKeys = x;\n\t\treturn calculator;\n\t};\n\treturn calculator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/algorithm/compare.js\n **/","\"use strict\";\n\nimport { overlayColors } from \"../utils\";\n\nvar i = 0;\n\nexport default function() {\n\n\tvar id = i++, accessor, stroke, fill, echo, type, tooltipLabel, domain, tickValues;\n\n\tfunction baseIndicator() {\n\t}\n\n\tbaseIndicator.id = function(x) {\n\t\tif (!arguments.length) return id;\n\t\tid = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.accessor = function(x) {\n\t\tif (!arguments.length) return accessor;\n\t\taccessor = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.stroke = function(x) {\n\t\tif (!arguments.length) return !stroke ? stroke = overlayColors(id) : stroke;\n\t\tstroke = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.fill = function(x) {\n\t\tif (!arguments.length) return !fill ? fill = overlayColors(id) : fill;\n\t\tfill = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.echo = function(x) {\n\t\tif (!arguments.length) return echo;\n\t\techo = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.type = function(x) {\n\t\tif (!arguments.length) return type;\n\t\ttype = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.tooltipLabel = function(x) {\n\t\tif (!arguments.length) {\n\t\t\tif (typeof tooltipLabel === \"function\") return tooltipLabel();\n\t\t\treturn tooltipLabel;\n\t\t}\n\t\ttooltipLabel = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.domain = function(x) {\n\t\tif (!arguments.length) return domain;\n\t\tdomain = x;\n\t\treturn baseIndicator;\n\t};\n\tbaseIndicator.tickValues = function(x) {\n\t\tif (!arguments.length) return tickValues;\n\t\ttickValues = x;\n\t\treturn baseIndicator;\n\t};\n\treturn baseIndicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/baseIndicator.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge, slidingWindow } from \"../utils\";\n\nimport { SMA as defaultOptions } from \"./defaultOptions\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"SMA\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.sma);\n\n\tvar underlyingAlgorithm = slidingWindow()\n\t\t.windowSize(defaultOptions.period)\n\t\t.source(defaultOptions.source)\n\t\t.accumulator(values => d3.mean(values));\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.sma = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"source\", \"undefinedValue\", \"skipInitial\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/sma.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\n\nimport { BollingerBand as defaultOptions } from \"./defaultOptions\";\nimport baseIndicator from \"./baseIndicator\";\nimport { bollingerband } from \"./algorithm\";\n\nconst ALGORITHM_TYPE = \"BollingerBand\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.bollingerBand)\n\t\t.stroke({\n\t\t\ttop: \"#964B00\",\n\t\t\tmiddle: \"#000000\",\n\t\t\tbottom: \"#964B00\",\n\t\t})\n\t\t.fill(\"#4682B4\");\n\n\tvar underlyingAlgorithm = bollingerband()\n\t\t.windowSize(defaultOptions.period)\n\t\t.movingAverageType(defaultOptions.movingAverageType)\n\t\t.multiplier(defaultOptions.multiplier)\n\t\t.source(defaultOptions.source);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.bollingerBand = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\n\tbase.tooltipLabel(() => `BB (${underlyingAlgorithm.windowSize()}, ${underlyingAlgorithm.multiplier()}`\n\t\t+ `, ${underlyingAlgorithm.movingAverageType()}): `);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"movingAverageType\", \"multiplier\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/bollingerBand.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { haikinAshi } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nimport { merge } from \"../utils\";\n\nconst ALGORITHM_TYPE = \"HaikinAshi\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.ha);\n\n\tvar underlyingAlgorithm = haikinAshi();\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.ha = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\t// d3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\");\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/haikinAshi.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { kagi } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Kagi\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = kagi();\n\n\tvar indicator = function(data) {\n\t\treturn underlyingAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\");\n\t// d3.rebind(indicator, mergedAlgorithm, \"merge\"/*, \"skipUndefined\"*/);\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/kagi.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { pointAndFigure } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"PointAndFigure\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = pointAndFigure();\n\n\tvar indicator = function(data) {\n\t\treturn underlyingAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\", \"indexAccessor\");\n\td3.rebind(indicator, underlyingAlgorithm, \"reversal\", \"boxSize\", \"source\");\n\t// d3.rebind(indicator, mergedAlgorithm, \"merge\"/*, \"skipUndefined\"*/);\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/pointAndFigure.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { renko } from \"./algorithm\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Renko\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE);\n\n\tvar underlyingAlgorithm = renko();\n\n\tvar indicator = function(data) {\n\t\treturn underlyingAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"dateAccessor\", \"dateMutator\", \"indexMutator\", \"indexAccessor\");\n\td3.rebind(indicator, underlyingAlgorithm, \"reversal\", \"boxSize\", \"source\");\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/renko.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { macd } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { MACD as defaultOptions } from \"./defaultOptions\";\n\nconst ALGORITHM_TYPE = \"MACD\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.fill(defaultOptions.fill)\n\t\t.stroke(defaultOptions.stroke)\n\t\t.accessor(d => d.macd);\n\n\tvar underlyingAlgorithm = macd()\n\t\t.fast(defaultOptions.fast)\n\t\t.slow(defaultOptions.slow)\n\t\t.signal(defaultOptions.signal)\n\t\t.source(defaultOptions.source);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.macd = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"source\", \"fast\", \"slow\", \"signal\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/macd.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { rsi } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { RSI as defaultOptions } from \"./defaultOptions\";\n\nconst ALGORITHM_TYPE = \"RSI\";\n\nexport default function() {\n\tvar { overSold, middle, overBought } = defaultOptions;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.rsi);\n\n\tvar underlyingAlgorithm = rsi()\n\t\t.windowSize(defaultOptions.period)\n\t\t.source(defaultOptions.source);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.rsi = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE} (${underlyingAlgorithm.windowSize()}): `);\n\n\tbase.domain([0, 100]);\n\tbase.tickValues([overSold, middle, overBought]);\n\n\tindicator.overSold = function(x) {\n\t\tif (!arguments.length) return overSold;\n\t\toverSold = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.middle = function(x) {\n\t\tif (!arguments.length) return middle;\n\t\tmiddle = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.overBought = function(x) {\n\t\tif (!arguments.length) return overBought;\n\t\toverBought = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\", \"domain\", \"tickValues\");\n\td3.rebind(indicator, underlyingAlgorithm, \"source\", \"windowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/rsi.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { atr } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { ATR as defaultOptions } from \"./defaultOptions\";\n\nconst ALGORITHM_TYPE = \"ATR\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.atr);\n\n\tvar underlyingAlgorithm = atr()\n\t\t.windowSize(defaultOptions.period)\n\t\t.source(defaultOptions.source);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.atr = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE}(${underlyingAlgorithm.windowSize()})`);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"source\", \"windowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/atr.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { sto } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { FullStochasticOscillator as defaultOptions } from \"./defaultOptions\";\n\nconst ALGORITHM_TYPE = \"RSI\";\n\nexport default function() {\n\tvar { K, D, source, period, overSold, overBought, middle, stroke } = defaultOptions;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.stroke(stroke)\n\t\t.accessor(d => d.sto);\n\n\tvar underlyingAlgorithm = sto()\n\t\t.windowSize(period)\n\t\t.kWindowSize(K)\n\t\t.dWindowSize(D)\n\t\t.source(source);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.sto = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\tbase.tooltipLabel(() => `${ALGORITHM_TYPE} (${underlyingAlgorithm.windowSize()}`\n\t\t\t+ `, ${underlyingAlgorithm.kWindowSize()}, ${underlyingAlgorithm.dWindowSize()}): `);\n\n\tbase.domain([0, 100]);\n\tbase.tickValues([overSold, middle, overBought]);\n\n\tindicator.overSold = function(x) {\n\t\tif (!arguments.length) return overSold;\n\t\toverSold = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.middle = function(x) {\n\t\tif (!arguments.length) return middle;\n\t\tmiddle = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\tindicator.overBought = function(x) {\n\t\tif (!arguments.length) return overBought;\n\t\toverBought = x;\n\t\tbase.tickValues([overSold, middle, overBought]);\n\t\treturn indicator;\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\", \"domain\", \"tickValues\");\n\td3.rebind(indicator, underlyingAlgorithm, \"source\", \"windowSize\", \"kWindowSize\", \"dWindowSize\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/stochasticOscillator.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { forceIndex } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { ForceIndex as defaultOptions } from \"./defaultOptions\";\n\nconst ALGORITHM_TYPE = \"ForceIndex\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.forceIndex);\n\n\tvar underlyingAlgorithm = forceIndex()\n\t\t.volume(defaultOptions.volume)\n\t\t.close(defaultOptions.close);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.forceIndex = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"close\", \"volume\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/forceIndex.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { elderRay } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\nimport { ElderRay as defaultOptions } from \"./defaultOptions\";\n\nconst ALGORITHM_TYPE = \"ElderRay\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.elderRay);\n\n\tvar underlyingAlgorithm = elderRay()\n\t\t.windowSize(defaultOptions.period)\n\t\t.ohlc(defaultOptions.ohlc)\n\t\t.movingAverageType(defaultOptions.movingAverageType)\n\t\t.source(defaultOptions.source);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.elderRay = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\tbase.tooltipLabel(`${ALGORITHM_TYPE}: `);\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\", \"tooltipLabel\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"ohlc\", \"movingAverageType\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/elderRay.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge, slidingWindow } from \"../utils\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Change\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.elderRay);\n\n\tvar underlyingAlgorithm = slidingWindow()\n\t\t.windowSize(2)\n\t\t.source(d => d.close)\n\t\t.accumulator(([prev, curr]) => {\n\t\t\tvar absoluteChange = curr - prev;\n\t\t\tvar percentChange = absoluteChange * 100 / prev;\n\t\t\treturn { absoluteChange, percentChange };\n\t\t});\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => {\n\t\t\tdatum.absoluteChange = indicator.absoluteChange;\n\t\t\tdatum.percentChange = indicator.percentChange;\n\t\t});\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/change.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { isDefined, isNotDefined, merge, slidingWindow } from \"../utils\";\n\nimport { ElderImpulse as defaultOptions } from \"./defaultOptions\";\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"ElderImpulse\";\n\nexport default function() {\n\n\tvar macdSource, emaSource;\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.stroke(d => defaultOptions.stroke[d.elderImpulse])\n\t\t.accessor([d => d.close])\n\t\t.fill(undefined);\n\n\tvar underlyingAlgorithm = slidingWindow()\n\t\t.windowSize(2)\n\t\t.undefinedValue(\"neutral\")\n\t\t.accumulator(([prev, curr]) => {\n\t\t\tif (isNotDefined(macdSource)) throw new Error(`macdSource not defined for ${ALGORITHM_TYPE} calculator`);\n\t\t\tif (isNotDefined(emaSource)) throw new Error(`emaSource not defined for ${ALGORITHM_TYPE} calculator`);\n\n\t\t\tif (isDefined(macdSource(prev)) && isDefined(emaSource(prev))) {\n\t\t\t\tvar prevMACDDivergence = macdSource(prev).divergence;\n\t\t\t\tvar currMACDDivergence = macdSource(curr).divergence;\n\n\t\t\t\tvar prevEMA = emaSource(prev);\n\t\t\t\tvar currEMA = emaSource(curr);\n\n\t\t\t\tif (currMACDDivergence >= prevMACDDivergence\n\t\t\t\t\t&& currEMA >= prevEMA) return \"up\";\n\n\t\t\t\tif (currMACDDivergence <= prevMACDDivergence\n\t\t\t\t\t&& currEMA <= prevEMA) return \"down\";\n\t\t\t}\n\t\t\treturn \"neutral\";\n\t\t});\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.elderImpulse = indicator; });\n\n\tvar indicator = function(data) {\n\t\tvar newData = mergedAlgorithm(data);\n\t\treturn newData;\n\t};\n\tindicator.macdSource = function(x) {\n\t\tif (!arguments.length) return macdSource;\n\t\tmacdSource = x;\n\t\treturn indicator;\n\t};\n\tindicator.emaSource = function(x) {\n\t\tif (!arguments.length) return emaSource;\n\t\temaSource = x;\n\t\treturn indicator;\n\t};\n\td3.rebind(indicator, base, \"id\", \"stroke\", \"echo\", \"type\");\n\t// d3.rebind(indicator, underlyingAlgorithm, \"windowSize\", \"movingAverageType\", \"multiplier\", \"source\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\", \"skipUndefined\");\n\n\treturn indicator;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/elderImpulse.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\n\nimport { merge } from \"../utils\";\nimport { compare } from \"./algorithm\";\n\nimport baseIndicator from \"./baseIndicator\";\n\nconst ALGORITHM_TYPE = \"Compare\";\n\nexport default function() {\n\n\tvar base = baseIndicator()\n\t\t.type(ALGORITHM_TYPE)\n\t\t.accessor(d => d.compare);\n\n\tvar underlyingAlgorithm = compare()\n\t\t.base(d => d.close)\n\t\t.mainKeys([\"open\", \"high\", \"low\", \"close\"]);\n\n\tvar mergedAlgorithm = merge()\n\t\t.algorithm(underlyingAlgorithm)\n\t\t.merge((datum, indicator) => { datum.compare = indicator; });\n\n\tvar indicator = function(data) {\n\t\tif (!base.accessor()) throw new Error(`Set an accessor to ${ALGORITHM_TYPE} before calculating`);\n\t\treturn mergedAlgorithm(data);\n\t};\n\n\td3.rebind(indicator, base, \"id\", \"accessor\", \"stroke\", \"fill\", \"echo\", \"type\");\n\td3.rebind(indicator, underlyingAlgorithm, \"base\", \"mainKeys\", \"compareKeys\");\n\td3.rebind(indicator, mergedAlgorithm, \"merge\");\n\n\treturn indicator;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/indicator/compare.js\n **/","\"use strict\";\n\nimport { merge, slidingWindow } from \"../utils\";\nimport { identity } from \"../utils\";\n\nexport default function() {\n\n\tvar windowSize = 1,\n\t\taccumulator = identity,\n\t\tmergeAs = identity;\n\n\tfunction algorithm(data) {\n\n\t\tvar defaultAlgorithm = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.accumulator(accumulator);\n\n\t\tvar calculator = merge()\n\t\t\t.algorithm(defaultAlgorithm)\n\t\t\t.merge(mergeAs);\n\n\t\tvar newData = calculator(data);\n\n\t\treturn newData;\n\t}\n\n\talgorithm.accumulator = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn accumulator;\n\t\t}\n\t\taccumulator = x;\n\t\treturn algorithm;\n\t};\n\n\talgorithm.windowSize = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn windowSize;\n\t\t}\n\t\twindowSize = x;\n\t\treturn algorithm;\n\t};\n\talgorithm.merge = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn mergeAs;\n\t\t}\n\t\tmergeAs = x;\n\t\treturn algorithm;\n\t};\n\n\treturn algorithm;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/algorithm/index.js\n **/","\"use strict\";\n\n\nimport Annotate from \"./Annotate\";\nimport LabelAnnotation from \"./LabelAnnotation\";\nimport SvgPathAnnotation from \"./SvgPathAnnotation\";\nimport Label from \"./Label\";\n\nexport { Annotate, LabelAnnotation, SvgPathAnnotation, Label };\n\nconst halfWidth = 10;\nconst bottomWidth = 3;\nconst height = 20;\n\nexport function buyPath({ x, y }) {\n\treturn `M${x} ${y} `\n\t\t+ `L${x + halfWidth} ${y + halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y + halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y + height} `\n\t\t+ `L${x - bottomWidth} ${y + height} `\n\t\t+ `L${x - bottomWidth} ${y + halfWidth} `\n\t\t+ `L${x - halfWidth} ${y + halfWidth} `\n\t\t+ \"Z\";\n}\n\nexport function sellPath({ x, y }) {\n\treturn `M${x} ${y} `\n\t\t+ `L${x + halfWidth} ${y - halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y - halfWidth} `\n\t\t+ `L${x + bottomWidth} ${y - height} `\n\t\t+ `L${x - bottomWidth} ${y - height} `\n\t\t+ `L${x - bottomWidth} ${y - halfWidth} `\n\t\t+ `L${x - halfWidth} ${y - halfWidth} `\n\t\t+ \"Z\";\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/annotation/index.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport pure from \"../pure\";\n\nclass Annotate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.annotate = this.annotate.bind(this);\n\t}\n\tannotate({ xScale, chartConfig, plotData }) {\n\t\tvar { chartId } = this.props;\n\n\t\tvar { yScale } = chartConfig.filter(each => each.id === chartId)[0];\n\t\tthis.setState({ plotData, xScale, yScale });\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tvar { plotData, xScale, chartConfig, chartId } = nextProps;\n\t\tvar { yScale } = chartConfig.filter(each => each.id === chartId)[0];\n\n\t\tthis.setState({ plotData, xScale, yScale });\n\n\t\tvar { id, chartCanvasType, callbackForCanvasDraw, getAllCanvasDrawCallback } = nextProps;\n\n\t\tif (chartCanvasType !== \"svg\") {\n\t\t\tvar temp = getAllCanvasDrawCallback().filter(each => each.type === \"annotation\").filter(each => each.id === id);\n\t\t\tif (temp.length === 0) {\n\t\t\t\tcallbackForCanvasDraw({\n\t\t\t\t\tid,\n\t\t\t\t\ttype: \"annotation\",\n\t\t\t\t\tdraw: this.annotate,\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallbackForCanvasDraw(temp[0], {\n\t\t\t\t\tid,\n\t\t\t\t\ttype: \"annotation\",\n\t\t\t\t\tdraw: this.annotate,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\tcomponentWillMount() {\n\t\tthis.componentWillReceiveProps(this.props);\n\t}\n\trender() {\n\t\tvar { yScale, xScale, plotData } = this.state;\n\t\tvar { className, xAccessor, usingProps, with: Annotation } = this.props;\n\t\tvar data = helper(this.props, plotData);\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t{data.map((d, idx) => <Annotation key={idx}\n\t\t\t\t\t\t{...usingProps}\n\t\t\t\t\t\txScale={xScale}\n\t\t\t\t\t\tyScale={yScale}\n\t\t\t\t\t\txAccessor={xAccessor}\n\t\t\t\t\t\tplotData={plotData}\n\t\t\t\t\t\tdatum={d} />)}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nAnnotate.propTypes = {\n\tclassName: PropTypes.string.isRequired,\n\tid: PropTypes.number.isRequired,\n\tchartId: PropTypes.number.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\txScale: PropTypes.func.isRequired,\n\tplotData: PropTypes.array.isRequired,\n\twith: PropTypes.func,\n\twhen: PropTypes.func,\n\tusingProps: PropTypes.object,\n};\n\nAnnotate.defaultProps = {\n\tclassName: \"react-stockcharts-annotate react-stockcharts-default-cursor\",\n};\n\nfunction helper({ when }, plotData) {\n\treturn plotData.filter(when);\n}\n\nexport default pure(Annotate, {\n\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n\tgetAllCanvasDrawCallback: PropTypes.func,\n\tchartConfig: PropTypes.array.isRequired,\n\tchartCanvasType: PropTypes.string,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tplotData: PropTypes.array.isRequired,\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/annotation/Annotate.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nclass LabelAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tvar { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tvar { className, textAnchor, fontFamily, fontSize, opacity, rotate } = this.props;\n\t\tvar { xAccessor, xScale, yScale } = this.props;\n\n\t\tvar { xPos, yPos, fill, text, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (<g className={className}>\n\t\t\t<title>{tooltip}</title>\n\t\t\t<text x={xPos} y={yPos}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\ttransform={`rotate(${rotate}, ${xPos}, ${yPos})`}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\ttextAnchor={textAnchor}>{text}</text>\n\t\t</g>);\n\t}\n}\n\nexport function helper(props, xAccessor, xScale, yScale) {\n\tvar { x, y, datum, fill, text, tooltip, plotData } = props;\n\n\tvar xFunc = d3.functor(x);\n\tvar yFunc = d3.functor(y);\n\n\tvar [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\n\n\treturn {\n\t\txPos,\n\t\tyPos,\n\t\ttext: d3.functor(text)(datum),\n\t\tfill: d3.functor(fill)(datum),\n\t\ttooltip: d3.functor(tooltip)(datum),\n\t};\n}\n\nLabelAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\ttext: PropTypes.string,\n\ttextAnchor: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\topacity: PropTypes.number,\n\trotate: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tx: PropTypes.func,\n\ty: PropTypes.func,\n};\n\nexport const defaultProps = {\n\ttextAnchor: \"middle\",\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tfill: \"#000000\",\n\topacity: 1,\n\trotate: 0,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nLabelAnnotation.defaultProps = {\n\t...defaultProps,\n\tclassName: \"react-stockcharts-labelannotation\",\n};\n\nexport default LabelAnnotation;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/annotation/LabelAnnotation.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nclass SvgPathAnnotation extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick } = this.props;\n\n\t\tif (onClick) {\n\t\t\tvar { xScale, yScale, datum } = this.props;\n\t\t\tonClick({ xScale, yScale, datum }, e);\n\t\t}\n\t}\n\trender() {\n\t\tvar { className, stroke, opacity } = this.props;\n\t\tvar { xAccessor, xScale, yScale, path } = this.props;\n\n\t\tvar { x, y, fill, tooltip } = helper(this.props, xAccessor, xScale, yScale);\n\n\t\treturn (<g className={className} onClick={this.handleClick}>\n\t\t\t<title>{tooltip}</title>\n\t\t\t<path d={path({ x, y })} stroke={stroke} fill={fill} opacity={opacity} />\n\t\t</g>);\n\t}\n}\n\nfunction helper(props, xAccessor, xScale, yScale) {\n\tvar { x, y, datum, fill, tooltip, plotData } = props;\n\n\tvar xFunc = d3.functor(x);\n\tvar yFunc = d3.functor(y);\n\n\tvar [xPos, yPos] = [xFunc({ xScale, xAccessor, datum, plotData }), yFunc({ yScale, datum, plotData })];\n\n\treturn {\n\t\tx: xPos,\n\t\ty: yPos,\n\t\tfill: d3.functor(fill)(datum),\n\t\ttooltip: d3.functor(tooltip)(datum),\n\t};\n}\n\nSvgPathAnnotation.propTypes = {\n\tclassName: PropTypes.string,\n\tpath: PropTypes.func.isRequired,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tyScale: PropTypes.func,\n\tdatum: PropTypes.object,\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n};\n\nSvgPathAnnotation.defaultProps = {\n\tclassName: \"react-stockcharts-svgpathannotation\",\n\topacity: 1,\n\tx: ({ xScale, xAccessor, datum }) => xScale(xAccessor(datum)),\n};\n\nexport default SvgPathAnnotation;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/annotation/SvgPathAnnotation.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport pure from \"../pure\";\nimport { isDefined, hexToRGBA } from \"../utils\";\nimport LabelAnnotation, { defaultProps, helper } from \"./LabelAnnotation\";\n\nclass Label extends Component {\n\n\tcomponentDidMount() {\n\t\tvar { selectCanvas, getCanvasContexts, chartConfig, chartCanvasType } = this.props;\n\t\tif (chartCanvasType !== \"svg\") {\n\t\t\tvar ctx = selectCanvas(getCanvasContexts());\n\t\t\tvar yScale = getYScale(chartConfig);\n\n\t\t\tdrawOnCanvas2({ ...this.props, yScale, text: getText(this.props) }, ctx);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\trender() {\n\t\tvar { chartConfig, chartCanvasType } = this.props;\n\t\tif (chartCanvasType !== \"svg\") return null;\n\n\t\treturn <LabelAnnotation yScale={getYScale(chartConfig)} {...this.props} text={getText(this.props)}/>;\n\t}\n}\n\nfunction getText(props) {\n\treturn d3.functor(props.text)(props);\n}\n\nfunction getYScale(chartConfig) {\n\treturn Array.isArray(chartConfig) ? undefined : chartConfig.yScale;\n}\n\nLabel.propTypes = {\n\tclassName: PropTypes.string,\n\tselectCanvas: PropTypes.func.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tchartCanvasType: PropTypes.string,\n\tchartConfig: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]).isRequired,\n\ttext: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func\n\t]).isRequired,\n};\n\nLabel.defaultProps = {\n\t...defaultProps,\n\tselectCanvas: canvases => canvases.bg,\n};\n\nfunction drawOnCanvas2(props, ctx) {\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tvar { canvasOriginX, canvasOriginY, margin } = props;\n\n\tif (isDefined(canvasOriginX))\n\t\tctx.translate(canvasOriginX, canvasOriginY);\n\telse\n\t\tctx.translate(margin.left + 0.5, margin.top + 0.5);\n\n\tdrawOnCanvas(props, ctx);\n\n\tctx.restore();\n\n}\n\nfunction drawOnCanvas(props, ctx) {\n\tvar { textAnchor, fontFamily, fontSize, opacity, xAccessor, xScale, yScale, rotate } = props;\n\n\tvar { xPos, yPos, fill, text } = helper(props, xAccessor, xScale, yScale);\n\n\tvar radians = (rotate / 180) * Math.PI;\n\tctx.save();\n\tctx.translate(xPos, yPos);\n\tctx.rotate(radians);\n\n\tctx.font = `${ fontSize }px ${ fontFamily }`;\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n\tctx.beginPath();\n\tctx.fillText(text, 0, 0);\n\tctx.restore();\n}\n\n\nexport default pure(Label, {\n\txScale: PropTypes.func,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\txAccessor: PropTypes.func,\n\tchartConfig: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t]).isRequired,\n\tchartCanvasType: PropTypes.string,\n\tgetCanvasContexts: PropTypes.func,\n\tinterval: PropTypes.string,\n\tplotData: PropTypes.array,\n\tmargin: PropTypes.object,\n});\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/annotation/Label.jsx\n **/","\"use strict\";\n\n\nimport XAxis from \"./XAxis\";\nimport YAxis from \"./YAxis\";\n\nexport { XAxis, YAxis };\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/axes/index.js\n **/","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\nimport Axis from \"./Axis\";\nimport PureComponent from \"../utils/PureComponent\";\n\nclass XAxis extends PureComponent {\n\trender() {\n\t\tvar { axisAt, showTicks, tickFormat, ticks } = this.props;\n\n\t\tvar axisLocation;\n\t\tif (axisAt === \"top\") axisLocation = 0;\n\t\telse if (axisAt === \"bottom\") axisLocation = this.context.height;\n\t\telse if (axisAt === \"middle\") axisLocation = (this.context.height) / 2;\n\t\telse axisLocation = axisAt;\n\n\t\tif (tickFormat && this.context.xScale.isPolyLinear && this.context.xScale.isPolyLinear()) {\n\t\t\tconsole.warn(\"Cannot set tickFormat on a poly linear scale, ignoring tickFormat on XAxis\");\n\t\t\ttickFormat = undefined;\n\t\t}\n\n\t\tif (ticks) ticks = [ticks];\n\t\treturn (\n\t\t\t<Axis {...this.props}\n\t\t\t\trange={[0, this.context.width]}\n\t\t\t\ttransform={[0, axisLocation]}\n\t\t\t\tshowTicks={showTicks} tickFormat={tickFormat} ticks={ticks}\n\t\t\t\tscale={this.context.xScale} />\n\t\t);\n\t}\n}\n\nXAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"top\", \"bottom\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"top\", \"bottom\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n};\nXAxis.defaultProps = {\n\tshowGrid: false,\n\tshowTicks: true,\n\tclassName: \"react-stockcharts-x-axis\",\n\tticks: 10,\n};\n\nXAxis.contextTypes = {\n\txScale: PropTypes.func.isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n\theight: PropTypes.number.isRequired,\n\twidth: PropTypes.number.isRequired,\n};\n\nexport default XAxis;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/axes/XAxis.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport AxisTicks from \"./AxisTicks\";\nimport AxisLine from \"./AxisLine\";\n\nimport { isDefined } from \"../utils\";\n\nclass Axis extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tcomponentWillMount() {\n\t\tthis.componentWillReceiveProps(this.props, this.context);\n\t}\n\tcomponentWillReceiveProps(nextProps, nextContext) {\n\t\tvar { margin, chartId, canvasOriginX, canvasOriginY } = nextContext;\n\t\tvar draw = Axis.drawOnCanvasStatic.bind(null, margin, nextProps, [canvasOriginX, canvasOriginY]);\n\n\t\tnextContext.callbackForCanvasDraw({\n\t\t\tchartId: chartId,\n\t\t\ttype: \"axis\",\n\t\t\tdraw: draw,\n\t\t});\n\t}\n\tcomponentDidMount() {\n\t\tif (this.context.chartCanvasType !== \"svg\" && isDefined(this.context.getCanvasContexts)) {\n\t\t\tvar contexts = this.context.getCanvasContexts();\n\t\t\tif (contexts) this.drawOnCanvas(contexts.axes);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\tdrawOnCanvas(ctx) {\n\t\tvar { margin, canvasOriginX, canvasOriginY } = this.context;\n\t\tvar { scale } = this.props;\n\n\t\tAxis.drawOnCanvasStatic(margin, this.props, [canvasOriginX, canvasOriginY], ctx, scale, scale);\n\t}\n\n\trender() {\n\t\tif (this.context.chartCanvasType !== \"svg\") return null;\n\n\t\tvar domain = this.props.showDomain\n\t\t\t? <AxisLine {...this.props} />\n\t\t\t: null;\n\t\tvar ticks = this.props.showTicks\n\t\t\t? <AxisTicks {...this.props} />\n\t\t\t: null;\n\n\t\tvar className = \"\";\n\t\tif (this.props.className) className = this.props.defaultClassName.concat(this.props.className);\n\t\treturn (\n\t\t\t<g className={className}\n\t\t\t\ttransform={`translate(${ this.props.transform[0] }, ${ this.props.transform[1] })`}>\n\t\t\t\t{ticks}\n\t\t\t\t{domain}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nAxis.propTypes = {\n\tclassName: PropTypes.string.isRequired,\n\tdefaultClassName: PropTypes.string.isRequired,\n\ttransform: PropTypes.arrayOf(Number).isRequired,\n\torient: PropTypes.oneOf([\"top\", \"bottom\", \"left\", \"right\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.array,\n\ttickValues: PropTypes.array,\n\tscale: PropTypes.func.isRequired,\n\tshowDomain: PropTypes.bool.isRequired,\n\tshowTicks: PropTypes.bool.isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number.isRequired,\n};\n\nAxis.defaultProps = {\n\tdefaultClassName: \"react-stockcharts-axis \",\n\tshowDomain: true,\n\tshowTicks: true,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n};\n\nAxis.contextTypes = {\n\tgetCanvasContexts: PropTypes.func,\n\tchartCanvasType: PropTypes.string,\n\tchartId: PropTypes.number.isRequired,\n\tmargin: PropTypes.object.isRequired,\n\tcanvasOriginX: PropTypes.number,\n\tcanvasOriginY: PropTypes.number,\n\t// secretToSuperFastCanvasDraw: PropTypes.array.isRequired,\n\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n};\n\nAxis.drawOnCanvasStatic = (margin, props, canvasOrigin, ctx, xScale, yScale) => {\n\tvar { transform, showDomain, showTicks } = props;\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(canvasOrigin[0] + transform[0], canvasOrigin[1] + transform[1]);\n\n\tif (showDomain) AxisLine.drawOnCanvasStatic(props, ctx, xScale, yScale);\n\tif (showTicks) AxisTicks.drawOnCanvasStatic(props, ctx, xScale, yScale);\n\n\tctx.restore();\n};\n\nexport default Axis;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/axes/Axis.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { hexToRGBA, isNotDefined, identity } from \"../utils\";\n\nfunction tickTransform_svg_axisX(scale, tick) {\n\treturn [~~ (0.5 + scale(tick)), 0];\n}\n\nfunction tickTransform_svg_axisY(scale, tick) {\n\treturn [0, ~~ (0.5 + scale(tick))];\n}\n\nclass Tick extends Component {\n\trender() {\n\t\tvar { transform, tickStroke, tickStrokeOpacity, textAnchor, fontSize, fontFamily } = this.props;\n\t\tvar { x, y, x2, y2, dy } = this.props;\n\t\treturn (\n\t\t\t<g className=\"tick\" transform={`translate(${ transform[0] }, ${ transform[1] })`} >\n\t\t\t\t<line shapeRendering=\"crispEdges\" opacity={tickStrokeOpacity} stroke={tickStroke} x2={x2} y2={y2} />\n\t\t\t\t<text\n\t\t\t\t\tdy={dy} x={x} y={y}\n\t\t\t\t\tfill={tickStroke}\n\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\tfontFamily={fontFamily}\n\t\t\t\t\ttextAnchor={textAnchor}>\n\t\t\t\t\t{this.props.children}\n\t\t\t\t</text>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nTick.propTypes = {\n\ttransform: PropTypes.arrayOf(Number),\n\ttickStroke: PropTypes.string,\n\ttickStrokeOpacity: PropTypes.number,\n\ttextAnchor: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tfontFamily: PropTypes.string,\n\tx: PropTypes.number,\n\ty: PropTypes.number,\n\tx2: PropTypes.number,\n\ty2: PropTypes.number,\n\tdy: PropTypes.string,\n\tchildren: PropTypes.node.isRequired,\n};\n\nTick.drawOnCanvasStatic = (tick, ctx, result) => {\n\tvar { scale, tickTransform, canvas_dy, x, y, x2, y2, format } = result;\n\n\tvar origin = tickTransform(scale, tick);\n\n\tctx.beginPath();\n\n\tctx.moveTo(origin[0], origin[1]);\n\tctx.lineTo(origin[0] + x2, origin[1] + y2);\n\tctx.stroke();\n\n\tctx.fillText(format(tick), origin[0] + x, origin[1] + y + canvas_dy);\n};\n\nclass AxisTicks extends Component {\n\trender() {\n\t\tvar result = AxisTicks.helper(this.props, this.props.scale);\n\t\tvar { ticks, scale, tickTransform, tickStroke, tickStrokeOpacity, dy, x, y, x2, y2, textAnchor, fontSize, fontFamily, format } = result;\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t{ticks.map((tick, idx) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Tick key={idx} transform={tickTransform(scale, tick)}\n\t\t\t\t\t\t\ttickStroke={tickStroke} tickStrokeOpacity={tickStrokeOpacity}\n\t\t\t\t\t\t\tdy={dy} x={x} y={y}\n\t\t\t\t\t\t\tx2={x2} y2={y2} textAnchor={textAnchor}\n\t\t\t\t\t\t\tfontSize={fontSize} fontFamily={fontFamily}>{format(tick)}</Tick>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nAxisTicks.propTypes = {\n\torient: PropTypes.oneOf([\"top\", \"bottom\", \"left\", \"right\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\tticks: PropTypes.array,\n\ttickValues: PropTypes.array,\n\tscale: PropTypes.func.isRequired,\n\ttickStroke: PropTypes.string,\n\ttickStrokeOpacity: PropTypes.number,\n};\n\nAxisTicks.defaultProps = {\n\tinnerTickSize: 5,\n\ttickPadding: 6,\n\tticks: [10],\n\ttickStroke: \"#000\",\n\ttickStrokeOpacity: 1,\n};\n\nAxisTicks.helper = (props, scale) => {\n\tvar { orient, innerTickSize, tickFormat, tickPadding, fontSize, fontFamily } = props;\n\tvar { ticks: tickArguments, tickValues, tickStroke, tickStrokeOpacity } = props;\n\n\tvar ticks = isNotDefined(tickValues)\n\t\t? (scale.ticks\n\t\t\t? scale.ticks.apply(scale, tickArguments)\n\t\t\t: scale.domain())\n\t\t: tickValues;\n\n\tvar baseFormat = scale.tickFormat\n\t\t\t? scale.tickFormat.apply(scale, tickArguments)\n\t\t\t: identity;\n\n\tvar format = isNotDefined(tickFormat)\n\t\t? baseFormat\n\t\t: d => baseFormat(d) ? tickFormat(d) : \"\";\n\n\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tvar tickSpacing = Math.max(innerTickSize, 0) + tickPadding;\n\n\tvar tickTransform, x, y, x2, y2, dy, canvas_dy, textAnchor;\n\n\tif (orient === \"bottom\" || orient === \"top\") {\n\t\ttickTransform = tickTransform_svg_axisX;\n\t\tx2 = 0;\n\t\ty2 = sign * innerTickSize;\n\t\tx = 0;\n\t\ty = sign * tickSpacing;\n\t\tdy = sign < 0 ? \"0em\" : \".71em\";\n\t\tcanvas_dy = sign < 0 ? 0 : (fontSize * .71);\n\t\ttextAnchor = \"middle\";\n\t} else {\n\t\ttickTransform = tickTransform_svg_axisY;\n\t\tx2 = sign * innerTickSize;\n\t\ty2 = 0;\n\t\tx = sign * tickSpacing;\n\t\ty = 0;\n\t\tdy = \".32em\";\n\t\tcanvas_dy = (fontSize * .32);\n\t\ttextAnchor = sign < 0 ? \"end\" : \"start\";\n\t}\n\treturn { ticks, scale, tickTransform, tickStroke, tickStrokeOpacity, dy, canvas_dy, x, y, x2, y2, textAnchor, fontSize, fontFamily, format };\n};\n\nAxisTicks.drawOnCanvasStatic = (props, ctx, xScale, yScale) => {\n\tprops = { ...AxisTicks.defaultProps, ...props };\n\n\tvar { orient } = props;\n\tvar xAxis = (orient === \"bottom\" || orient === \"top\");\n\n\tvar result = AxisTicks.helper(props, xAxis ? xScale : yScale);\n\n\tvar { tickStroke, tickStrokeOpacity, textAnchor, fontSize, fontFamily } = result;\n\n\tctx.strokeStyle = hexToRGBA(tickStroke, tickStrokeOpacity);\n\n\tctx.font = `${ fontSize }px ${fontFamily}`;\n\tctx.fillStyle = tickStroke;\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\t// ctx.textBaseline = 'middle';\n\n\tresult.ticks.forEach((tick) => {\n\t\tTick.drawOnCanvasStatic(tick, ctx, result);\n\t});\n};\n\nexport default AxisTicks;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/axes/AxisTicks.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { first, last, hexToRGBA } from \"../utils\";\n\n/*\nfunction d3_scaleExtent(domain) {\n\tvar start = domain[0], stop = domain[domain.length - 1];\n\treturn start < stop ? [start, stop] : [stop, start];\n}\n\nfunction d3_scaleRange(scale) {\n\treturn scale.rangeExtent ? scale.rangeExtent() : d3_scaleExtent(scale.range());\n}\n*/\nclass AxisLine extends Component {\n\trender() {\n\t\tvar { orient, outerTickSize, fill, stroke, strokeWidth, className, shapeRendering, opacity, range } = this.props;\n\t\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\n\t\t// var range = d3_scaleRange(scale);\n\n\t\tvar d;\n\n\t\tif (orient === \"bottom\" || orient === \"top\") {\n\t\t\td = \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize;\n\t\t} else {\n\t\t\td = \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize;\n\t\t}\n\n\t\treturn (\n\t\t\t<path\n\t\t\t\tclassName={className}\n\t\t\t\tshapeRendering={shapeRendering}\n\t\t\t\td={d}\n\t\t\t\tfill={fill}\n\t\t\t\topacity={opacity}\n\t\t\t\tstroke={stroke}\n\t\t\t\tstrokeWidth={strokeWidth} >\n\t\t\t</path>\n\t\t);\n\t}\n}\n\nAxisLine.propTypes = {\n\tclassName: PropTypes.string,\n\tshapeRendering: PropTypes.string,\n\torient: PropTypes.string.isRequired,\n\tscale: PropTypes.func.isRequired,\n\touterTickSize: PropTypes.number,\n\tfill: PropTypes.string,\n\tstroke: PropTypes.string,\n\tstrokeWidth: PropTypes.number,\n\topacity: PropTypes.number,\n\trange: PropTypes.array,\n};\n\nAxisLine.defaultProps = {\n\tclassName: \"react-stockcharts-axis-line\",\n\tshapeRendering: \"crispEdges\",\n\touterTickSize: 0,\n\tfill: \"none\",\n\tstroke: \"#000000\",\n\tstrokeWidth: 1,\n\topacity: 1,\n};\n\nAxisLine.drawOnCanvasStatic = (props, ctx/* , xScale, yScale*/) => {\n\tprops = { ...AxisLine.defaultProps, ...props };\n\n\tvar { orient, outerTickSize, stroke, strokeWidth, opacity, range } = props;\n\n\tvar sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tvar xAxis = (orient === \"bottom\" || orient === \"top\");\n\n\t// var range = d3_scaleRange(xAxis ? xScale : yScale);\n\n\tctx.lineWidth = strokeWidth;\n\tctx.strokeStyle = hexToRGBA(stroke, opacity);\n\n\tctx.beginPath();\n\n\tif (xAxis) {\n\t\tctx.moveTo(first(range), sign * outerTickSize);\n\t\tctx.lineTo(first(range), 0);\n\t\tctx.lineTo(last(range), 0);\n\t\tctx.lineTo(last(range), sign * outerTickSize);\n\t} else {\n\t\tctx.moveTo(sign * outerTickSize, first(range));\n\t\tctx.lineTo(0, first(range));\n\t\tctx.lineTo(0, last(range));\n\t\tctx.lineTo(sign * outerTickSize, last(range));\n\t}\n\tctx.stroke();\n\n\t// ctx.strokeStyle = strokeStyle;\n};\n\nexport default AxisLine;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/axes/AxisLine.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\n\nimport Axis from \"./Axis\";\nimport PureComponent from \"../utils/PureComponent\";\n\nclass YAxis extends PureComponent {\n\trender() {\n\t\tvar { axisAt, tickFormat, ticks, percentScale, tickValues } = this.props;\n\t\tvar { chartConfig } = this.context;\n\t\tvar yScale = (percentScale) ? chartConfig.yScale.copy().domain([0, 1]) : chartConfig.yScale;\n\n\t\ttickValues = tickValues || chartConfig.yTicks;\n\n\t\tvar axisLocation;\n\n\t\tif (axisAt === \"left\") axisLocation = 0;\n\t\telse if (axisAt === \"right\") axisLocation = this.context.width;\n\t\telse if (axisAt === \"middle\") axisLocation = (this.context.width) / 2;\n\t\telse axisLocation = axisAt;\n\n\t\treturn (\n\t\t\t<Axis {...this.props}\n\t\t\t\ttransform={[axisLocation, 0]}\n\t\t\t\trange={[0, this.context.height]}\n\t\t\t\ttickFormat={tickFormat} ticks={[ticks]} tickValues={tickValues}\n\t\t\t\tscale={yScale} />\n\t\t);\n\t}\n}\n\nYAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"left\", \"right\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"left\", \"right\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tpercentScale: PropTypes.bool,\n\tshowTicks: PropTypes.bool,\n\tshowDomain: PropTypes.bool,\n\tclassName: PropTypes.string,\n};\nYAxis.defaultProps = {\n\tshowGrid: false,\n\tshowDomain: false,\n\tclassName: \"react-stockcharts-y-axis\",\n\tticks: 10,\n};\nYAxis.contextTypes = {\n\tchartConfig: PropTypes.object.isRequired,\n\txScale: PropTypes.func.isRequired,\n\twidth: PropTypes.number.isRequired,\n};\n\nexport default YAxis;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/axes/YAxis.jsx\n **/","import MACDTooltip from \"./MACDTooltip\";\nimport TooltipContainer from \"./TooltipContainer\";\nimport OHLCTooltip from \"./OHLCTooltip\";\nimport SingleValueTooltip from \"./SingleValueTooltip\";\nimport MovingAverageTooltip from \"./MovingAverageTooltip\";\nimport BollingerBandTooltip from \"./BollingerBandTooltip\";\nimport RSITooltip from \"./RSITooltip\";\nimport StochasticTooltip from \"./StochasticTooltip\";\nimport HoverTooltip from \"./HoverTooltip\";\n\nexport {\n\tMACDTooltip,\n\tTooltipContainer,\n\tOHLCTooltip,\n\tSingleValueTooltip,\n\tMovingAverageTooltip,\n\tBollingerBandTooltip,\n\tRSITooltip,\n\tStochasticTooltip,\n\tHoverTooltip\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/index.js\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nimport { first } from \"../utils\";\n\nclass MACDTooltip extends Component {\n\trender() {\n\n\t\tvar { forChart, onClick, fontFamily, fontSize, calculator, displayFormat } = this.props;\n\t\tvar { chartConfig, currentItem, width, height } = this.context;\n\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar config = first(chartConfig.filter(each => each.id === forChart));\n\n\t\tvar macdValue = currentItem && yAccessor(currentItem);\n\n\t\tvar macd = (macdValue && macdValue.macd && displayFormat(macdValue.macd)) || \"n/a\";\n\t\tvar signal = (macdValue && macdValue.signal && displayFormat(macdValue.signal)) || \"n/a\";\n\t\tvar divergence = (macdValue && macdValue.divergence && displayFormat(macdValue.divergence)) || \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar [ox, oy] = config.origin;\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ ox + x }, ${ oy + y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>MACD (</ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().macd}>{calculator.slow()}</tspan>\n\t\t\t\t\t\t<ToolTipTSpanLabel>, </ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().macd}>{calculator.fast()}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel><tspan fill={calculator.stroke().macd}>{macd}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> Signal (</ToolTipTSpanLabel>\n\t\t\t\t\t\t<tspan fill={calculator.stroke().signal}>{calculator.signal()}</tspan>\n\t\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel><tspan fill={calculator.stroke().signal}>{signal}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> Divergence: </ToolTipTSpanLabel><tspan fill={calculator.fill().divergence}>{divergence}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nMACDTooltip.contextTypes = {\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nMACDTooltip.propTypes = {\n\tforChart: PropTypes.number.isRequired,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\tonClick: PropTypes.func,\n};\n\nMACDTooltip.defaultProps = {\n\torigin: [0, 0],\n\tdisplayFormat: d3.format(\".2f\"),\n};\n\nexport default MACDTooltip;\n// export default MACDTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/MACDTooltip.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass ToolTipText extends Component {\n\trender() {\n\t\treturn <text\n\t\t\tfontFamily={this.props.fontFamily}\n\t\t\tfontSize={this.props.fontSize}\n\t\t\t{...this.props}\n\t\t\tclassName=\"react-stockcharts-tooltip\">{this.props.children}</text>;\n\t}\n}\n\nToolTipText.propTypes = {\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tchildren: PropTypes.node.isRequired,\n};\n\nToolTipText.defaultProps = {\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 11,\n};\n\nexport default ToolTipText;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/ToolTipText.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass ToolTipTSpanLabel extends Component {\n\trender() {\n\t\treturn <tspan className=\"react-stockcharts-tooltip-label\" fill=\"#4682B4\" {...this.props}>{this.props.children}</tspan>;\n\t}\n}\n\nToolTipTSpanLabel.propTypes = {\n\tchildren: PropTypes.node.isRequired,\n};\n\nexport default ToolTipTSpanLabel;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/ToolTipTSpanLabel.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes } from \"react\";\n\nimport PureComponent from \"../utils/PureComponent\";\n\nclass TooltipContainer extends PureComponent {\n\trender() {\n\t\treturn (\n\t\t\t<g className=\"react-stockcharts-toottip-hover\">\n\t\t\t\t{this.props.children}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nTooltipContainer.contextTypes = {\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n};\n\nexport default TooltipContainer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/TooltipContainer.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { first, isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass OHLCTooltip extends Component {\n\trender() {\n\t\tvar { forChart, onClick, xDisplayFormat, fontFamily, fontSize, accessor, volumeFormat, ohlcFormat } = this.props;\n\n\t\tvar displayDate, open, high, low, close, volume;\n\n\t\tdisplayDate = open = high = low = close = volume = \"n/a\";\n\n\t\tvar { chartConfig, currentItem, width, height } = this.context;\n\t\tvar config = first(chartConfig.filter(each => each.id === forChart));\n\n\t\tif (isDefined(currentItem)\n\t\t\t\t&& isDefined(accessor(currentItem))\n\t\t\t\t&& isDefined(accessor(currentItem).close)) {\n\t\t\tvar item = accessor(currentItem);\n\t\t\tvolume = volumeFormat(item.volume);\n\n\t\t\tdisplayDate = xDisplayFormat(item.date);\n\t\t\topen = ohlcFormat(item.open);\n\t\t\thigh = ohlcFormat(item.high);\n\t\t\tlow = ohlcFormat(item.low);\n\t\t\tclose = ohlcFormat(item.close);\n\t\t}\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar [ox, oy] = config.origin;\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ ox + x }, ${ oy + y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label\" x={0} dy=\"5\">Date: </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan key=\"value\">{displayDate}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_O\"> O: </ToolTipTSpanLabel><tspan key=\"value_O\">{open}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_H\"> H: </ToolTipTSpanLabel><tspan key=\"value_H\">{high}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_L\"> L: </ToolTipTSpanLabel><tspan key=\"value_L\">{low}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_C\"> C: </ToolTipTSpanLabel><tspan key=\"value_C\">{close}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel key=\"label_Vol\"> Vol: </ToolTipTSpanLabel><tspan key=\"value_Vol\">{volume}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nOHLCTooltip.contextTypes = {\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nOHLCTooltip.propTypes = {\n\tforChart: PropTypes.number.isRequired,\n\taccessor: PropTypes.func.isRequired,\n\txDisplayFormat: PropTypes.func.isRequired,\n\tohlcFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tvolumeFormat: PropTypes.func,\n};\n\nOHLCTooltip.defaultProps = {\n\taccessor: (d) => { return { date: d.date, open: d.open, high: d.high, low: d.low, close: d.close, volume: d.volume }; },\n\txDisplayFormat: d3.time.format(\"%Y-%m-%d\"),\n\tvolumeFormat: d3.format(\".4s\"),\n\tohlcFormat: d3.format(\".2f\"),\n\torigin: [0, 0],\n};\n\nexport default OHLCTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/OHLCTooltip.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\nimport { first, isDefined, identity, noop } from \"../utils\";\n\nclass SingleValueTooltip extends Component {\n\trender() {\n\n\t\tvar { forChart, onClick, fontFamily, fontSize, labelStroke, valueStroke } = this.props;\n\t\tvar { xDisplayFormat, yDisplayFormat, xLabel, yLabel, xAccessor, yAccessor } = this.props;\n\n\t\tvar { chartConfig, currentItem, width, height } = this.context;\n\n\t\tvar config = first(chartConfig.filter(each => each.id === forChart));\n\n\t\tvar xDisplayValue = isDefined(currentItem) && isDefined(xAccessor(currentItem)) ? xDisplayFormat(xAccessor(currentItem)) : \"n/a\";\n\t\tvar yDisplayValue = isDefined(currentItem) && isDefined(yAccessor(currentItem)) ? yDisplayFormat(yAccessor(currentItem)) : \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar [ox, oy] = config.origin;\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ ox + x }, ${ oy + y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t{ xLabel ? <ToolTipTSpanLabel x={0} dy=\"5\" fill={labelStroke}>{`${xLabel}: `}</ToolTipTSpanLabel> : null}\n\t\t\t\t\t{ xLabel ? <tspan fill={valueStroke}>{`${xDisplayValue} `}</tspan> : null}\n\t\t\t\t\t<ToolTipTSpanLabel fill={labelStroke}>{`${yLabel}: `}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={valueStroke} >{yDisplayValue}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nSingleValueTooltip.contextTypes = {\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nSingleValueTooltip.propTypes = {\n\tforChart: PropTypes.number.isRequired,\n\txDisplayFormat: PropTypes.func,\n\tyDisplayFormat: PropTypes.func.isRequired,\n\txLabel: PropTypes.string,\n\tyLabel: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func\n\t]).isRequired,\n\tlabelStroke: PropTypes.string.isRequired,\n\tvalueStroke: PropTypes.string,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tyAccessor: PropTypes.func,\n};\n\nSingleValueTooltip.defaultProps = {\n\torigin: [0, 0],\n\tlabelStroke: \"#4682B4\",\n\tvalueStroke: \"#000000\",\n\tyDisplayFormat: d3.format(\".2f\"),\n\txAccessor: noop,\n\tyAccessor: identity,\n};\n\nexport default SingleValueTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/SingleValueTooltip.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nimport { first } from \"../utils\";\n\nclass SingleMAToolTip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t}\n\thandleClick(e) {\n\t\tvar { onClick, forChart, options } = this.props;\n\t\tonClick({ chartId: forChart, ...options }, e);\n\t}\n\trender() {\n\t\tvar translate = \"translate(\" + this.props.origin[0] + \", \" + this.props.origin[1] + \")\";\n\t\treturn (\n\t\t\t<g transform={translate}>\n\t\t\t\t<line x1={0} y1={2} x2={0} y2={28} stroke={this.props.color} strokeWidth=\"4px\"/>\n\t\t\t\t<ToolTipText x={5} y={11}\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{this.props.displayName}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan x=\"5\" dy=\"15\">{this.props.value}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t\t<rect x={0} y={0} width={55} height={30}\n\t\t\t\t\tonClick={this.handleClick}\n\t\t\t\t\tfill=\"none\" stroke=\"none\" />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nSingleMAToolTip.propTypes = {\n\torigin: PropTypes.array.isRequired,\n\tcolor: PropTypes.string.isRequired,\n\tdisplayName: PropTypes.string.isRequired,\n\tvalue: PropTypes.string.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tforChart: PropTypes.number.isRequired,\n\toptions: PropTypes.object.isRequired,\n};\n\nclass MovingAverageTooltip extends Component {\n\trender() {\n\t\tvar { chartConfig, currentItem, height } = this.context;\n\n\t\tvar { className, onClick, forChart, width, fontFamily, fontSize, origin: originProp, calculators, displayFormat } = this.props;\n\n\t\tvar config = first(chartConfig.filter(each => each.id === forChart));\n\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar [ox, oy] = config.origin;\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ ox + x }, ${ oy + y })`} className={className}>\n\t\t\t\t{calculators\n\t\t\t\t\t.map((each, idx) => {\n\t\t\t\t\t\tvar yValue = currentItem && each.accessor()(currentItem);\n\t\t\t\t\t\tvar options = {\n\t\t\t\t\t\t\tmaType: each.type(),\n\t\t\t\t\t\t\tperiod: each.windowSize(),\n\t\t\t\t\t\t\tsource: each.source(),\n\t\t\t\t\t\t\techo: each.echo()\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar yDisplayValue = yValue ? displayFormat(yValue) : \"n/a\";\n\t\t\t\t\t\treturn <SingleMAToolTip\n\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\torigin={[width * idx, 0]}\n\t\t\t\t\t\t\tcolor={each.stroke()}\n\t\t\t\t\t\t\tdisplayName={each.tooltipLabel()}\n\t\t\t\t\t\t\tvalue={yDisplayValue}\n\t\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\t\tforChart={forChart} onClick={onClick}\n\t\t\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize} />;\n\t\t\t\t\t})}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nMovingAverageTooltip.contextTypes = {\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n\theight: PropTypes.number.isRequired,\n};\n\nMovingAverageTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\tforChart: PropTypes.number.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.array.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\twidth: PropTypes.number,\n\tcalculators: PropTypes.array.isRequired,\n\tforDataSeries: PropTypes.arrayOf(PropTypes.number),\n};\n\nMovingAverageTooltip.defaultProps = {\n\tclassName: \"react-stockcharts-moving-average-tooltip\",\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 10],\n\twidth: 65,\n};\n\nexport default MovingAverageTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/MovingAverageTooltip.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport { first, isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass BollingerBandTooltip extends Component {\n\trender() {\n\t\tvar { onClick, forChart, displayFormat, calculator } = this.props;\n\n\t\tvar { chartConfig, currentItem, width, height } = this.context;\n\t\tvar config = first(chartConfig.filter(each => each.id === forChart));\n\n\t\tvar top, middle, bottom;\n\t\ttop = middle = bottom = \"n/a\";\n\t\tvar accessor = calculator.accessor();\n\n\t\tif (isDefined(currentItem)\n\t\t\t\t&& isDefined(accessor(currentItem))) {\n\t\t\tvar item = accessor(currentItem);\n\t\t\ttop = displayFormat(item.top);\n\t\t\tmiddle = displayFormat(item.middle);\n\t\t\tbottom = displayFormat(item.bottom);\n\t\t}\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar [ox, oy] = config.origin;\n\t\tvar tooltipLabel = d3.functor(calculator.tooltipLabel());\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ ox + x }, ${ oy + y })`}\n\t\t\t\t\tclassName={this.props.className} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={this.props.fontFamily} fontSize={this.props.fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{tooltipLabel()}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan>{`${ top }, ${ middle }, ${ bottom }`}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nBollingerBandTooltip.contextTypes = {\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\nBollingerBandTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\tforChart: PropTypes.number.isRequired,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\torigin: PropTypes.array.isRequired,\n\tonClick: PropTypes.func,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tforDataSeries: PropTypes.number,\n};\n\nBollingerBandTooltip.defaultProps = {\n\tclassName: \"react-stockcharts-bollingerband-tooltip\",\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 10],\n};\n\nexport default BollingerBandTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/BollingerBandTooltip.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport { first, isDefined } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass RSITooltip extends Component {\n\trender() {\n\n\t\tvar { forChart, onClick, fontFamily, fontSize, calculator, displayFormat } = this.props;\n\t\tvar { chartConfig, currentItem, width, height } = this.context;\n\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar config = first(chartConfig.filter(each => each.id === forChart));\n\n\t\tvar rsi = isDefined(currentItem) && yAccessor(currentItem);\n\t\tvar value = (rsi && displayFormat(rsi)) || \"n/a\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar [ox, oy] = config.origin;\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ ox + x }, ${ oy + y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0}\n\t\t\t\t\tfontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{calculator.tooltipLabel()}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan>{value}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nRSITooltip.contextTypes = {\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nRSITooltip.propTypes = {\n\tforChart: PropTypes.number.isRequired,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n};\n\nRSITooltip.defaultProps = {\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 0]\n};\n\nexport default RSITooltip;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/RSITooltip.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\n\nimport { first } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass StochasticTooltip extends Component {\n\trender() {\n\t\tvar { forChart, onClick, fontFamily, fontSize, calculator, displayFormat, children } = this.props;\n\t\tvar { chartConfig, currentItem, width, height } = this.context;\n\n\t\tvar yAccessor = calculator.accessor();\n\t\tvar stroke = calculator.stroke();\n\t\tvar config = first(chartConfig.filter(each => each.id === forChart));\n\t\tvar stochastic = currentItem && yAccessor(currentItem);\n\n\t\tvar K = (stochastic && stochastic.K && displayFormat(stochastic.K)) || \"n/a\";\n\t\tvar D = (stochastic && stochastic.D && displayFormat(stochastic.D)) || \"n/a\";\n\t\tvar label = children || \"Stochastic\";\n\n\t\tvar { origin: originProp } = this.props;\n\t\tvar origin = d3.functor(originProp);\n\t\tvar [x, y] = origin(width, height);\n\t\tvar [ox, oy] = config.origin;\n\n\t\treturn (\n\t\t\t<g transform={`translate(${ ox + x }, ${ oy + y })`} onClick={onClick}>\n\t\t\t\t<ToolTipText x={0} y={0} fontFamily={fontFamily} fontSize={fontSize}>\n\t\t\t\t\t<ToolTipTSpanLabel>{`${ label } %K(`}</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.K}>{`${ calculator.windowSize() }, ${ calculator.kWindowSize() }`}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.K}>{K}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel> %D (</ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.D}>{calculator.dWindowSize()}</tspan>\n\t\t\t\t\t<ToolTipTSpanLabel>): </ToolTipTSpanLabel>\n\t\t\t\t\t<tspan fill={stroke.D}>{D}</tspan>\n\t\t\t\t</ToolTipText>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nStochasticTooltip.contextTypes = {\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n};\n\nStochasticTooltip.propTypes = {\n\tforChart: PropTypes.number.isRequired,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tcalculator: PropTypes.func.isRequired,\n\tdisplayFormat: PropTypes.func.isRequired,\n\tchildren: PropTypes.node.isRequired,\n};\n\nStochasticTooltip.defaultProps = {\n\tdisplayFormat: d3.format(\".2f\"),\n\torigin: [0, 0]\n};\n\nexport default StochasticTooltip;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/StochasticTooltip.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport { first, last, isDefined, isNotDefined, hexToRGBA } from \"../utils\";\nimport pure from \"../pure\";\n\nclass HoverTooltip extends Component {\n\tcomponentDidMount() {\n\t\tvar { getCanvasContexts, chartCanvasType } = this.props;\n\n\t\tif (chartCanvasType !== \"svg\" && isDefined(getCanvasContexts)) {\n\t\t\tvar contexts = getCanvasContexts();\n\n\t\t\tif (contexts) drawOnCanvas(contexts.mouseCoord, this.props);\n\t\t}\n\t}\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t}\n\tcomponentWillMount() {\n\t\tthis.componentWillReceiveProps(this.props);\n\t}\n\tcomponentWillReceiveProps(nextProps) {\n\t\tvar draw = drawOnCanvasStatic.bind(null, nextProps);\n\n\t\tvar temp = nextProps.getAllCanvasDrawCallback().filter(each => each.type === \"mouse\").filter(each => each.subType === \"HoverTooltip\");\n\t\tif (temp.length === 0) {\n\t\t\tnextProps.callbackForCanvasDraw({\n\t\t\t\ttype: \"mouse\",\n\t\t\t\tsubType: \"HoverTooltip\",\n\t\t\t\tdraw: draw,\n\t\t\t});\n\t\t} else {\n\t\t\tnextProps.callbackForCanvasDraw(temp[0], {\n\t\t\t\ttype: \"mouse\",\n\t\t\t\tsubType: \"HoverTooltip\",\n\t\t\t\tdraw: draw,\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tvar { backgroundShapeSVG } = this.props;\n\t\tvar { chartConfig, currentItem, height, mouseXY } = this.props;\n\t\tvar { chartCanvasType, show, xScale, bgFill, bgOpacity } = this.props;\n\n\t\tif (chartCanvasType !== \"svg\") return null;\n\t\tvar pointer = helper(this.props, show, xScale, mouseXY, chartConfig, currentItem);\n\n\t\tif (isNotDefined(pointer)) return null;\n\t\tvar { x, y, content, centerX, drawWidth } = pointer;\n\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<rect x={centerX - drawWidth / 2} y={0} width={drawWidth} height={height} fill={bgFill} opacity={bgOpacity} />\n\t\t\t\t<g className=\"react-stockcharts-tooltip-content\" transform={`translate(${x}, ${y})`}>\n\t\t\t\t\t{backgroundShapeSVG(this.props)}\n\t\t\t\t\t{tooltipSVG(this.props, content)}\n\t\t\t\t</g>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nHoverTooltip.propTypes = {\n\t// forChart: PropTypes.number.isRequired,\n\tgetCanvasContexts: PropTypes.func,\n\tchartCanvasType: PropTypes.string,\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\tmouseXY: PropTypes.array,\n\tshow: PropTypes.bool,\n\txScale: PropTypes.func.isRequired,\n\n\n\tbackgroundShapeSVG: PropTypes.func,\n\tbgwidth: PropTypes.number.isRequired,\n\tbgheight: PropTypes.number.isRequired,\n\tbgFill: PropTypes.string.isRequired,\n\tbgOpacity: PropTypes.number.isRequired,\n\ttooltipContent: PropTypes.oneOfType([\n\t\tPropTypes.object,\n\t\tPropTypes.func\n\t]).isRequired,\n\torigin: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.func\n\t]).isRequired,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n};\n\n\nHoverTooltip.defaultProps = {\n\tbgwidth: 150,\n\tbgheight: 50,\n\ttooltipSVG: tooltipSVG,\n\ttooltipCanvas: tooltipCanvas,\n\torigin: origin,\n\tfill: \"#D4E2FD\",\n\tbgFill: \"#D4E2FD\",\n\tbgOpacity: 0.5,\n\tstroke: \"#9B9BFF\",\n\tfontFill: \"#000000\",\n\topacity: 0.8,\n\tbackgroundShapeSVG: backgroundShapeSVG,\n\tbackgroundShapeCanvas: backgroundShapeCanvas,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n};\n\nconst PADDING = 5;\n\n\n/* eslint-disable react/prop-types */\nfunction backgroundShapeSVG({ bgheight, bgwidth, fill, stroke, opacity }) {\n\treturn <rect height={bgheight} width={bgwidth} fill={fill} opacity={opacity} stroke={stroke} />;\n}\n\nfunction tooltipSVG({ fontFamily, fontSize, fontFill }, content) {\n\tvar tspans = [];\n\tfor (var i = 0; i < content.y.length; i++) {\n\t\tlet y = content.y[i];\n\t\ttspans.push(<tspan key={`L-${i}`} x={10} dy={fontSize} fill={y.stroke}>{y.label}</tspan>);\n\t\ttspans.push(<tspan key={`${i}`}>: </tspan>);\n\t\ttspans.push(<tspan key={`V-${i}`}>{y.value}</tspan>);\n\t}\n\treturn <text fontFamily={fontFamily} fontSize={fontSize} fill={fontFill}>\n\t\t<tspan x={10} y={15}>{content.x}</tspan>\n\t\t{tspans}\n\t</text>;\n}\n/* eslint-enable react/prop-types */\n\nfunction backgroundShapeCanvas({ bgheight, bgwidth, fill, stroke, opacity }, ctx) {\n\tctx.fillStyle = hexToRGBA(fill, opacity);\n\tctx.strokeStyle = stroke;\n\tctx.beginPath();\n\tctx.rect(0, 0, bgwidth, bgheight);\n\tctx.fill();\n\tctx.stroke();\n}\n\nfunction tooltipCanvas({ fontFamily, fontSize, fontFill }, content, ctx) {\n\tctx.font = `${fontSize}px ${fontFamily}`;\n\tctx.fillStyle = fontFill;\n\tctx.textAlign = \"left\";\n\n\tconst X = 10;\n\tconst Y = 15;\n\tctx.fillText(content.x, X, Y);\n\n\tfor (var i = 0; i < content.y.length; i++) {\n\t\tlet y = content.y[i];\n\t\tlet textY = Y + (fontSize * (i + 1));\n\t\tctx.fillStyle = y.stroke || fontFill;\n\t\tctx.fillText(y.label, X, textY);\n\n\t\tctx.fillStyle = fontFill;\n\t\tctx.fillText(\": \" + y.value, X + ctx.measureText(y.label).width, textY);\n\t}\n}\n\nfunction origin({ mouseXY, bgheight, bgwidth, xAccessor, currentItem, xScale }) {\n\tvar y = last(mouseXY);\n\n\tvar snapX = xScale(xAccessor(currentItem));\n\tvar originX = (snapX - bgwidth - PADDING * 2 < 0) ? snapX + PADDING : snapX - bgwidth - PADDING;\n\t// originX = (x - width - PADDING * 2 < 0) ? x + PADDING : x - width - PADDING;\n\n\tvar originY = y - bgheight / 2;\n\treturn [originX, originY];\n}\n\nfunction drawOnCanvas(canvasContext, props) {\n\tvar { mouseXY, chartConfig, currentItem, xScale, show } = props;\n\n\t// console.log(props.\n\tdrawOnCanvasStatic(props, canvasContext, show, xScale, mouseXY, null, chartConfig, currentItem);\n}\n\nfunction drawOnCanvasStatic(props, ctx, show, xScale, mouseXY, currentCharts, chartConfig, currentItem) {\n\n\tvar { height, margin } = props;\n\tvar { bgFill, bgOpacity } = props;\n\tvar { backgroundShapeCanvas, tooltipCanvas } = props;\n\n\tvar pointer = helper(props, show, xScale, mouseXY, chartConfig, currentItem);\n\n\tif (!pointer) return;\n\n\tvar originX = 0.5 + margin.left;\n\tvar originY = 0.5 + margin.top;\n\n\tctx.save();\n\n\tctx.setTransform(1, 0, 0, 1, 0, 0);\n\tctx.translate(originX, originY);\n\n\tvar { x, y, content, centerX, drawWidth } = pointer;\n\n\tctx.fillStyle = hexToRGBA(bgFill, bgOpacity);\n\tctx.beginPath();\n\tctx.rect(centerX - drawWidth / 2, 0, drawWidth, height);\n\tctx.fill();\n\n\tctx.translate(x, y);\n\tbackgroundShapeCanvas(props, ctx);\n\ttooltipCanvas(props, content, ctx);\n\n\tctx.restore();\n}\n\nfunction helper(props, show, xScale, mouseXY, chartConfig, currentItem) {\n\tvar { origin } = props;\n\tvar { tooltipContent } = props;\n\tvar { xAccessor, displayXAccessor, plotData } = props;\n\n\tif (!show || isNotDefined(currentItem)) return;\n\n\tvar xValue = xAccessor(currentItem);\n\n\tif (!show || isNotDefined(xValue)) return;\n\n\tvar [x, y] = origin({ ...props, show, xScale, mouseXY, chartConfig, currentItem });\n\n\tvar content = tooltipContent({ currentItem, xAccessor: displayXAccessor });\n\tvar centerX = xScale(xValue);\n\tvar drawWidth = Math.abs(xScale(xAccessor(last(plotData))) - xScale(xAccessor(first(plotData)))) / (plotData.length - 1);\n\n\treturn { x, y, content, centerX, drawWidth };\n}\n\nexport default pure(HoverTooltip, {\n\tmargin: PropTypes.object.isRequired,\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\n\tgetCanvasContexts: PropTypes.func,\n\tgetAllCanvasDrawCallback: PropTypes.func,\n\tchartCanvasType: PropTypes.string,\n\tchartConfig: PropTypes.array.isRequired,\n\tcurrentItem: PropTypes.object,\n\tmouseXY: PropTypes.array,\n\txScale: PropTypes.func.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\tshow: PropTypes.bool,\n\tplotData: PropTypes.array,\n\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/tooltip/HoverTooltip.jsx\n **/","\nimport TypeChooser from \"./TypeChooser\";\nimport ChartWidthMixin from \"./ChartWidthMixin\";\nimport SaveChartAsImage from \"./SaveChartAsImage\";\nimport fitWidth from \"./fitWidth\";\n\nexport {\n\tTypeChooser,\n\tChartWidthMixin,\n\tSaveChartAsImage,\n\tfitWidth\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/helper/index.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nclass TypeChooser extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\ttype: this.props.type\n\t\t};\n\t\tthis.handleTypeChange = this.handleTypeChange.bind(this);\n\t}\n\thandleTypeChange(e) {\n\t\t// console.log(e.target.value);\n\t\tthis.setState({\n\t\t\ttype: e.target.value\n\t\t});\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<label forHtml=\"type\">Type: </label>\n\t\t\t\t<select name=\"type\" id=\"type\" onChange={this.handleTypeChange} value={this.state.type} >\n\t\t\t\t\t<option value=\"svg\">svg</option>\n\t\t\t\t\t<option value=\"hybrid\">canvas + svg</option>\n\t\t\t\t</select>\n\t\t\t\t{this.props.children(this.state.type)}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nTypeChooser.propTypes = {\n\ttype: PropTypes.oneOf([\"svg\", \"hybrid\"]),\n\tchildren: PropTypes.func.isRequired,\n};\n\nTypeChooser.defaultProps = {\n\ttype: \"hybrid\"\n};\n\nexport default TypeChooser;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/helper/TypeChooser.jsx\n **/","\"use strict\";\n\nimport ReactDOM from \"react-dom\";\n\nvar ChartWidthMixin = {\n\thandleWindowResize() {\n\t\tvar el = ReactDOM.findDOMNode(this);\n\t\t// console.log(this.refs, el, this);\n\n\t\tvar w = el.parentNode.clientWidth;\n\t\t// console.log(\"width = \", w);\n\t\tthis.setState({\n\t\t\twidth: w\n\t\t});\n\t},\n\tcomponentWillUnmount() {\n\t\t// console.log(\"unmounting...\")\n\t\twindow.removeEventListener(\"resize\", this.handleWindowResize);\n\t},\n\tcomponentDidMount() {\n\t\twindow.addEventListener(\"resize\", this.handleWindowResize);\n\t\tvar el = ReactDOM.findDOMNode(this);\n\t\t// console.log(this.refs, el);\n\t\tvar w = el.parentNode.clientWidth;\n\n\t\t/* eslint-disable react/no-did-mount-set-state */\n\t\tthis.setState({\n\t\t\twidth: w\n\t\t});\n\t\t/* eslint-enable react/no-did-mount-set-state */\n\t},\n};\n\nexport default ChartWidthMixin;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/helper/ChartWidthMixin.jsx\n **/","\"use strict\";\n\nimport saveAsPng from \"save-svg-as-png\";\nimport { isDefined } from \"../utils\";\n\nvar SaveChartAsImage = {\n\tsave(doc, container, background, cb) {\n\t\tsaveAsPng.svgAsDataUri(container.getElementsByTagName(\"svg\")[0], {}, function(uri) {\n\t\t\tvar image = new Image();\n\t\t\timage.onload = function() {\n\t\t\t\tvar canvas = doc.createElement(\"canvas\");\n\t\t\t\tcanvas.width = image.width;\n\t\t\t\tcanvas.height = image.height;\n\t\t\t\tvar context = canvas.getContext(\"2d\");\n\n\t\t\t\tif (isDefined(background)) {\n\t\t\t\t\tcontext.fillStyle = background;\n\t\t\t\t\tcontext.fillRect(0, 0, canvas.width, canvas.height);\n\t\t\t\t}\n\t\t\t\tvar canvasList = container.getElementsByTagName(\"canvas\");\n\t\t\t\tfor (var i = 0; i < canvasList.length; i++) {\n\t\t\t\t\tvar each = canvasList[i];\n\t\t\t\t\tif (isDefined(each)) {\n\t\t\t\t\t\tvar parent = each.parentNode.parentNode.getBoundingClientRect();\n\t\t\t\t\t\tvar rect = each.getBoundingClientRect();\n\t\t\t\t\t\tcontext.drawImage(each, rect.left - parent.left, rect.top - parent.top);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontext.drawImage(image, 0, 0);\n\t\t\t\tcb(canvas.toDataURL(\"image/png\"));\n\t\t\t};\n\t\t\timage.src = uri;\n\t\t});\n\t},\n\tsaveWithWhiteBG(doc, container, cb) {\n\t\treturn this.saveWithBG(doc, container, \"white\", cb);\n\t},\n\tsaveWithDarkBG(doc, container, cb) {\n\t\treturn this.saveWithBG(doc, container, \"#303030\", cb);\n\t},\n\tsaveWithBG(doc, container, background, cb) {\n\t\treturn this.save(doc, container, background, cb);\n\t},\n\tsaveChartAsImage(container) {\n\t\tthis.saveWithWhiteBG(document, container, function(src) {\n\t\t\tvar a = document.createElement(\"a\");\n\t\t\ta.setAttribute(\"href\", src);\n\t\t\ta.setAttribute(\"download\", \"Chart.png\");\n\n\t\t\tdocument.body.appendChild(a);\n\t\t\ta.addEventListener(\"click\", function(/* e */) {\n\t\t\t\ta.parentNode.removeChild(a);\n\t\t\t});\n\n\t\t\ta.click();\n\t\t});\n\t}\n};\n\nexport default SaveChartAsImage;\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/helper/SaveChartAsImage.js\n **/","(function() {\n  var out$ = typeof exports != 'undefined' && exports || this;\n\n  var doctype = '<?xml version=\"1.0\" standalone=\"no\"?><!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">';\n\n  function isExternal(url) {\n    return url && url.lastIndexOf('http',0) == 0 && url.lastIndexOf(window.location.host) == -1;\n  }\n\n  function inlineImages(el, callback) {\n    var images = el.querySelectorAll('image');\n    var left = images.length;\n    if (left == 0) {\n      callback();\n    }\n    for (var i = 0; i < images.length; i++) {\n      (function(image) {\n        var href = image.getAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\");\n        if (href) {\n          if (isExternal(href.value)) {\n            console.warn(\"Cannot render embedded images linking to external hosts: \"+href.value);\n            return;\n          }\n        }\n        var canvas = document.createElement('canvas');\n        var ctx = canvas.getContext('2d');\n        var img = new Image();\n        href = href || image.getAttribute('href');\n        img.src = href;\n        img.onload = function() {\n          canvas.width = img.width;\n          canvas.height = img.height;\n          ctx.drawImage(img, 0, 0);\n          image.setAttributeNS(\"http://www.w3.org/1999/xlink\", \"href\", canvas.toDataURL('image/png'));\n          left--;\n          if (left == 0) {\n            callback();\n          }\n        }\n        img.onerror = function() {\n          console.log(\"Could not load \"+href);\n          left--;\n          if (left == 0) {\n            callback();\n          }\n        }\n      })(images[i]);\n    }\n  }\n\n  function styles(el, selectorRemap) {\n    var css = \"\";\n    var sheets = document.styleSheets;\n    for (var i = 0; i < sheets.length; i++) {\n      try {\n        var rules = sheets[i].cssRules;\n      } catch (e) {\n        console.warn(\"Stylesheet could not be loaded: \"+sheets[i].href);\n        continue;\n      }\n\n      if (rules != null) {\n        for (var j = 0; j < rules.length; j++) {\n          var rule = rules[j];\n          if (typeof(rule.style) != \"undefined\") {\n            var match = null;\n            try {\n              match = el.querySelector(rule.selectorText);\n            } catch(err) {\n              console.warn('Invalid CSS selector \"' + rule.selectorText + '\"', err);\n            }\n            if (match) {\n              var selector = selectorRemap ? selectorRemap(rule.selectorText) : rule.selectorText;\n              css += selector + \" { \" + rule.style.cssText + \" }\\n\";\n            } else if(rule.cssText.match(/^@font-face/)) {\n              css += rule.cssText + '\\n';\n            }\n          }\n        }\n      }\n    }\n    return css;\n  }\n\n  function getDimension(el, clone, dim) {\n    var v = (el.viewBox.baseVal && el.viewBox.baseVal[dim]) ||\n      (clone.getAttribute(dim) !== null && !clone.getAttribute(dim).match(/%$/) && parseInt(clone.getAttribute(dim))) ||\n      el.getBoundingClientRect()[dim] ||\n      parseInt(clone.style[dim]) ||\n      parseInt(window.getComputedStyle(el).getPropertyValue(dim));\n    return (typeof v === 'undefined' || v === null || isNaN(parseFloat(v))) ? 0 : v;\n  }\n\n  function reEncode(data) {\n    data = encodeURIComponent(data);\n    data = data.replace(/%([0-9A-F]{2})/g, function(match, p1) {\n      var c = String.fromCharCode('0x'+p1);\n      return c === '%' ? '%25' : c;\n    });\n    return decodeURIComponent(data);\n  }\n\n  out$.svgAsDataUri = function(el, options, cb) {\n    options = options || {};\n    options.scale = options.scale || 1;\n    var xmlns = \"http://www.w3.org/2000/xmlns/\";\n\n    inlineImages(el, function() {\n      var outer = document.createElement(\"div\");\n      var clone = el.cloneNode(true);\n      var width, height;\n      if(el.tagName == 'svg') {\n        width = options.width || getDimension(el, clone, 'width');\n        height = options.height || getDimension(el, clone, 'height');\n      } else if(el.getBBox) {\n        var box = el.getBBox();\n        width = box.x + box.width;\n        height = box.y + box.height;\n        clone.setAttribute('transform', clone.getAttribute('transform').replace(/translate\\(.*?\\)/, ''));\n\n        var svg = document.createElementNS('http://www.w3.org/2000/svg','svg')\n        svg.appendChild(clone)\n        clone = svg;\n      } else {\n        console.error('Attempted to render non-SVG element', el);\n        return;\n      }\n\n      clone.setAttribute(\"version\", \"1.1\");\n      clone.setAttributeNS(xmlns, \"xmlns\", \"http://www.w3.org/2000/svg\");\n      clone.setAttributeNS(xmlns, \"xmlns:xlink\", \"http://www.w3.org/1999/xlink\");\n      clone.setAttribute(\"width\", width * options.scale);\n      clone.setAttribute(\"height\", height * options.scale);\n      clone.setAttribute(\"viewBox\", [\n        options.left || 0,\n        options.top || 0,\n        width,\n        height\n      ].join(\" \"));\n\n      outer.appendChild(clone);\n\n      var css = styles(el, options.selectorRemap);\n      var s = document.createElement('style');\n      s.setAttribute('type', 'text/css');\n      s.innerHTML = \"<![CDATA[\\n\" + css + \"\\n]]>\";\n      var defs = document.createElement('defs');\n      defs.appendChild(s);\n      clone.insertBefore(defs, clone.firstChild);\n\n      var svg = doctype + outer.innerHTML;\n      var uri = 'data:image/svg+xml;base64,' + window.btoa(reEncode(svg));\n      if (cb) {\n        cb(uri);\n      }\n    });\n  }\n\n  out$.svgAsPngUri = function(el, options, cb) {\n    out$.svgAsDataUri(el, options, function(uri) {\n      var image = new Image();\n      image.onload = function() {\n        var canvas = document.createElement('canvas');\n        canvas.width = image.width;\n        canvas.height = image.height;\n        var context = canvas.getContext('2d');\n        if(options && options.backgroundColor){\n          context.fillStyle = options.backgroundColor;\n          context.fillRect(0, 0, canvas.width, canvas.height);\n        }\n        context.drawImage(image, 0, 0);\n        var a = document.createElement('a'), png;\n        try {\n          png = canvas.toDataURL('image/png');\n        } catch (e) {\n          if (e instanceof SecurityError) {\n            console.error(\"Rendered SVG images cannot be downloaded in this browser.\");\n            return;\n          } else {\n            throw e;\n          }\n        }\n        cb(png);\n      }\n      image.src = uri;\n    });\n  }\n\n  out$.saveSvgAsPng = function(el, name, options) {\n    options = options || {};\n    out$.svgAsPngUri(el, options, function(uri) {\n      var a = document.createElement('a');\n      a.download = name;\n      a.href = uri;\n      document.body.appendChild(a);\n      a.addEventListener(\"click\", function(e) {\n        a.parentNode.removeChild(a);\n      });\n      a.click();\n    });\n  }\n})();\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/save-svg-as-png/saveSvgAsPng.js\n ** module id = 122\n ** module chunks = 0 2\n **/","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nfunction getDisplayName(Series) {\n\tvar name = Series.displayName || Series.name || \"Series\";\n\treturn name;\n}\n\nexport default function fitWidth(WrappedComponent, withRef = true) {\n\tclass ResponsiveComponent extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\tthis.handleWindowResize = this.handleWindowResize.bind(this);\n\t\t\tthis.getWrappedInstance = this.getWrappedInstance.bind(this);\n\t\t}\n\t\tcomponentDidMount() {\n\t\t\twindow.addEventListener(\"resize\", this.handleWindowResize);\n\t\t\tvar el = ReactDOM.findDOMNode(this);\n\t\t\tvar w = el.parentNode.clientWidth;\n\n\t\t\t/* eslint-disable react/no-did-mount-set-state */\n\t\t\tthis.setState({\n\t\t\t\twidth: w\n\t\t\t});\n\t\t\t/* eslint-enable react/no-did-mount-set-state */\n\t\t}\n\t\tcomponentWillUnmount() {\n\t\t\twindow.removeEventListener(\"resize\", this.handleWindowResize);\n\t\t}\n\t\thandleWindowResize() {\n\t\t\tvar el = ReactDOM.findDOMNode(this);\n\t\t\tvar w = el.parentNode.clientWidth;\n\t\t\tthis.setState({\n\t\t\t\twidth: w\n\t\t\t});\n\t\t}\n\t\tgetWrappedInstance() {\n\t\t\treturn this.refs.component;\n\t\t}\n\t\trender() {\n\t\t\tvar ref = withRef ? { ref: \"component\" } : {};\n\n\t\t\tif (this.state && this.state.width) {\n\t\t\t\treturn <WrappedComponent width={this.state.width} {...this.props} {...ref} />;\n\t\t\t} else {\n\t\t\t\treturn <div />;\n\t\t\t}\n\t\t}\n\t}\n\n\tResponsiveComponent.displayName = `fitWidth(${ getDisplayName(WrappedComponent) })`;\n\n\treturn ResponsiveComponent;\n}\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/helper/fitWidth.jsx\n **/","import TrendLine from \"./TrendLine\";\nimport FibonacciRetracement from \"./FibonacciRetracement\";\nimport ClickCallback from \"./ClickCallback\";\nimport Brush from \"./Brush\";\nimport makeInteractive from \"./makeInteractive\";\n\nexport {\n\tTrendLine,\n\tFibonacciRetracement,\n\tClickCallback,\n\tBrush,\n\tmakeInteractive,\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/index.js\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\nimport d3 from \"d3\";\n\nimport makeInteractive from \"./makeInteractive\";\nimport { isDefined, head, last, noop, d3Window, MOUSEMOVE, MOUSEUP } from \"../utils\";\n\nfunction getYValue(values, currentValue) {\n\tvar diff = values\n\t\t.map(each => each - currentValue)\n\t\t.reduce((diff1, diff2) => Math.abs(diff1) < Math.abs(diff2) ? diff1 : diff2);\n\treturn currentValue + diff;\n}\n\nclass TrendLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onMousemove = this.onMousemove.bind(this);\n\t\tthis.onClick = this.onClick.bind(this);\n\n\t\tthis.handleEnter = this.handleEnter.bind(this);\n\t\tthis.handleLeave = this.handleLeave.bind(this);\n\t\tthis.handleEdgeMouseDown = this.handleEdgeMouseDown.bind(this);\n\t\tthis.handleEdgeDrag = this.handleEdgeDrag.bind(this);\n\t\tthis.handleEdgeDrop = this.handleEdgeDrop.bind(this);\n\n\t\tthis.handleLineMouseDown = this.handleLineMouseDown.bind(this);\n\n\t\tthis.state = {\n\t\t\thover: null,\n\t\t};\n\t}\n\tremoveLast(interactive) {\n\t\tvar { trends, start } = interactive;\n\t\tif (!start && trends.length > 0) {\n\t\t\treturn { ...interactive, trends: trends.slice(0, trends.length - 1) };\n\t\t}\n\t\treturn interactive;\n\t}\n\tterminate(interactive) {\n\t\tvar { start } = interactive;\n\t\tif (start) {\n\t\t\treturn { ...interactive, start: null };\n\t\t}\n\t\treturn interactive;\n\t}\n\tonMousemove(state) {\n\t\tvar {\n\t\t\t// xScale,\n\t\t\t// plotData,\n\t\t\tmouseXY,\n\t\t\t// currentCharts,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t\tinteractiveState,\n\t\t\teventMeta,\n\t\t} = state;\n\n\t\tvar { yScale } = chartConfig;\n\t\tvar currentPos = currentPosition(this.props, { eventMeta, mouseXY, currentItem, yScale });\n\t\tvar status = \"inprogress\";\n\n\t\treturn { ...interactiveState, currentPos, status };\n\t}\n\tonClick(state) {\n\t\tvar {\n\t\t\t// xScale,\n\t\t\t// plotData,\n\t\t\tmouseXY,\n\t\t\t// currentCharts,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t\tinteractiveState,\n\t\t\teventMeta,\n\t\t} = state;\n\n\t\tvar { enabled, snapTo, snap, shouldDisableSnap } = this.props;\n\t\tvar { xAccessor } = this.props;\n\n\t\tif (enabled) {\n\t\t\tvar { start, trends } = interactiveState;\n\n\t\t\tvar { yScale } = chartConfig;\n\t\t\tvar [xValue, yValue] = xy(snapTo, snap, shouldDisableSnap, xAccessor, eventMeta, currentItem, mouseXY, yScale);\n\n\t\t\tif (isDefined(start)) {\n\t\t\t\treturn {\n\t\t\t\t\t...interactiveState,\n\t\t\t\t\tstart: null,\n\t\t\t\t\tcurrentPos: null,\n\t\t\t\t\ttrends: trends.concat({ start, end: [xValue, yValue] }),\n\t\t\t\t\tstatus: \"complete\",\n\t\t\t\t};\n\t\t\t} else if (eventMeta.button === 0) {\n\t\t\t\treturn {\n\t\t\t\t\t...interactiveState,\n\t\t\t\t\tstart: [xValue, yValue],\n\t\t\t\t\tstatus: \"start\",\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn interactiveState;\n\t}\n\thandleEnter(idx) {\n\t\tthis.setState({\n\t\t\thover: idx\n\t\t});\n\t}\n\thandleLeave() {\n\t\tthis.setState({\n\t\t\thover: null\n\t\t});\n\t}\n\thandleLineMouseDown(idx, e) {\n\t\tvar captureDOM = this.refs.trend;\n\n\t\tvar { mouseXY, chartConfig, xAccessor, currentItem } = this.props;\n\t\tvar { yScale } = chartConfig;\n\n\t\tvar startY = mouseXY[1];\n\t\tthis.moveStartPosition = [xAccessor(currentItem), yScale.invert(startY)];\n\n\t\tvar win = d3Window(captureDOM);\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, this.handleLineDrag.bind(this, idx))\n\t\t\t.on(MOUSEUP, this.handleLineDrop.bind(this, idx));\n\t\te.preventDefault();\n\t}\n\thandleLineDrag(idx) {\n\t\tvar { mouseXY, chartConfig, xAccessor, currentItem, interactiveState } = this.props;\n\t\tvar { yScale } = chartConfig;\n\n\t\tvar endXValue = xAccessor(currentItem);\n\t\tvar endYValue = yScale.invert(mouseXY[1]);\n\n\t\tvar [startXValue, startYValue] = this.moveStartPosition;\n\n\t\tvar dx = endXValue - startXValue;\n\t\tvar dy = endYValue - startYValue;\n\n\t\tvar { start, end } = interactiveState.trends[idx];\n\n\t\tthis.setState({\n\t\t\thover: idx,\n\t\t\toverride: {\n\t\t\t\tindex: idx,\n\t\t\t\tx1: start[0] + dx,\n\t\t\t\ty1: start[1] + dy,\n\t\t\t\tx2: end[0] + dx,\n\t\t\t\ty2: end[1] + dy,\n\t\t\t}\n\t\t});\n\t}\n\thandleLineDrop(idx) {\n\t\tvar { overrideInteractive, interactiveState } = this.props;\n\t\tvar { override } = this.state;\n\n\t\tif (isDefined(override)) {\n\t\t\tvar { x1, y1, x2, y2 } = override;\n\t\t\tvar newTrend = {\n\t\t\t\tstart: [x1, y1],\n\t\t\t\tend: [x2, y2]\n\t\t\t};\n\n\t\t\tvar trends = interactiveState.trends\n\t\t\t\t.map((each, i) => (i === idx) ? newTrend : each);\n\n\t\t\toverrideInteractive({ trends }, () => {\n\t\t\t\tthis.setState({\n\t\t\t\t\toverride: null,\n\t\t\t\t\thover: null,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tthis.moveStartPosition = null;\n\t\tvar captureDOM = this.refs.trend;\n\t\tvar win = d3Window(captureDOM);\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\t}\n\thandleEdgeMouseDown(side, idx, e) {\n\t\tvar captureDOM = this.refs.trend;\n\n\t\tvar win = d3Window(captureDOM);\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, this.handleEdgeDrag.bind(this, side, idx))\n\t\t\t.on(MOUSEUP, this.handleEdgeDrop.bind(this, side, idx));\n\t\te.preventDefault();\n\t}\n\thandleEdgeDrag(side, idx) {\n\t\tvar { mouseXY, chartConfig, xAccessor, currentItem } = this.props;\n\t\tvar { yScale } = chartConfig;\n\n\t\tvar xValue = xAccessor(currentItem);\n\t\tvar yValue = yScale.invert(mouseXY[1]);\n\n\t\tif (side === \"left\") {\n\t\t\tthis.setState({\n\t\t\t\thover: idx,\n\t\t\t\toverride: {\n\t\t\t\t\tindex: idx,\n\t\t\t\t\tx1: xValue,\n\t\t\t\t\ty1: yValue,\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.setState({\n\t\t\t\thover: idx,\n\t\t\t\toverride: {\n\t\t\t\t\tindex: idx,\n\t\t\t\t\tx2: xValue,\n\t\t\t\t\ty2: yValue,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// console.log(\"DRAG\", side, idx, mouseXY)\n\t}\n\thandleEdgeDrop(side, idx) {\n\t\t// console.log(\"DROP\", side, idx)\n\n\t\tvar captureDOM = this.refs.trend;\n\t\tvar { overrideInteractive, interactiveState } = this.props;\n\n\t\tvar trend = interactiveState.trends[idx];\n\t\tvar newTrend = trend;\n\n\t\tvar { override } = this.state;\n\t\tif (isDefined(override)) {\n\t\t\tvar { x1, y1, x2, y2 } = override;\n\t\t\tif (isDefined(x1) && isDefined(y1)) {\n\t\t\t\tnewTrend = {\n\t\t\t\t\tstart: [x1, y1],\n\t\t\t\t\tend: trend.end\n\t\t\t\t};\n\t\t\t} else if (isDefined(x2) && isDefined(y2)) {\n\t\t\t\tnewTrend = {\n\t\t\t\t\tstart: trend.start,\n\t\t\t\t\tend: [x2, y2],\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tvar trends = interactiveState.trends\n\t\t\t\t.map((each, i) => (i === idx) ? newTrend : each);\n\n\n\t\t\toverrideInteractive({ trends }, () => {\n\t\t\t\tthis.setState({\n\t\t\t\t\toverride: null,\n\t\t\t\t\thover: null,\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\n\t\tvar win = d3Window(captureDOM);\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\t}\n\trender() {\n\n\t\tvar { enabled, endPointCircleFill, endPointCircleRadius } = this.props;\n\t\tvar { xScale, chartConfig, plotData, xAccessor, interactiveState, show } = this.props;\n\n\t\tvar { yScale } = chartConfig;\n\n\t\tvar { currentPositionStroke, currentPositionStrokeWidth, currentPositionOpacity, currentPositionRadius } = this.props;\n\t\tvar { stroke, opacity, type } = this.props;\n\n\t\tvar { currentPos } = interactiveState;\n\n\t\tvar circle = (currentPos && enabled && show)\n\t\t\t? <circle className=\"react-stockcharts-avoid-interaction\" cx={xScale(currentPos[0])} cy={yScale(currentPos[1])}\n\t\t\t\tstroke={currentPositionStroke}\n\t\t\t\topacity={currentPositionOpacity}\n\t\t\t\tfill=\"none\"\n\t\t\t\tstrokeWidth={currentPositionStrokeWidth}\n\t\t\t\tr={currentPositionRadius} />\n\t\t\t: null;\n\n\t\tvar lines = helper(plotData, type, xAccessor, interactiveState);\n\t\tvar adjustClassName = !enabled ? \"react-stockcharts-move-cursor\" : \"\";\n\n\t\tvar { override, hover } = this.state;\n\n\n\t\tvar className = enabled || isDefined(override) ? \"react-stockcharts-avoid-interaction\" : \"\";\n\n\t\treturn (\n\t\t\t<g ref=\"trend\" className={className}>\n\t\t\t\t{circle}\n\t\t\t\t{lines\n\t\t\t\t\t.map((coords, idx) => {\n\t\t\t\t\t\tvar x1 = xScale(getCoordinate(idx, override, coords, \"x1\"));\n\t\t\t\t\t\tvar y1 = yScale(getCoordinate(idx, override, coords, \"y1\"));\n\t\t\t\t\t\tvar x2 = xScale(getCoordinate(idx, override, coords, \"x2\"));\n\t\t\t\t\t\tvar y2 = yScale(getCoordinate(idx, override, coords, \"y2\"));\n\n\t\t\t\t\t\tvar circleOpacity = hover === idx ? 0.5 : 0.1;\n\t\t\t\t\t\tvar strokeWidth = hover === idx ? 2 : 1;\n\n\t\t\t\t\t\treturn (<g key={idx}>\n\t\t\t\t\t\t\t<line className={adjustClassName}\n\t\t\t\t\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\n\t\t\t\t\t\t\t\tstroke={stroke} strokeWidth={strokeWidth}\n\t\t\t\t\t\t\t\topacity={opacity} />\n\t\t\t\t\t\t\t<ClickableLine className={adjustClassName} idx={idx}\n\t\t\t\t\t\t\t\tonMouseEnter={this.handleEnter}\n\t\t\t\t\t\t\t\tonMouseLeave={this.handleLeave}\n\t\t\t\t\t\t\t\tonMouseDown={this.handleLineMouseDown}\n\t\t\t\t\t\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\n\t\t\t\t\t\t\t\tstroke={stroke} strokeWidth={8} opacity={0} />\n\t\t\t\t\t\t\t<ClickableCircle className={adjustClassName} idx={idx} side=\"left\"\n\t\t\t\t\t\t\t\tonMouseEnter={this.handleEnter}\n\t\t\t\t\t\t\t\tonMouseLeave={this.handleLeave}\n\t\t\t\t\t\t\t\tonMouseDown={this.handleEdgeMouseDown}\n\t\t\t\t\t\t\t\tcx={x1} cy={y1} r={endPointCircleRadius}\n\t\t\t\t\t\t\t\tfill={endPointCircleFill} opacity={circleOpacity} />\n\t\t\t\t\t\t\t<ClickableCircle className={adjustClassName} idx={idx} side=\"right\"\n\t\t\t\t\t\t\t\tonMouseEnter={this.handleEnter}\n\t\t\t\t\t\t\t\tonMouseLeave={this.handleLeave}\n\t\t\t\t\t\t\t\tonMouseDown={this.handleEdgeMouseDown}\n\t\t\t\t\t\t\t\tcx={x2} cy={y2} r={endPointCircleRadius}\n\t\t\t\t\t\t\t\tfill={endPointCircleFill} opacity={circleOpacity} />\n\t\t\t\t\t\t</g>);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\n/* eslint-disable react/prop-types */\nclass ClickableLine extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleMouseEnter = this.handleMouseEnter.bind(this);\n\t\tthis.handleMouseLeave = this.handleMouseLeave.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t}\n\thandleMouseEnter(e) {\n\t\tvar { idx, onMouseEnter } = this.props;\n\t\tonMouseEnter(idx, e);\n\t}\n\thandleMouseLeave(e) {\n\t\tvar { idx, onMouseLeave } = this.props;\n\t\tonMouseLeave(idx, e);\n\t}\n\thandleMouseDown(e) {\n\t\tvar { idx, onMouseDown } = this.props;\n\t\tonMouseDown(idx, e);\n\t}\n\trender() {\n\t\tvar { className, x1, x2, y1, y2, stroke, strokeWidth, opacity } = this.props;\n\n\t\treturn <line className={className}\n\t\t\tonMouseEnter={this.handleEnter}\n\t\t\tonMouseLeave={this.handleLeave}\n\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\tx1={x1} y1={y1} x2={x2} y2={y2}\n\t\t\tstroke={stroke} strokeWidth={strokeWidth} opacity={opacity} />;\n\t}\n}\n\nclass ClickableCircle extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleMouseEnter = this.handleMouseEnter.bind(this);\n\t\tthis.handleMouseLeave = this.handleMouseLeave.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t}\n\thandleMouseEnter(e) {\n\t\tvar { idx, onMouseEnter } = this.props;\n\t\tonMouseEnter(idx, e);\n\t}\n\thandleMouseLeave(e) {\n\t\tvar { idx, onMouseLeave } = this.props;\n\t\tonMouseLeave(idx, e);\n\t}\n\thandleMouseDown(e) {\n\t\tvar { idx, side, onMouseDown } = this.props;\n\t\tonMouseDown(side, idx, e);\n\t}\n\trender() {\n\t\tvar { className, cx, cy, r, fill, opacity } = this.props;\n\n\t\treturn <circle className={className}\n\t\t\tonMouseEnter={this.handleMouseEnter}\n\t\t\tonMouseLeave={this.handleMouseLeave}\n\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\tcx={cx} cy={cy} r={r}\n\t\t\tfill={fill} opacity={opacity} />;\n\t}\n}\n/* eslint-enable react/prop-types */\n\nfunction getCoordinate(idx, override, coords, key) {\n\tif (isDefined(override)) {\n\t\tvar { index } = override;\n\t\tif (index === idx) {\n\t\t\tif (isDefined(override[key])) {\n\t\t\t\treturn override[key];\n\t\t\t}\n\t\t}\n\t}\n\treturn coords[key];\n}\n\nfunction currentPosition({ enabled, snapTo, snap, shouldDisableSnap, xAccessor }, { eventMeta, mouseXY, currentItem, yScale }) {\n\tif (enabled && eventMeta && currentItem) {\n\n\t\treturn xy(snapTo, snap, shouldDisableSnap, xAccessor, eventMeta, currentItem, mouseXY, yScale);\n\t}\n}\n\nfunction xy(snapTo, snap, shouldDisableSnap, xAccessor, eventMeta, currentItem, mouseXY, yScale) {\n\tvar yValue = (snap && !shouldDisableSnap(eventMeta))\n\t\t? getYValue(snapTo(currentItem), yScale.invert(mouseXY[1]))\n\t\t: yScale.invert(mouseXY[1]);\n\tvar xValue = xAccessor(currentItem);\n\n\treturn [xValue, yValue];\n}\n\nfunction helper(plotData, type, xAccessor, interactive/* , chartConfig */) {\n\tvar { currentPos, start, trends } = interactive;\n\tvar temp = trends;\n\tif (start && currentPos) {\n\t\ttemp = temp.concat({ start, end: currentPos });\n\t}\n\tvar lines = temp\n\t\t.filter(each => each.start[0] !== each.end[0])\n\t\t.map((each) => generateLine(type, each.start, each.end, xAccessor, plotData));\n\n\treturn lines;\n}\n\nfunction generateLine(type, start, end, xAccessor, plotData) {\n\t/* if (end[0] - start[0] === 0) {\n\t\t// vertical line\n\t\tthrow new Error(\"Trendline cannot be a vertical line\")\n\t} */\n\tvar m /* slope */ = (end[1] - start[1]) / (end[0] - start[0]);\n\tvar b /* y intercept */ = -1 * m * end[0] + end[1];\n\t// y = m * x + b\n\tvar x1 = type === \"XLINE\"\n\t\t? xAccessor(plotData[0])\n\t\t: start[0]; // RAY or LINE start is the same\n\n\tvar y1 = m * x1 + b;\n\n\tvar x2 = type === \"XLINE\"\n\t\t? xAccessor(last(plotData))\n\t\t: type === \"RAY\"\n\t\t\t? end[0] > start[0] ? xAccessor(last(plotData)) : xAccessor(head(plotData))\n\t\t\t: end[0];\n\tvar y2 = m * x2 + b;\n\treturn { x1, y1, x2, y2 };\n}\n\nTrendLine.propTypes = {\n\tsnap: PropTypes.bool.isRequired,\n\tshow: PropTypes.bool,\n\tenabled: PropTypes.bool.isRequired,\n\tsnapTo: PropTypes.func,\n\tshouldDisableSnap: PropTypes.func.isRequired,\n\tchartCanvasType: PropTypes.string,\n\tchartConfig: PropTypes.object,\n\tplotData: PropTypes.array,\n\txScale: PropTypes.func,\n\txAccessor: PropTypes.func,\n\tonStart: PropTypes.func.isRequired,\n\tonComplete: PropTypes.func.isRequired,\n\tinteractive: PropTypes.object,\n\tcurrentPositionStroke: PropTypes.string,\n\tcurrentPositionStrokeWidth: PropTypes.number,\n\tcurrentPositionOpacity: PropTypes.number,\n\tcurrentPositionRadius: PropTypes.number,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number,\n\ttype: PropTypes.oneOf([\n\t\t\"XLINE\", // extends from -Infinity to +Infinity\n\t\t\"RAY\", // extends to +/-Infinity in one direction\n\t\t\"LINE\", // extends between the set bounds\n\t]),\n\tinteractiveState: PropTypes.object,\n\tcurrentItem: PropTypes.object,\n\tmouseXY: PropTypes.array,\n\toverrideInteractive: PropTypes.func,\n\tendPointCircleFill: PropTypes.string,\n\tendPointCircleRadius: PropTypes.number,\n};\n\nTrendLine.defaultProps = {\n\tstroke: \"#000000\",\n\ttype: \"XLINE\",\n\topacity: 0.7,\n\tonStart: noop,\n\tonComplete: noop,\n\tshouldDisableSnap: e => (e.button === 2 || e.shiftKey),\n\tcurrentPositionStroke: \"#000000\",\n\tcurrentPositionOpacity: 1,\n\tcurrentPositionStrokeWidth: 3,\n\tcurrentPositionRadius: 4,\n\tendPointCircleFill: \"#000000\",\n\tendPointCircleRadius: 5,\n};\n\nexport default makeInteractive(TrendLine, { trends: [] });\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/TrendLine.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport pure from \"../pure\";\nimport { isDefined, capitalizeFirst, noop } from \"../utils\";\n\nfunction getDisplayName(Series) {\n\tvar name = Series.displayName || Series.name || \"Series\";\n\treturn name;\n}\n\n\nexport default function makeInteractive(InteractiveComponent, initialState) {\n\n\tclass InteractiveComponentWrapper extends Component {\n\t\tconstructor(props) {\n\t\t\tsuper(props);\n\t\t\t// this.subscription = this.subscription.bind(this);\n\t\t\tthis.updateInteractiveState = this.updateInteractiveState.bind(this);\n\t\t\t// var { subscribe, chartId } = props;\n\n\t\t\t// this.subscriptionIds = subscription.map(each => subscribe(chartId, each, this.subscription.bind(this, each)));\n\t\t\tthis.panHandler = this.panHandler.bind(this);\n\t\t\tthis.overrideInteractive = this.overrideInteractive.bind(this);\n\t\t}\n\t\tpanHandler(propOverride) {\n\t\t\tvar { forChart, id, getInteractiveState } = this.props;\n\t\t\tvar { chartConfig } = propOverride;\n\n\t\t\tvar singleChartConfig = chartConfig.filter(each => each.id === forChart)[0];\n\n\t\t\tthis.setState({\n\t\t\t\t...propOverride,\n\t\t\t\tchartConfig: singleChartConfig,\n\t\t\t\tinteractiveState: getInteractiveState(forChart, id, initialState),\n\t\t\t});\n\t\t}\n\t\tupdateInteractiveState(interactive) {\n\t\t\tvar { setInteractiveState, id, forChart } = this.props;\n\t\t\tsetInteractiveState(id, forChart, interactive);\n\t\t}\n\t\toverrideInteractive(newInteractiveState, callback = noop) {\n\t\t\tthis.updateInteractiveState(newInteractiveState);\n\n\t\t\tthis.setState({\n\t\t\t\tinteractiveState: newInteractiveState\n\t\t\t}, callback);\n\t\t}\n\t\tcomponentWillMount() {\n\t\t\tthis.componentWillReceiveProps(this.props);\n\t\t}\n\t\tcomponentWillReceiveProps(nextProps) {\n\t\t\tvar { plotData, xScale, chartConfig, forChart, id, getInteractiveState } = nextProps;\n\t\t\tvar { mouseXY, currentItem, currentCharts, eventMeta } = nextProps;\n\n\t\t\tvar singleChartConfig = chartConfig.filter(each => each.id === forChart)[0];\n\t\t\tvar interactiveState = getInteractiveState(forChart, id, initialState);\n\n\t\t\tvar newState = {\n\t\t\t\txScale,\n\t\t\t\tplotData,\n\t\t\t\tmouseXY,\n\t\t\t\tcurrentCharts,\n\t\t\t\tcurrentItem,\n\t\t\t\tchartConfig: singleChartConfig,\n\t\t\t\tinteractiveState,\n\t\t\t\teventMeta,\n\t\t\t};\n\n\t\t\tif (isDefined(eventMeta)) {\n\t\t\t\t// console.log(eventMeta.type)\n\t\t\t\teventMeta.type.forEach(each => {\n\t\t\t\t\tvar invoke = this.refs.interactive[\"on\" + capitalizeFirst(each)];\n\t\t\t\t\tif (isDefined(invoke)) {\n\t\t\t\t\t\tinteractiveState = invoke(newState);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.updateInteractiveState(interactiveState);\n\n\n\t\t\tvar { chartCanvasType, callbackForCanvasDraw, getAllCanvasDrawCallback } = nextProps;\n\n\t\t\tif (chartCanvasType !== \"svg\") {\n\t\t\t\tvar temp = getAllCanvasDrawCallback().filter(each => each.type === \"annotation\").filter(each => each.id === id);\n\t\t\t\tif (temp.length === 0) {\n\t\t\t\t\tcallbackForCanvasDraw({\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttype: \"annotation\",\n\t\t\t\t\t\tdraw: this.panHandler,\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tcallbackForCanvasDraw(temp[0], {\n\t\t\t\t\t\tid,\n\t\t\t\t\t\ttype: \"annotation\",\n\t\t\t\t\t\tdraw: this.panHandler,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\t...newState,\n\t\t\t\tinteractiveState\n\t\t\t}, () => {\n\t\t\t\tif (isDefined(interactiveState)) {\n\t\t\t\t\tvar { status, callbackProps } = interactiveState;\n\t\t\t\t\tif (isDefined(status)) {\n\t\t\t\t\t\tvar callback = \"on\" + capitalizeFirst(status);\n\n\t\t\t\t\t\tif (isDefined(this.props[callback])) {\n\n\t\t\t\t\t\t\tthis.props[callback].apply(null, callbackProps);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tremoveLast() {\n\t\t\tvar { id, forChart, getInteractiveState } = this.props;\n\t\t\tvar interactive = getInteractiveState(forChart, id, initialState);\n\n\t\t\tif (this.refs.interactive.removeLast) {\n\t\t\t\tvar newInteractive = this.refs.interactive.removeLast(interactive);\n\t\t\t\tthis.updateInteractiveState(newInteractive);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tinteractiveState: newInteractive\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tterminate() {\n\t\t\tvar { id, forChart, getInteractiveState } = this.props;\n\t\t\tvar interactive = getInteractiveState(forChart, id, initialState);\n\n\t\t\tif (this.refs.interactive.terminate) {\n\t\t\t\tvar newInteractive = this.refs.interactive.terminate(interactive);\n\t\t\t\tthis.updateInteractiveState(newInteractive);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tinteractiveState: newInteractive\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\trender() {\n\t\t\t/* var { id, forChart, getInteractiveState } = this.props;\n\t\t\tvar interactive = getInteractiveState(forChart, id, initialState);\n\n\t\t\tconsole.log(interactive)*/\n\t\t\treturn <InteractiveComponent\n\t\t\t\tref=\"interactive\"\n\t\t\t\t{...this.props}\n\t\t\t\t{...this.state}\n\t\t\t\toverrideInteractive={this.overrideInteractive} />;\n\t\t\t// return null;\n\t\t}\n\t}\n\n\tInteractiveComponentWrapper.displayName = getDisplayName(InteractiveComponent);\n\n\tInteractiveComponentWrapper.propTypes = {\n\t\tid: PropTypes.number.isRequired,\n\t\tenabled: PropTypes.bool.isRequired,\n\t\tforChart: PropTypes.number.isRequired,\n\n\t\t/* comes from pure converted from context to prop - START */\n\t\tgetInteractiveState: PropTypes.func.isRequired,\n\t\tgetCanvasContexts: PropTypes.func,\n\t\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n\t\tgetAllCanvasDrawCallback: PropTypes.func,\n\t\tchartCanvasType: PropTypes.string.isRequired,\n\t\tsetInteractiveState: PropTypes.func.isRequired,\n\t\tplotData: PropTypes.array.isRequired,\n\t\txAccessor: PropTypes.func.isRequired,\n\t\txScale: PropTypes.func.isRequired,\n\t\tchartConfig: PropTypes.array.isRequired,\n\t\tcurrentItem: PropTypes.object,\n\t\tshow: PropTypes.bool.isRequired,\n\t\tdisplayXAccessor: PropTypes.func.isRequired,\n\t\t/* comes from pure converted from context to prop - END */\n\t};\n\n\treturn pure(InteractiveComponentWrapper, {\n\t\tcallbackForCanvasDraw: PropTypes.func.isRequired,\n\t\tgetAllCanvasDrawCallback: PropTypes.func,\n\t\tchartCanvasType: PropTypes.string,\n\n\n\t\tgetInteractiveState: PropTypes.func.isRequired,\n\t\tsetInteractiveState: PropTypes.func.isRequired,\n\t\tplotData: PropTypes.array.isRequired,\n\t\txAccessor: PropTypes.func.isRequired,\n\t\txScale: PropTypes.func.isRequired,\n\t\tchartConfig: PropTypes.array.isRequired,\n\t\tmouseXY: PropTypes.array,\n\t\tcurrentItem: PropTypes.object,\n\t\tcurrentCharts: PropTypes.arrayOf(PropTypes.number),\n\t\teventMeta: PropTypes.object,\n\t\tshow: PropTypes.bool.isRequired,\n\t\tdisplayXAccessor: PropTypes.func.isRequired,\n\t});\n}\nexport default makeInteractive;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/makeInteractive.jsx\n **/","\"use strict\";\n\nimport d3 from \"d3\";\nimport React, { PropTypes, Component } from \"react\";\nimport makeInteractive from \"./makeInteractive\";\nimport { isDefined, head, last, d3Window, MOUSEMOVE, MOUSEUP } from \"../utils\";\n\nclass FibonacciRetracement extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onMousemove = this.onMousemove.bind(this);\n\t\tthis.onClick = this.onClick.bind(this);\n\t\tthis.handleMoveStart = this.handleMoveStart.bind(this);\n\t\tthis.handleResizeStart = this.handleResizeStart.bind(this);\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t};\n\t}\n\tremoveLast(interactive) {\n\t\tvar { retracements, start } = interactive;\n\t\tif (!start && retracements.length > 0) {\n\t\t\treturn { ...interactive, retracements: retracements.slice(0, retracements.length - 1) };\n\t\t}\n\t\treturn interactive;\n\t}\n\tterminate(interactive) {\n\t\tvar { start } = interactive;\n\t\tif (start) {\n\t\t\treturn { ...interactive, start: null };\n\t\t}\n\t\treturn interactive;\n\t}\n\thandleMoveStart(idx, lineIndex, e) {\n\t\tvar { mouseXY, chartConfig, xAccessor, currentItem } = this.props;\n\t\tvar { yScale } = chartConfig;\n\n\t\tvar startY = mouseXY[1];\n\n\t\tthis.moveStartPosition = [xAccessor(currentItem), yScale.invert(startY)];\n\n\t\tvar win = d3Window(this.refs.fib);\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, this.handleMove.bind(this, idx))\n\t\t\t.on(MOUSEUP, this.handleMoveEnd.bind(this, idx));\n\n\t\te.preventDefault();\n\t}\n\thandleResizeStart(idx, line, e) {\n\t\t// var { mouseXY } = this.props;\n\n\t\tconsole.log(idx, line);\n\t\te.preventDefault();\n\t}\n\thandleMove(idx) {\n\t\tvar { mouseXY, interactiveState, chartConfig } = this.props;\n\t\tvar { type, xAccessor, currentItem, plotData } = this.props;\n\n\t\tvar { yScale } = chartConfig;\n\t\tvar endY = mouseXY[1];\n\n\t\tvar [startXValue, startYValue] = this.moveStartPosition;\n\t\tvar [endXValue, endYValue] = [xAccessor(currentItem), yScale.invert(endY)];\n\n\t\tvar dx = endXValue - startXValue;\n\t\tvar dy = endYValue - startYValue;\n\n\t\tvar { start, end } = interactiveState.retracements[idx];\n\t\tvar newStart = [start[0] + dx, start[1] + dy];\n\t\tvar newEnd = [end[0] + dx, end[1] + dy];\n\n\t\tvar retracement = generateLine(type, newStart, newEnd, xAccessor, plotData);\n\n\t\tvar override = {\n\t\t\tindex: idx,\n\t\t\tretracement,\n\t\t\tstart: newStart,\n\t\t\tend: newEnd,\n\t\t};\n\n\t\tthis.setState({\n\t\t\toverride\n\t\t});\n\t}\n\thandleMoveEnd(idx) {\n\t\tvar win = d3Window(this.refs.fib);\n\t\tvar { overrideInteractive, interactiveState } = this.props;\n\t\tvar { override } = this.state;\n\t\tvar { start, end } = override;\n\n\t\tif (isDefined(override)) {\n\t\t\tvar retracements = interactiveState.retracements\n\t\t\t\t.map((each, i) => (i === idx) ? { start, end } : each);\n\n\t\t\toverrideInteractive({ retracements }, () => {\n\t\t\t\tthis.setState({\n\t\t\t\t\toverride: null\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tthis.moveStartPosition = null;\n\t\td3.select(win)\n\t\t\t.on(MOUSEMOVE, null)\n\t\t\t.on(MOUSEUP, null);\n\n\t}\n\tisStart(interactive) {\n\t\treturn interactive.status === \"start\";\n\t}\n\tisComplete(interactive) {\n\t\treturn interactive.status === \"complete\";\n\t}\n\tonMousemove(state) {\n\t\tvar {\n\t\t\t// xScale,\n\t\t\t// plotData,\n\t\t\tmouseXY,\n\t\t\t// currentCharts,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t\tinteractiveState,\n\t\t\t// eventMeta,\n\t\t} = state;\n\n\t\tvar { enabled, xAccessor } = this.props;\n\t\tif (enabled) {\n\t\t\tvar { yScale } = chartConfig;\n\n\t\t\tvar yValue = yScale.invert(mouseXY[1]);\n\t\t\tvar xValue = xAccessor(currentItem);\n\n\t\t\tif (interactiveState.start) {\n\t\t\t\tvar status =  \"inprogress\";\n\t\t\t\treturn { ...interactiveState, tempEnd: [xValue, yValue], status };\n\t\t\t}\n\t\t}\n\t\treturn interactiveState;\n\t}\n\tonClick(state) {\n\t\tvar {\n\t\t\t// xScale,\n\t\t\t// plotData,\n\t\t\tmouseXY,\n\t\t\t// currentCharts,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t\tinteractiveState,\n\t\t\teventMeta,\n\t\t} = state;\n\n\t\tvar { enabled, xAccessor } = this.props;\n\t\tif (enabled) {\n\t\t\tvar { start, retracements } = interactiveState;\n\n\t\t\tvar { yScale } = chartConfig;\n\n\t\t\tvar yValue = yScale.invert(mouseXY[1]);\n\t\t\tvar xValue = xAccessor(currentItem);\n\n\t\t\tif (start) {\n\t\t\t\treturn {\n\t\t\t\t\t...interactiveState,\n\t\t\t\t\tstart: null,\n\t\t\t\t\ttempEnd: null,\n\t\t\t\t\tretracements: retracements.concat({ start, end: [xValue, yValue] }),\n\t\t\t\t\tstatus: \"complete\",\n\t\t\t\t};\n\t\t\t} else if (eventMeta.button === 0) {\n\t\t\t\treturn {\n\t\t\t\t\t...interactiveState,\n\t\t\t\t\tstart: [xValue, yValue],\n\t\t\t\t\ttempEnd: null,\n\t\t\t\t\tstatus: \"start\",\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn interactiveState;\n\t}\n\trender() {\n\t\tvar { chartConfig, plotData, xScale, xAccessor, interactiveState } = this.props;\n\t\tvar { stroke, opacity, fontFamily, fontSize, fontStroke, type, enabled } = this.props;\n\n\t\tvar { override } = this.state;\n\n\t\tvar { yScale } = chartConfig;\n\t\tvar retracements = helper(plotData, type, xAccessor, interactiveState, chartConfig);\n\t\tvar className = enabled || isDefined(override) ? \"react-stockcharts-avoid-interaction\" : \"\";\n\t\treturn (\n\t\t\t<g className={className} ref=\"fib\">\n\t\t\t\t{retracements.map((eachRetracement, idx) => {\n\t\t\t\t\tif (isDefined(override) && idx === override.index) {\n\t\t\t\t\t\teachRetracement = override.retracement;\n\t\t\t\t\t}\n\t\t\t\t\tvar dir = eachRetracement[0].y1 > eachRetracement[eachRetracement.length - 1].y1 ? 3 : -1.3;\n\n\t\t\t\t\treturn <g key={idx}>\n\t\t\t\t\t\t{eachRetracement.map((line, i) => {\n\t\t\t\t\t\t\tvar text = `${ line.y.toFixed(2) } (${ line.percent.toFixed(2) }%)`;\n\n\t\t\t\t\t\t\tvar { className: cursorClassName, onMouseDown } = enabled\n\t\t\t\t\t\t\t\t? {}\n\t\t\t\t\t\t\t\t: (i === 0 || i === eachRetracement.length - 1)\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tclassName: \"react-stockcharts-ns-resize-cursor\",\n\t\t\t\t\t\t\t\t\t\tonMouseDown: this.handleResizeStart\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\tclassName: \"react-stockcharts-move-cursor\",\n\t\t\t\t\t\t\t\t\t\tonMouseDown: this.handleMoveStart\n\t\t\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\treturn (<EachRetracement key={i} idx={idx} lineIndex={i}\n\t\t\t\t\t\t\t\t\t\tclassName={cursorClassName}\n\t\t\t\t\t\t\t\t\t\tonMouseDown={onMouseDown}\n\t\t\t\t\t\t\t\t\t\tx1={xScale(line.x1)}\n\t\t\t\t\t\t\t\t\t\tx2={xScale(line.x2)}\n\t\t\t\t\t\t\t\t\t\ty={yScale(line.y)}\n\t\t\t\t\t\t\t\t\t\tstroke={stroke}\n\t\t\t\t\t\t\t\t\t\topacity={opacity}\n\t\t\t\t\t\t\t\t\t\tfontFamily={fontFamily}\n\t\t\t\t\t\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\t\t\t\t\t\tfontStroke={fontStroke}\n\t\t\t\t\t\t\t\t\t\ttext={text}\n\t\t\t\t\t\t\t\t\t\ttextX={xScale(Math.min(line.x1, line.x2)) + 10}\n\t\t\t\t\t\t\t\t\t\ttextY={yScale(line.y) + dir * 4}\n\t\t\t\t\t\t\t\t\t\t/>);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</g>;\n\t\t\t\t})}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\n/* eslint-disable react/prop-types */\nclass EachRetracement extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t}\n\thandleMouseDown(e) {\n\t\tvar { idx, lineIndex, onMouseDown } = this.props;\n\t\tonMouseDown(idx, lineIndex, e);\n\t}\n\trender() {\n\t\tvar { className, x1, x2, y, stroke, opacity, fontFamily, fontSize, fontStroke } = this.props;\n\t\tvar { text, textX, textY } = this.props;\n\t\treturn <g className={className}\n\t\t\t\tonMouseDown={this.handleMouseDown}>\n\t\t\t<line\n\t\t\t\tx1={x1} y1={y}\n\t\t\t\tx2={x2} y2={y}\n\t\t\t\tstroke={stroke} opacity={opacity} />\n\t\t\t<line\n\t\t\t\tx1={x1} y1={y}\n\t\t\t\tx2={x2} y2={y}\n\t\t\t\tstroke={stroke} strokeWidth={7} opacity={0} />\n\t\t\t<text x={textX} y={textY}\n\t\t\t\tfontFamily={fontFamily} fontSize={fontSize} fill={fontStroke}>{text}</text>\n\t\t</g>;\n\t}\n}\n/* eslint-enable react/prop-types */\n\nfunction helper(plotData, type, xAccessor, interactive/* , chartConfig */) {\n\tvar { retracements, start, tempEnd } = interactive;\n\n\tvar temp = retracements;\n\n\tif (start && tempEnd) {\n\t\ttemp = temp.concat({ start, end: tempEnd });\n\t}\n\tvar lines = temp\n\t\t.map(each => generateLine(type, each.start, each.end, xAccessor, plotData));\n\n\treturn lines;\n}\n\nfunction generateLine(type, start, end, xAccessor, plotData) {\n\tvar dy = end[1] - start[1];\n\tvar retracements = [100, 61.8, 50, 38.2, 23.6, 0]\n\t\t.map(each => ({\n\t\t\tpercent: each,\n\t\t\tx1: type === \"EXTEND\" ? xAccessor(head(plotData)) : start[0],\n\t\t\tx2: type === \"EXTEND\" ? xAccessor(last(plotData)) : end[0],\n\t\t\ty: (end[1] - (each / 100) * dy),\n\t\t}));\n\n\treturn retracements;\n}\n\nFibonacciRetracement.propTypes = {\n\tsnap: PropTypes.bool.isRequired,\n\tenabled: PropTypes.bool.isRequired,\n\tsnapTo: PropTypes.func,\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tchartCanvasType: PropTypes.string,\n\tchartConfig: PropTypes.object,\n\tplotData: PropTypes.array,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tinteractive: PropTypes.object,\n\twidth: PropTypes.number,\n\tstroke: PropTypes.string,\n\topacity: PropTypes.number,\n\tfontStroke: PropTypes.string,\n\tonStart: PropTypes.func,\n\tonComplete: PropTypes.func,\n\ttype: PropTypes.oneOf([\n\t\t\"EXTEND\", // extends from -Infinity to +Infinity\n\t\t\"BOUND\", // extends between the set bounds\n\t]).isRequired,\n\tmouseXY: PropTypes.array,\n\tcurrentItem: PropTypes.object,\n\tinteractiveState: PropTypes.object,\n\toverrideInteractive: PropTypes.func,\n};\n\nFibonacciRetracement.defaultProps = {\n\tsnap: true,\n\tenabled: true,\n\tstroke: \"#000000\",\n\topacity: 0.4,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 10,\n\tfontStroke: \"#000000\",\n\ttype: \"EXTEND\",\n\n};\n\nexport default makeInteractive(FibonacciRetracement, { retracements: [] });\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/FibonacciRetracement.jsx\n **/","\"use strict\";\n\nimport { PropTypes, Component } from \"react\";\nimport makeInteractive from \"./makeInteractive\";\nimport { noop } from \"../utils\";\n\nclass ClickCallback extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\tonClick(state) {\n\t\tvar {\n\t\t\t// xScale,\n\t\t\t// plotData,\n\t\t\tmouseXY,\n\t\t\t// currentCharts,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t\tinteractiveState,\n\t\t\teventMeta,\n\t\t} = state;\n\n\t\tvar { onClick, displayXAccessor } = this.props;\n\n\t\tvar { yScale } = chartConfig;\n\n\t\tvar yValue = yScale.invert(mouseXY[1]);\n\t\tvar xValue = displayXAccessor(currentItem);\n\t\tonClick({\n\t\t\txy: [xValue, yValue],\n\t\t\tmouseXY,\n\t\t\tcurrentItem\n\t\t}, eventMeta);\n\t\treturn interactiveState;\n\t}\n\trender() {\n\t\treturn null;\n\t}\n}\n\nClickCallback.drawOnCanvas = noop;\n\nClickCallback.propTypes = {\n\tonClick: PropTypes.func.isRequired,\n\t/* comes from pure converted from context to prop - START */\n\tdisplayXAccessor: PropTypes.func.isRequired,\n\t/* comes from pure converted from context to prop - END */\n};\n\nClickCallback.defaultProps = {\n\tonClick: (e) => { console.log(e); },\n};\n\nexport default makeInteractive(ClickCallback);\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/ClickCallback.jsx\n **/","\"use strict\";\n\nimport React, { PropTypes, Component } from \"react\";\n\nimport makeInteractive from \"./makeInteractive\";\n\nimport { isDefined, noop } from \"../utils\";\n\nclass Brush extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.onMousemove = this.onMousemove.bind(this);\n\t\tthis.onClick = this.onClick.bind(this);\n\t}\n\tterminate() {\n\t\treturn {\n\t\t\tx1: null, y1: null,\n\t\t\tx2: null, y2: null,\n\t\t\tstartItem: null,\n\t\t\tstartClick: null,\n\t\t\tstatus: null,\n\t\t};\n\t}\n\tonMousemove(state) {\n\t\tvar {\n\t\t\t// xScale,\n\t\t\t// plotData,\n\t\t\tmouseXY,\n\t\t\t// currentCharts,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t\tinteractiveState,\n\t\t\t// eventMeta,\n\t\t} = state;\n\n\t\tvar { enabled, xAccessor } = this.props;\n\t\tvar { x1, y1 } = interactiveState;\n\n\t\tvar status = \"mousemove\";\n\t\tif (enabled && isDefined(x1) && isDefined(y1)) {\n\t\t\tvar { yScale } = chartConfig;\n\n\t\t\tvar x2 = xAccessor(currentItem);\n\t\t\tvar y2 = yScale.invert(mouseXY[1]);\n\n\t\t\treturn { ...interactiveState, x2, y2, status };\n\t\t}\n\t\treturn { ...interactiveState, status, callbackProps: null };\n\t}\n\tonClick(state) {\n\t\tvar {\n\t\t\t// xScale,\n\t\t\t// plotData,\n\t\t\tmouseXY,\n\t\t\t// currentCharts,\n\t\t\tcurrentItem,\n\t\t\tchartConfig,\n\t\t\tinteractiveState,\n\t\t\teventMeta,\n\t\t} = state;\n\n\t\tvar { displayXAccessor, xAccessor } = this.props;\n\t\tvar { enabled } = this.props;\n\n\t\tif (enabled) {\n\t\t\tvar { x1, y1, startItem, startClick } = interactiveState;\n\t\t\tvar { yScale } = chartConfig;\n\n\t\t\tvar xValue = xAccessor(currentItem);\n\t\t\tvar yValue = yScale.invert(mouseXY[1]);\n\n\t\t\tif (interactiveState.status === \"brush\") {\n\t\t\t\treturn {\n\t\t\t\t\t...interactiveState,\n\t\t\t\t\tstatus: null,\n\t\t\t\t};\n\t\t\t} else if (isDefined(x1)) {\n\t\t\t\tvar callbackProps = [{\n\t\t\t\t\tx1: displayXAccessor(startItem),\n\t\t\t\t\ty1,\n\t\t\t\t\tx2: displayXAccessor(currentItem),\n\t\t\t\t\ty2: yValue,\n\t\t\t\t\tstartItem,\n\t\t\t\t\tcurrentItem,\n\t\t\t\t\tstartClick,\n\t\t\t\t\tmouseXY\n\t\t\t\t}, eventMeta];\n\n\t\t\t\tvar interactive =  {\n\t\t\t\t\t// ...interactiveState,\n\t\t\t\t\tx1: null, y1: null,\n\t\t\t\t\tx2: null, y2: null,\n\t\t\t\t\tstartItem: null,\n\t\t\t\t\tstartClick: null,\n\t\t\t\t\tstatus: \"brush\",\n\t\t\t\t\tcallbackProps,\n\t\t\t\t};\n\t\t\t\t// return { interactive: onCompleteBrushCoords, callback: onCompleteCallback };\n\t\t\t\treturn interactive;\n\t\t\t} else if (eventMeta.button === 0) {\n\n\t\t\t\treturn {\n\t\t\t\t\tx1: xValue,\n\t\t\t\t\ty1: yValue,\n\t\t\t\t\tstartItem: currentItem,\n\t\t\t\t\tstartClick: mouseXY,\n\t\t\t\t\tx2: null,\n\t\t\t\t\ty2: null,\n\t\t\t\t\tstatus: \"start\",\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn interactiveState;\n\t}\n\trender() {\n\t\tvar { chartConfig, plotData, xScale, xAccessor, interactiveState, enabled } = this.props;\n\t\tvar { type, fill, stroke, opacity } = this.props;\n\n\t\tvar { x1, y1, x2, y2 } = interactiveState;\n\n\t\tif (enabled && isDefined(x1) && isDefined(y1) && isDefined(x2) && isDefined(y2)) {\n\t\t\tvar brush = helper(type, plotData, xScale, xAccessor, chartConfig, { x1, y1, x2, y2 });\n\t\t\treturn <rect className=\"react-stockcharts-avoid-interaction\"\n\t\t\t\t{...brush} fill={fill} stroke={stroke} fillOpacity={opacity} />;\n\t\t}\n\t\treturn null;\n\t}\n}\n\nfunction helper(type, plotData, xScale, xAccessor, chartConfig, { x1, y1, x2, y2 }) {\n\tvar { yScale } = chartConfig;\n\n\tvar left = Math.min(x1, x2);\n\tvar right = Math.max(x1, x2);\n\n\tvar top = Math.max(y1, y2);\n\tvar bottom = Math.min(y1, y2);\n\n\tvar x = xScale(left);\n\tvar width = xScale(right) - xScale(left);\n\n\tvar y = type === \"1D\" ? 0 : yScale(top);\n\tvar height = type === \"1D\" ? chartConfig.height : yScale(bottom) - yScale(top);\n\n\t// console.log(chartConfig);\n\treturn {\n\t\tx,\n\t\ty,\n\t\twidth,\n\t\theight,\n\t};\n}\n\nBrush.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\tonStart: PropTypes.func.isRequired,\n\tonBrush: PropTypes.func.isRequired,\n\n\ttype: PropTypes.oneOf([\"1D\", \"2D\"]),\n\tchartCanvasType: PropTypes.string,\n\tchartConfig: PropTypes.object,\n\tplotData: PropTypes.array,\n\txAccessor: PropTypes.func,\n\txScale: PropTypes.func,\n\tinteractive: PropTypes.object,\n\tstroke: PropTypes.string,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tdisplayXAccessor: PropTypes.func,\n\tinteractiveState: PropTypes.object,\n};\n\nBrush.defaultProps = {\n\ttype: \"2D\",\n\tstroke: \"#000000\",\n\topacity: 0.3,\n\tfill: \"#3h3h3h\",\n\tonBrush: noop,\n\tonStart: noop,\n};\n\nexport default makeInteractive(Brush, {});\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/interactive/Brush.jsx\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js?outputStyle=expanded!./re-stock.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js?outputStyle=expanded!./re-stock.scss\", function() {\n\t\t\tvar newContent = require(\"!!./../../node_modules/css-loader/index.js!./../../node_modules/autoprefixer-loader/index.js!./../../node_modules/sass-loader/index.js?outputStyle=expanded!./re-stock.scss\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./docs/stylesheets/re-stock.scss\n ** module id = 130\n ** module chunks = 0 2\n **/","exports = module.exports = require(\"./../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* Move down content because we have a fixed navbar that is 50px tall */\\n/*! normalize.css v3.0.2 | MIT License | git.io/normalize */\\n/* #MainContainer {\\n   position: fixed;\\n   top: 50px;\\n   padding-left: 100px;\\n} */\\naside table {\\n  border: 1;\\n  border-spacing: 1px;\\n  border-collapse: collapse;\\n  max-width: 100%;\\n  margin-bottom: 20px;\\n}\\n\\naside table tbody > tr > td,\\naside table tbody > tr > th,\\naside table tfoot > tr > td,\\naside table tfoot > tr > th,\\naside table thead > tr > td,\\naside table thead > tr > th {\\n  padding: 8px;\\n  line-height: 1.42857;\\n  vertical-align: top;\\n  border-top: 1px solid #DDD;\\n}\\n\\na.button {\\n  background: transparent url(\" + require(\"../images/github-button.png\") + \") 0 0 no-repeat;\\n  width: 203px;\\n  height: 80px;\\n  padding-left: 60px;\\n  color: #fff !important;\\n}\\n\\na.button small {\\n  display: inline;\\n  font-size: 13px;\\n  margin-top: 15px;\\n}\\n\\n.dark {\\n  background: #303030;\\n}\\n\\n.dark .react-stockcharts-tooltip {\\n  fill: white;\\n}\\n\\n.dark .react-stockcharts-tooltip-label {\\n  fill: yellow;\\n}\\n\\n.jumbotron {\\n  background: steelblue;\\n  padding: 0px;\\n  color: white;\\n}\\n\\n.jumbotron a {\\n  color: yellow;\\n}\\n\\n.top-spacing {\\n  padding-top: 10px;\\n}\\n\\n.navbar {\\n  background-color: steelblue;\\n}\\n\\n.navbar a {\\n  color: white;\\n}\\n\\n/*\\n * Top navigation\\n * Hide default border to remove 1px line.\\n */\\n.navbar-fixed-top {\\n  border: 0;\\n}\\n\\n/*\\n * Sidebar\\n */\\n/* Hide for mobile, show later */\\n.sidebar {\\n  display: none;\\n}\\n\\n@media (min-width: 768px) {\\n  .sidebar {\\n    position: fixed;\\n    top: 51px;\\n    bottom: 0;\\n    left: 0;\\n    z-index: 1000;\\n    display: block;\\n    padding: 5px 20px;\\n    overflow-x: hidden;\\n    overflow-y: auto;\\n    /* Scrollable contents if viewport is shorter than content. */\\n    background-color: #f5f5f5;\\n    border-right: 1px solid #eee;\\n  }\\n}\\n\\n/* Sidebar navigation */\\n.nav-sidebar {\\n  margin-right: -21px;\\n  /* 20px padding + 1px border */\\n  margin-bottom: 20px;\\n  margin-left: -20px;\\n}\\n\\n.nav-sidebar > li > a {\\n  padding-right: 20px;\\n  padding-left: 20px;\\n  padding-top: 2px;\\n  padding-bottom: 2px;\\n  font-size: 13px;\\n}\\n\\n.nav-sidebar > .active a, .nav-sidebar > .active a:hover, .nav-sidebar > .active a:focus {\\n  color: #fff;\\n  background-color: #428bca;\\n}\\n\\n/*\\n * Main content\\n */\\n.main {\\n  padding: 20px;\\n}\\n\\n@media (min-width: 768px) {\\n  .main {\\n    padding-right: 40px;\\n    padding-left: 40px;\\n  }\\n}\\n\\n.main .page-header {\\n  margin-top: 0;\\n}\\n\\nimg[alt=\\\"Done\\\"] {\\n  max-width: 20px;\\n  max-height: 20px;\\n  padding-bottom: 4px;\\n}\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./~/autoprefixer-loader!./~/sass-loader?outputStyle=expanded!./docs/stylesheets/re-stock.scss\n ** module id = 131\n ** module chunks = 0 2\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 132\n ** module chunks = 0 2\n **/","module.exports = \"data:image/png;base64,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\"\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./docs/images/github-button.png\n ** module id = 133\n ** module chunks = 0 2\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 134\n ** module chunks = 0 2\n **/","\"use strict\";\n\nimport React from \"react\";\nimport d3 from \"d3\";\n\nimport ReStock from \"../../../src/\";\n\nvar { ChartCanvas, Chart, EventCapture } = ReStock;\n\nvar { CandlestickSeries, BarSeries, LineSeries, AreaSeries, StochasticSeries, BollingerSeries } = ReStock.series;\nvar { discontinuousTimeScaleProvider } = ReStock.scale;\nvar { CrossHairCursor, MouseCoordinateX, MouseCoordinateY, CurrentCoordinate } = ReStock.coordinates;\nvar { EdgeIndicator } = ReStock.coordinates;\n\nvar { TooltipContainer, OHLCTooltip, MovingAverageTooltip, BollingerBandTooltip, StochasticTooltip } = ReStock.tooltip;\n\nvar { XAxis, YAxis } = ReStock.axes;\nvar { stochasticOscillator, ema, bollingerBand } = ReStock.indicator;\nvar { fitWidth } = ReStock.helper;\n\nclass CandleStickChartWithDarkTheme extends React.Component {\n\trender() {\n\t\tvar height = 750;\n\t\tvar { data, type, width } = this.props;\n\n\t\tvar margin = {left: 70, right: 70, top:20, bottom: 30};\n\n\t\tvar gridHeight = height - margin.top - margin.bottom;\n\t\tvar gridWidth = width - margin.left - margin.right;\n\n\t\tvar showGrid = true;\n\t\tvar yGrid = showGrid ? { innerTickSize: -1 * gridWidth, tickStrokeOpacity: 0.2 } : {};\n\t\tvar xGrid = showGrid ? { innerTickSize: -1 * gridHeight, tickStrokeOpacity: 0.2 } : {};\n\n\t\tvar ema20 = ema()\n\t\t\t.id(0)\n\t\t\t.windowSize(20)\n\t\t\t.merge((d, c) => {d.ema20 = c})\n\t\t\t.accessor(d => d.ema20);\n\n\t\tvar ema50 = ema()\n\t\t\t.id(2)\n\t\t\t.windowSize(50)\n\t\t\t.merge((d, c) => {d.ema50 = c})\n\t\t\t.accessor(d => d.ema50);\n\n\t\tvar slowSTO = stochasticOscillator()\n\t\t\t.windowSize(14)\n\t\t\t.kWindowSize(1)\n\t\t\t.stroke({ D: \"#ea2bff\", K: \"#74d400\", top: \"#37a600\", middle: \"#b8ab00\", bottom: \"#37a600\" })\n\t\t\t.merge((d, c) => {d.slowSTO = c})\n\t\t\t.accessor(d => d.slowSTO);\n\t\tvar fastSTO = stochasticOscillator()\n\t\t\t.windowSize(14)\n\t\t\t.kWindowSize(3)\n\t\t\t.stroke({ D: \"#ea2bff\", K: \"#74d400\", top: \"#37a600\", middle: \"#b8ab00\", bottom: \"#37a600\" })\n\t\t\t.merge((d, c) => {d.fastSTO = c})\n\t\t\t.accessor(d => d.fastSTO);\n\t\tvar fullSTO = stochasticOscillator()\n\t\t\t.windowSize(14)\n\t\t\t.kWindowSize(3)\n\t\t\t.dWindowSize(4)\n\t\t\t.stroke({ D: \"#ea2bff\", K: \"#74d400\" })\n\t\t\t.merge((d, c) => {d.fullSTO = c})\n\t\t\t.accessor(d => d.fullSTO);\n\n\t\tvar bb = bollingerBand()\n\t\t\t.stroke({ top: \"#964B00\", middle: \"#8c9900\", bottom: \"#964B00\" })\n\t\t\t.fill(\"#adffaf\");\n\n\t\treturn (\n\t\t\t<ChartCanvas width={width} height={750}\n\t\t\t\t\tmargin={margin} type={type}\n\t\t\t\t\tseriesName=\"MSFT\"\n\t\t\t\t\tdata={data} calculator={[ema20, ema50, slowSTO, fastSTO, fullSTO, bb]}\n\t\t\t\t\txAccessor={d => d.date} xScaleProvider={discontinuousTimeScaleProvider}\n\t\t\t\t\txExtents={[new Date(2012, 0, 1), new Date(2012, 6, 2)]}>\n\t\t\t\t<Chart id={1} height={325}\n\t\t\t\t\t\tyExtents={d => [d.high, d.low]}\n\t\t\t\t\t\tpadding={{ top: 10, bottom: 20 }}>\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={5} {...yGrid}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\" stroke=\"#FFFFFF\"/>\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0}\n\t\t\t\t\t\t\tstroke=\"#FFFFFF\" opacity={0.5}/>\n\n\t\t\t\t\t<MouseCoordinateY id={0}\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={d3.format(\".2f\")} />\n\n\t\t\t\t\t<CandlestickSeries\n\t\t\t\t\t\t\twickStroke={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}\n\t\t\t\t\t\t\tfill={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"} />\n\n\t\t\t\t\t<LineSeries yAccessor={ema20.accessor()} stroke={ema20.stroke()}/>\n\t\t\t\t\t<LineSeries yAccessor={ema50.accessor()} stroke={ema50.stroke()}/>\n\n\t\t\t\t\t<BollingerSeries calculator={bb} />\n\n\t\t\t\t\t<CurrentCoordinate id={1} yAccessor={ema20.accessor()} fill={ema20.stroke()} />\n\t\t\t\t\t<CurrentCoordinate id={2} yAccessor={ema50.accessor()} fill={ema50.stroke()} />\n\n\t\t\t\t\t<EdgeIndicator itemType=\"last\" orient=\"right\" edgeAt=\"right\"\n\t\t\t\t\t\tyAccessor={d => d.close} fill={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"}/>\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={2}\n\t\t\t\t\t\tyExtents={d => d.volume}\n\t\t\t\t\t\theight={100} origin={(w, h) => [0, h - 475]} >\n\t\t\t\t\t<YAxis axisAt=\"left\" orient=\"left\" ticks={5} tickFormat={d3.format(\"s\")}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\"/>\n\t\t\t\t\t<BarSeries\n\t\t\t\t\t\t\tyAccessor={d => d.volume}\n\t\t\t\t\t\t\tfill={d => d.close > d.open ? \"#6BA583\" : \"#DB0000\"} />\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={3}\n\t\t\t\t\t\tyExtents={slowSTO.domain()}\n\t\t\t\t\t\theight={125} origin={(w, h) => [0, h - 375]} padding={{ top: 10, bottom: 10 }} >\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0}\n\t\t\t\t\t\t\tstroke=\"#FFFFFF\" opacity={0.5} />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={2} tickValues={slowSTO.tickValues()}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\"/>\n\t\t\t\t\t<MouseCoordinateY id={0}\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={d3.format(\".2f\")} />\n\n\t\t\t\t\t<StochasticSeries calculator={slowSTO}\n\t\t\t\t\t\t\tstroke={{ top: \"#37a600\", middle: \"#b8ab00\", bottom: \"#37a600\" }}/>\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={4}\n\t\t\t\t\t\tyExtents={fastSTO.domain()}\n\t\t\t\t\t\theight={125} origin={(w, h) => [0, h - 250]} padding={{ top: 10, bottom: 10 }} >\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" showTicks={false} outerTickSize={0}\n\t\t\t\t\t\t\tstroke=\"#FFFFFF\" opacity={0.5} />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={2} tickValues={fastSTO.tickValues()}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\"/>\n\n\t\t\t\t\t<MouseCoordinateY id={0}\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={d3.format(\".2f\")} />\n\n\t\t\t\t\t<StochasticSeries calculator={fastSTO}\n\t\t\t\t\t\t\tstroke={{ top: \"#37a600\", middle: \"#b8ab00\", bottom: \"#37a600\" }}/>\n\t\t\t\t</Chart>\n\t\t\t\t<Chart id={5}\n\t\t\t\t\t\tyExtents={fullSTO.domain()}\n\t\t\t\t\t\theight={125} origin={(w, h) => [0, h - 125]} padding={{ top: 10, bottom: 10 }} >\n\t\t\t\t\t<XAxis axisAt=\"bottom\" orient=\"bottom\" {...xGrid}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\" stroke=\"#FFFFFF\" />\n\t\t\t\t\t<YAxis axisAt=\"right\" orient=\"right\" ticks={2} tickValues={fullSTO.tickValues()}\n\t\t\t\t\t\t\ttickStroke=\"#FFFFFF\"/>\n\n\t\t\t\t\t<MouseCoordinateX id={0}\n\t\t\t\t\t\tat=\"bottom\"\n\t\t\t\t\t\torient=\"bottom\"\n\t\t\t\t\t\tdisplayFormat={d3.time.format(\"%Y-%m-%d\")} />\n\t\t\t\t\t<MouseCoordinateY id={0}\n\t\t\t\t\t\tat=\"right\"\n\t\t\t\t\t\torient=\"right\"\n\t\t\t\t\t\tdisplayFormat={d3.format(\".2f\")} />\n\n\t\t\t\t\t<StochasticSeries calculator={fullSTO}\n\t\t\t\t\t\t\tstroke={{ top: \"#37a600\", middle: \"#b8ab00\", bottom: \"#37a600\" }}/>\n\t\t\t\t</Chart>\n\t\t\t\t<CrossHairCursor stroke=\"#FFFFFF\" />\n\t\t\t\t<EventCapture mouseMove zoom pan />\n\t\t\t\t<TooltipContainer>\n\t\t\t\t\t<OHLCTooltip forChart={1} origin={[-40, -10]}/>\n\t\t\t\t\t<MovingAverageTooltip forChart={1} onClick={(e) => console.log(e)} origin={[-38, 10]} \n\t\t\t\t\t\tcalculators={[ema20, ema50]}/>\n\t\t\t\t\t<BollingerBandTooltip forChart={1} origin={[-38, 60]} calculator={bb} />\n\t\t\t\t\t<StochasticTooltip forChart={3} calculator={slowSTO} origin={[-38, 15]}>Fast STO</StochasticTooltip>\n\t\t\t\t\t<StochasticTooltip forChart={4} calculator={fastSTO} origin={[-38, 15]}>Slow STO</StochasticTooltip>\n\t\t\t\t\t<StochasticTooltip forChart={5} calculator={fullSTO} origin={[-38, 15]}>Full STO</StochasticTooltip>\n\t\t\t\t</TooltipContainer>\n\t\t\t</ChartCanvas>\n\t\t);\n\t}\n}\nCandleStickChartWithDarkTheme.propTypes = {\n\tdata: React.PropTypes.array.isRequired,\n\twidth: React.PropTypes.number.isRequired,\n\ttype: React.PropTypes.oneOf([\"svg\", \"hybrid\"]).isRequired,\n};\n\nCandleStickChartWithDarkTheme.defaultProps = {\n\ttype: \"svg\",\n};\nCandleStickChartWithDarkTheme = fitWidth(CandleStickChartWithDarkTheme);\n\nexport default CandleStickChartWithDarkTheme;\n\n\n\n/** WEBPACK FOOTER **\n ** ./docs/lib/charts/CandleStickChartWithDarkTheme.jsx\n **/","module.exports = \"<h1>React Stockcharts</h1>\\n<p>Highly customizable stock charts built with <a href=\\\"http://facebook.github.io/react/\\\">React JS</a> and <a href=\\\"http://d3js.org/\\\">d3</a></p>\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./docs/md/MAIN.md\n ** module id = 299\n ** module chunks = 2\n **/"],"sourceRoot":""}